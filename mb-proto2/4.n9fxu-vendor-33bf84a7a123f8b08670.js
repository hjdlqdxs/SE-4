try{let Ce=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},ce=new Ce.Error().stack;ce&&(Ce._sentryDebugIds=Ce._sentryDebugIds||{},Ce._sentryDebugIds[ce]="6e9bf1be-a503-4acb-a69c-71ae48424914",Ce._sentryDebugIdIdentifier="sentry-dbid-6e9bf1be-a503-4acb-a69c-71ae48424914")}catch(Ce){}{let Ce=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};Ce.SENTRY_RELEASE={id:"22.3.10"}}(self.webpackChunk_mb2024_mb_proto=self.webpackChunk_mb2024_mb_proto||[]).push([[908],{1076:(Ce,ce,n)=>{"use strict";n.d(ce,{Ay:()=>u,X2:()=>p});const s={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",trial_end_on:null,next_billing_on:"",settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let p=function(B){return B.UpdateState="reducer:update:user",B.UpdateUser="reducer:update:user",B.UpdateOrg="reducer:update:org",B.UpdateSpace="reducer:update:space",B.UpdateFolderListMap="reducer:update:folderListMap",B.UpdateProjectListMap="reducer:update:projectListMap",B}({});const u=function(B,ee){B===void 0&&(B=s);const{type:V,payload:D}=ee;switch(V){case p.UpdateState:return{...B,...D};case p.UpdateUser:return{...B,user:{...B.user,...D}};case p.UpdateOrg:return{...B,org:{...B.org,...D}};case p.UpdateSpace:return{...B,space:{...B.space,...D}};case p.UpdateFolderListMap:return{...B,folderListMap:D};case p.UpdateProjectListMap:return{...B,projectListMap:D};default:return B}}},5649:(Ce,ce,n)=>{"use strict";n.d(ce,{s:()=>K,A:()=>Y});var s=n(95549),p=n(38502),N=n(53732),u=n.n(N),B=n(69173),ee=n.n(B),V=n(91752),D=n(39e3),X=n(23089),M=n(17307),R=n(83199),de=n(93257),O=n(57479),ue=n(69815),W=n(67787),G=n(69594);const I=(0,W.DU)([".no-pointer-events{pointer-events:none;user-select:none;&.col-resize{cursor:",";}&.row-resize{cursor:",";}}"],G.M.ewResizeActive,G.M.nsResizeActive),v=W.Ay.label.withConfig({displayName:"styles__StyledInputNumber",componentId:"sc-1hqayf3-0"})(['position:relative;display:flex;justify-content:space-between;align-items:center;min-width:2em;border:1px solid transparent;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;height:28px;font-size:12px;border-radius:6px;overflow:hidden;.title{display:flex;align-items:center;justify-content:center;padding:0 3px 0 5px;width:max-content;height:100%;user-select:none;color:',";&.title-cursor{&.col-resize{cursor:",";}&.row-resize{cursor:",";}}}.left-title{padding:0 13px 0 0;}.normal-right{margin-left:","px;}input{color:",";width:100%;height:100%;margin-left:8px;cursor:default;}.text-align-right{text-align:right;padding-right:2px;}.suffix{position:absolute;top:0;display:flex;align-items:center;height:100%;pointer-events:none;user-select:none;width:100%;color:",";&::before{content:attr(data-value);display:inline-block;margin-right:0.125em;width:fit-content;overflow:hidden;opacity:0;}}.action{position:absolute;top:0;right:0;width:14px;height:100%;text-align:center;visibility:hidden;svg{height:4px;fill:currentColor;fill-rule:evenodd;}button{display:block;margin:0;padding:0;width:100%;height:50%;line-height:0;color:",";&.no-transition{transition:none;}&:hover{color:",";}&:active{color:",";}&[data-action=up] svg{margin:5px 0 2px;}&[data-action=down] svg{margin:2px 0 5px;}}&.caret{width:26px;svg{width:26px;height:26px;margin-right:0;color:",";}button{height:100%;}&.active{visibility:visible;}}}&.is-disabled{> *{color:",";cursor:not-allowed;}}&.is-readOnly{pointer-events:none;.action{visibility:hidden;}}&:hover:not(.has-menu):not(.is-disabled){border:1px solid ",";.action{visibility:visible;color:#c8cdd0;}}&.is-active:not(.has-menu):not(.is-disabled){border:1px solid ",";outline:1px solid ",";outline-offset:-2px;.action{&:not(.caret){visibility:visible;}}}&.is-active-title{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;cursor:pointer;}&.has-menu{border:1px solid transparent;input{width:calc(100% - 26px);border:1px solid transparent;border-radius:4px 0 0 4px;margin-left:0;padding-left:5px;}&:hover:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&:active:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&.is-active{overflow:visible;input{border:1px solid ",";outline:1px solid ",";position:relative;z-index:2;}.action.caret{visibility:visible;color:#c8cdd0;position:relative;z-index:1;svg.icon{color:",";}&:hover{background:",";border-radius:0 4px 4px 0;outline:1px solid ",";}}}}"],P=>P.theme.color_text_L3,G.M.ewResize,G.M.nsResize,P=>31-P.valueLength*6,P=>P.theme.color_text_L1,P=>P.theme.color_text_L2,P=>P.theme.color_text_L3,P=>P.theme.color_text_L2,P=>P.theme.color_text_L2,P=>P.theme.color_text_L3,P=>P.theme.color_text_disabled01,P=>P.theme.color_bg_border_02,P=>P.theme.color_proto,P=>P.theme.color_proto,P=>P.theme.color_proto,P=>P.theme.color_proto,P=>P.theme.color_bg_border_02,P=>P.theme.color_btn_secondary_hover,P=>P.theme.color_text_L1,P=>P.theme.color_bg_border_02,P=>P.theme.color_btn_secondary_active,P=>P.theme.color_text_L1,P=>P.theme.color_proto,P=>P.theme.color_proto,P=>P.theme.color_text_L1,P=>P.theme.color_btn_secondary_hover,P=>P.theme.color_bg_border_02);var C=n(72214);const f=500,y=30,h=(P,H)=>Number(Number(P).toFixed(H));function b(P,H,m){return m===void 0&&(m=0),H?P:h(P!==""&&ee()(Number(P))?Number(P):"",m)}const S=function(P,H){let{shiftKey:m,metaKey:E}=P;return H===void 0&&(H=1),m?H*10:E?H*100:H},T=P=>{let{currentTarget:H}=P;return setTimeout(()=>H.select(),50)};class Y extends p.PureComponent{constructor(H){super(H),(0,s.A)(this,"setElemRef",m=>this.$title=m),(0,s.A)(this,"setLabelRef",m=>this.$label=m),(0,s.A)(this,"setInputRef",m=>this.$input=m),(0,s.A)(this,"onChange",m=>{const{target:{value:E}}=m,{isEditing:q}=this.state;!q&&this.setState({isEditing:!0});const te=E.trim();this.setValue(te,m)}),(0,s.A)(this,"correctNumber",m=>{const{value:E,min:q,max:te,precision:ne,suffix:se,parser:fe}=this.props,Oe=fe(m,se),Ye=h(Math.min(Math.max(Oe,q),te),ne);return isNaN(Ye)?E:Ye}),(0,s.A)(this,"checkValidity",m=>/^\+$/.test(m)?this.canBePositive:/^-$/.test(m)?this.canBeNegative:m===""||isFinite(m)&&this.correctNumber(m)===Number(m)),(0,s.A)(this,"setValue",(m,E,q)=>{E.persist&&E.persist(),this.setState({value:m},q)}),(0,s.A)(this,"setConfirmedValue",(m,E)=>this.setValue(m,E,()=>this.onConfirm(E))),(0,s.A)(this,"getConfirmValue",m=>{const{value:E,precision:q,shouldCorrectOnConfirm:te,onlyPreview:ne,fontSize:se,fontFamily:fe,isWRichText:Oe}=this.props,Ye=this.checkValidity(m);if(this.props.isDisabled||this.props.disabled)return E;const Re=this.correctNumber(m),mt=isNaN(Re)?E:Re;let De=m===""?E:Ye?/^[+-]$/.test(m)?0:ne?Math.min(Math.max(Number(m),20),400):Number(m):Re===h(m,q)?Re:te?mt:E||mt;return(!Ye||m==="")&&Oe&&(De=(0,ue.qp)(fe,se)),De}),(0,s.A)(this,"onConfirm",m=>{const{attr:E,onConfirm:q}=this.props,{value:te}=this.state,ne=this.getConfirmValue(te);return this.setState({value:ne,isEditing:!1},()=>q(ne,E,m,te))}),(0,s.A)(this,"focusOnInput",m=>{try{const E=m.currentTarget.closest("label").querySelector("input");setTimeout(()=>{E.focus()})}catch(E){console.error(E)}}),(0,s.A)(this,"onStep",async m=>{m.persist(),m.nativeEvent.stopPropagation(),this.handleBeforeChangeValue();const{parser:E,suffix:q}=this.props,{value:te}=this.state,ne=E(te,q),{action:se}=m.currentTarget.dataset,fe=S(m,this.props.step)*(se==="up"?1:-1);await this.focusOnInput(m),this.setConfirmedValue(this.correctNumber(ne+fe),m),Object.assign(this,{longPressedTimeout:setTimeout(()=>Object.assign(this,{steppingInterval:setInterval(()=>{const{parser:Oe,suffix:Ye}=this.props,{value:ke}=this.state,Re=Oe(ke,Ye);this.setConfirmedValue(this.correctNumber(Re+fe),m)},y)}),f)})}),(0,s.A)(this,"onRelease",()=>{clearTimeout(this.longPressedTimeout),clearInterval(this.steppingInterval),this.handleAfterChangeValue()}),(0,s.A)(this,"onFocus",m=>{const{attr:E,dontSelectOnFocus:q,onFocus:te=q?void 0:T}=this.props;this.state.isActive||this.setActive(),te(m,E)}),(0,s.A)(this,"onKeyDown",m=>{const{key:E,currentTarget:q}=m,{disableKeyboardEvents:te}=this.props;if(te&&(E===O._.ArrowUp||E===O._.ArrowDown)){m.preventDefault();return}const ne=E===O._.ArrowUp?"up":E===O._.ArrowDown?"down":E===O._.Enter?"enter":E===O._.Tab?"tab":null,se=q instanceof Element&&q.matches("input");if(ne){if(m.persist&&m.persist(),ne!=="tab"&&m.preventDefault(),se&&ne==="tab")return this.setInactive(),this.setState({isEditing:!1}),this.onConfirm(m);if(se&&ne==="enter"){m.stopPropagation(),this.onConfirm(m),this.setInactive(),this.setState({isEditing:!1}),this.$input.blur();return}if(se){const{parser:fe,suffix:Oe}=this.props,{value:Ye}=this.state,ke=fe(Ye,Oe),Re=S(m,this.props.step)*(ne==="up"?1:-1);this.handleBeforeChangeValue(),this.setState({isEditing:!1}),this.setConfirmedValue(this.correctNumber(ke+Re),m)}}}),(0,s.A)(this,"setActive",()=>{this.setState({isActive:!0}),MB&&MB.f&&(MB.f.isInSetting=!0);const{withToolTip:m,onChangeTooltipsHover:E}=this.props;m&&(this.setState({showTooltip:!1}),E&&E(!1))}),(0,s.A)(this,"setInactive",()=>{this.setState({isActive:!1,isEditing:!1}),MB&&MB.f&&(MB.f.isInSetting=!1)}),(0,s.A)(this,"toggleMenu",()=>this.setState({isMenuOpen:!this.state.isMenuOpen})),(0,s.A)(this,"closeMenu",()=>this.setState({isMenuOpen:!1})),(0,s.A)(this,"onSelect",m=>{m.persist();const{attr:E,onConfirm:q}=this.props,{currentTarget:te}=m,{value:ne}=te.dataset;this.setState({value:ne,isEditing:!1},()=>q(ne,E,m)),this.setInactive(),this.closeMenu()}),(0,s.A)(this,"onClickOutside",m=>{const{target:E}=m,{onClickOutside:q}=this.props;q&&!(q!=null&&q(m))||E.closest("label")&&this.$label.contains(E)||E.closest(".SelectOption")||(this.onConfirm(m),this.setInactive(),this.setState({isEditing:!1}))}),(0,s.A)(this,"onBlur",async m=>{await this.onConfirm(m),this.setState({isEditing:!1}),this.props.onBlur(m)}),(0,s.A)(this,"handleRectResize",m=>{m.stopPropagation();const{isDisabled:E,disabled:q,cursorSize:te,cursorDirection:ne,onResizeMove:se,onResizeEnd:fe,attr:Oe}=this.props;if(E||q)return;const{left:Ye,right:ke,top:Re,bottom:mt}=this.$title.getBoundingClientRect();this.lastRecordedClientX=te==="col-resize"?(Ye+ke)/2:(Re+mt)/2,this.lastRecordedValue=Number(this.state.value),this.setState({isTitleActive:!0}),document.querySelector("html").classList.add("no-pointer-events",te),sdkStore.combineMergeMark("input-number-"+Oe),this.handleBeforeChangeValue();const De=$=>{se&&se();const me=(te==="col-resize"?$.pageX:$.pageY)-this.lastRecordedClientX,Me=this.correctNumber(this.lastRecordedValue+(ne?Number(me):-Number(me)));this.setConfirmedValue(Me,$)},J=()=>{fe&&fe(),this.setState({isTitleActive:!1}),document.querySelector("html").classList.remove("no-pointer-events",te),this.handleAfterChangeValue(),sdkStore.combineMerge("input-number-"+Oe),document.removeEventListener("mousemove",De),document.removeEventListener("mouseup",J)};document.addEventListener("mousemove",De),document.addEventListener("mouseup",J)}),(0,s.A)(this,"handleChangeCursor",()=>{const{isDisabled:m,disabled:E}=this.props;m||E||this.setState({isCursor:!this.state.isCursor})}),(0,s.A)(this,"handleAfterChangeValue",()=>{const{onAfterChangeValue:m}=this.props;m()}),(0,s.A)(this,"handleBeforeChangeValue",()=>{const{onBeforeChangeValue:m}=this.props;m()}),(0,s.A)(this,"onInputNumberMouseEnter",m=>{const{onMouseEnter:E,withToolTip:q,onChangeTooltipsHover:te}=this.props;E(m),this.setState({mouseEntered:!0});const ne=()=>this.setState({showTooltip:!0});q&&(te?te(!0,ne):ne())}),(0,s.A)(this,"onInputNumberMouseLeave",m=>{const{onMouseLeave:E,withToolTip:q,onChangeTooltipsHover:te}=this.props;E(m),this.setState({mouseEntered:!1}),q&&(this.setState({showTooltip:!1}),te&&te(!1))}),this.state={prevProps:this.props,value:b(this.props.value,this.props.isNotVerify,this.props.precision),isActive:!1,isMenuOpen:!1,isTitleActive:!1,isCursor:!1,isEditing:!1,showTooltip:!1,mouseEntered:!1},this.lastRecordedClientX=null,this.lastRecordedValue=b(this.props.value,this.props.isNotVerify,this.props.precision),this.toolTipNode=document.getElementById("IBOT_TOOLTIP_ROOT")}static getDerivedStateFromProps(H,m){let{prevProps:E,value:q}=m;return E.value!==H.value||E.isNotVerify!==H.isNotVerify||E.precision!==H.precision?{prevProps:H,value:b(H.value,H.isNotVerify,H.precision)}:null}componentDidMount(){this.props.isSelect&&(this.$input.select(),this.setState({isActive:!0}))}componentDidUpdate(H){!H.isSelect&&this.props.isSelect&&this.$input.select()}componentWillUnmount(){if(!this.props.unMountCallback||!this.state.isActive)return;const{value:H,attr:m,unMountCallback:E}=this.props,{value:q}=this.state,te=this.getConfirmValue(q);String(H)!==String(te)&&E&&E(te,m,new Event("dummy"),q)}get canBePositive(){return this.props.max>0}get canBeNegative(){return this.props.min<0}render(){const{inputClassName:H,menuClassName:m,className:E="",placeholder:q,title:te,rightTitle:ne,cursorSize:se,suffix:fe,actionButton:Oe,formatter:Ye,optionList:ke,canSlidingAdjustment:Re,readOnly:mt,toolTipContent:De,showCaretIcon:J,normalRight:$,isLongTimeHoverForInput:me=!1}=this.props,{value:Me,isActive:Ee,isMenuOpen:Ge,isTitleActive:Se,isCursor:Ne,isEditing:Xe,showTooltip:nt,mouseEntered:yt}=this.state,xt=Me,bt=this.props.isDisabled||this.props.disabled,wt=ke&&ke.length>0,r=u()(E,"WorkspaceInputNumber",{"is-disabled":bt,"is-active":Ee&&!bt,"is-menu-open":Ge,"is-active-title":Se,"can-sliding-adjustment":Re,"has-menu":wt,"is-readOnly":mt}),pe=q,ve=String(Me).split(".").join("").length-1,je=me?R.A:de.A;return(0,C.jsx)(je,{content:De,direction:"down",children:(0,C.jsxs)(v,{className:r,ref:this.setLabelRef,onMouseDown:wt?void 0:this.setActive,onMouseEnter:this.onInputNumberMouseEnter,onMouseLeave:this.onInputNumberMouseLeave,valueLength:ve,children:[te&&(0,C.jsx)("span",{className:u()("title",{"title-cursor":Ne},se),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:te}),(0,C.jsx)("input",{className:u()(H,{"text-align-right":$&&!yt&&!Ee}),type:"text",value:Xe?xt:Ye(xt,fe),placeholder:pe,ref:this.setInputRef,disabled:bt,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.handleAfterChangeValue,onMouseDown:wt?this.setActive:void 0,onFocus:this.onFocus,onBlur:this.onBlur}),ne&&(0,C.jsx)("span",{className:u()("title","left-title",{"title-cursor":Ne},se),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:ne}),Oe&&(0,C.jsx)(d,{hasMenu:wt,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease,showCaretIcon:J}),wt&&Ge&&(0,C.jsx)(X.V0,{isOpen:Ge,menuClassName:u()("SelectNumberMenu",m),$select:this.$label,optionList:ke,value:xt,onChange:this.onSelect,onClose:this.closeMenu}),Ee&&(0,C.jsx)(D.A,{target:document,onMouseDown:(0,D.t)(this.onClickOutside,{capture:!0})})]})})}}(0,s.A)(Y,"defaultProps",{unstyled:!1,value:"",placeholder:"",cursorSize:"col-resize",inputClassName:"",menuClassName:"",cursorDirection:!0,step:1,isNotVerify:!1,formatter:(P,H)=>""+P+(H||""),parser:(P,H)=>{const m=P.toString();return H&&m.endsWith(H)?Number(m.slice(0,m.length-H.length)):Number(m)},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,actionButton:!0,isSelect:!1,onConfirm:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onAfterChangeValue:()=>null,onBeforeChangeValue:()=>null,onBlur:()=>null,shouldCorrectOnConfirm:!0,precision:0,dontSelectOnFocus:!1,canSlidingAdjustment:!0,isLineHeight:!1,disableKeyboardEvents:!1});const d=(0,p.memo)(P=>{let{hasMenu:H,onToggleMenu:m,onStep:E,onRelease:q,showCaretIcon:te}=P;return(0,C.jsxs)(p.Fragment,{children:[H?(0,C.jsx)("div",{className:u()("action caret",{active:te}),children:(0,C.jsx)(V.Ay,{className:"no-transition",type:"text",tabIndex:"-1",onClick:m,children:(0,C.jsx)(M.C,{name:"common/expand@26"})})}):(0,C.jsxs)("div",{className:"action",children:[(0,C.jsx)(V.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"up",onMouseDown:E,onMouseLeave:q,onMouseUp:q,children:(0,C.jsx)(M.C,{name:"general/triangle_up"})}),(0,C.jsx)(V.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"down",onMouseDown:E,onMouseLeave:q,onMouseUp:q,children:(0,C.jsx)(M.C,{name:"general/triangle_down"})})]}),(0,C.jsx)(I,{})]})}),K=P=>(0,C.jsx)(Y,{...P,isLongTimeHoverForInput:!0})},5743:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>p});var s=n(67787);const p=s.Ay.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-8fjrks-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],N=>N.theme.color_bg_white,N=>N.theme.color_text_L2)},5995:Ce=>{var ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function n(s){return s.match(ce)||[]}Ce.exports=n},12246:(Ce,ce,n)=>{"use strict";n.d(ce,{l:()=>s});const s=function(p,N,u,B){u===void 0&&(u=""),B===void 0&&(B=!1);let ee;return p?ee={mode:"org",orgCid:p.cid,payEntrance:N,checkoutArea:"proto",checkoutPlace:u||"org_use_vip_mkt"}:ee={mode:B?"org":"solo",isSelectOrg:!!B,payEntrance:N,checkoutArea:"proto",checkoutPlace:u||"solo_use_vip_mkt"},ee}},12603:(Ce,ce,n)=>{"use strict";n.d(ce,{W:()=>s,p:()=>p});let s=function(N){return N.Org="org",N.OrgSpace="space",N.Folder="folder",N.Project="project",N}({}),p=function(N){return N.OrgSpace="orgspace-permission-tip",N.OrgSpaceLimiter="orgspace-limiter-permission-tip",N.RootFolder="root-folder-permission-tip",N.SubFolder="sub-folder-permission-tip",N.Project="project-permission-tip",N}({})},13076:function(Ce){(function(ce,n){Ce.exports=n()})(this,function(){"use strict";return function(ce,n){n.prototype.isSameOrBefore=function(s,p){return this.isSame(s,p)||this.isBefore(s,p)}}})},16335:(Ce,ce,n)=>{"use strict";if(n.d(ce,{$r:()=>R,$z:()=>V,Aq:()=>de,Cp:()=>W,Jv:()=>v,PJ:()=>f,Uy:()=>M,Wu:()=>B,X:()=>X,Yk:()=>D,ZF:()=>I,a3:()=>ee,je:()=>C,rd:()=>G}),n.j!=15)var s=n(19249);var p=n(18833),N=n(47946);const u=300,B=async function(y){y===void 0&&(y="");const h=1;let b=[];try{const S=await(0,s.Yo)("/api/community/v1/workspace/my_star?page="+h+(y&&"&category="+y)+"&page_size="+u);S&&(b=S==null?void 0:S.market_templates.filter(T=>(T==null?void 0:T.version)!=="v1"))}catch(S){(0,p.$r)()}return b.map(S=>({...S,is_star:!0}))},ee=async y=>{await(0,s.Ds)("/api/community/v1/market_template/star/"+y)},V=async y=>{await(0,s.DW)("/api/community/v1/market_template/star/"+y)},D=async function(y,h){h===void 0&&(h=!0);let b;try{b=await(0,s.DE)("/api/community/v1/market_template/"+y)}catch(S){h&&(0,p.ai)(S)}return b},X=function(y){return y===void 0&&(y=""),(0,s.rh)("/api/community/v1/market_template?is_from_workspace=true&page="+1+y+"&page_size="+u)},M=async()=>{let y;try{y=await(0,s.DE)("/flpak/ww-p2recent")}catch(h){(0,p.$r)()}return y},R=async()=>{try{return await(0,s.DE)("/api/community/v1/hot_icons")}catch(y){(0,p.$r)()}},de=async()=>{try{return await(0,s.DE)("/api/community/v1/hot_color_icons")}catch(y){(0,p.$r)()}},O=y=>{let{category:h="combo_group",keyword:b=""}=y;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+h+"?q="+encodeURIComponent(b))},ue={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo",file:"proto"},W=y=>{let{projectUpperType:h="",projectUpperCid:b="",itemCid:S=""}=y;const T=h==="file"?{project_upper_type:ue[h]||h,project_upper_cid:b}:{project_upper_type:ue[h]||h,project_upper_cid:b,item_cid:S};return(0,s.Ds)("/api/community/v1/recent_template",T)},G=async y=>{const{sdkStore:h}=await(0,N.O3)({flpakKey:y});return h},I=async function(y){y===void 0&&(y="mobile");try{return(await(0,s.DE)("/api/market_template/v4/workspace/new_page_types?platform="+y)).types}catch(h){return console.error(h),[]}},v=async function(y){y===void 0&&(y="mobile");try{return await(0,s.DE)("/api/community/v1/workspace/recommend_page?platform="+y)}catch(h){return(0,p.$r)({onClick:b=>b({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:y,isReRequest:!0}})}),{}}},C=async y=>{let{platform:h,firstTypeCid:b,secondTypeCid:S=null,isPopup:T=!1}=y;const Y={first_type_cid:b,second_type_cid:S,platform:h,is_popup:T};let d=new URLSearchParams;d=Object.assign(d,Y);for(const[K,P]of Object.entries(d))P?P==="default"?d.delete(K):d.set(K,P):d.delete(K),K==="is_popup"&&P===!1&&d.delete(K);try{return await(0,s.DE)("/flpak/ww-p2pagemkt?"+d.toString())}catch(K){return(0,p.$r)({onClick:P=>P({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:h,isReRequest:!0}})}),{}}},f=async()=>{try{const{color_icon_groups:y}=await(0,s.DE)("/api/community/v1/color_icon_groups");return y&&y.length>0?y.reduce((h,b)=>(h[b.source_upper_cid]=b,h),{}):{}}catch(y){return(0,p.$r)(),{}}}},16615:(Ce,ce,n)=>{"use strict";n.d(ce,{qk:()=>G,I2:()=>O,ZI:()=>ue});const s={set:function(I,v,C,f){f===void 0&&(f="/");let y="";if(y+=I+"="+encodeURIComponent(v),f&&(y+=";path="+f),C){const h=new Date;h&&(h.setTime(h.getTime()+C*1e3),y+=";expires="+h.toUTCString())}document.cookie=y},get:function(I){const v=document.cookie.split(";");let C="";for(let f=0;f<v.length;f++){const y=v[f].indexOf(I);if(y!==-1){C=v[f].substring(y+I.length+1,v[f].length);break}}return C}},p=function(I,v){if(I!=="visit")return;const C="visit_id",f=60*24*3600;return s.set(C,v,f,"/"),v},N=function(){const I=s.get("visit_id");if(I&&I!="")return I;const v=new Date,C=v.getFullYear().toString().substr(2,2),f=v.getMonth()+1,y=v.getDate(),h=v.getHours(),b=v.getMinutes(),S=v.getSeconds(),T=v.getMilliseconds();let Y=Math.round(Math.random()*Math.random()*1e4).toString();const d=Y.length;d===1?Y=Y+"000":d===2?Y=Y+"00":d===3&&(Y=Y+"0");let K="2_"+C;return K+=f<10?"0"+f:f,K+=y<10?"0"+y:y,K+=h<10?"0"+h:h,K+=b<10?"0"+b:b,K+=S<10?"0"+S:S,T<10?K+="00"+T:T<100?K+="0"+T:K+=T,K+="_"+Y,p("visit",K),K};var u=function(I){return I.WWW="www",I.WWW_TEST="www-test",I.OVERSEA="oversea",I.OVERSEA_TEST="oversea-test",I}(u||{});const B={www:"https://sc.bosyun.cn","www-test":"https://sc.bosyun.cn",oversea:"https://sc.bosyun.net","oversea-test":"https://sc.bosyun.net"},ee="MD_",V="modao",D=()=>{let I=u.WWW;return/^([a-z0-9]+\.)*mockitt\.com$/.test(location.host)&&(I=u.OVERSEA),I},X=()=>{const I=window.sensorsDataAnalytic201505;if(!I)return;const v=D();I.init({name:"sensors",server_url:B[v]+"/sa.gif?project=production",is_track_single_page:!1,use_client_time:!0,show_log:!1,send_type:"beacon",heatmap:{clickmap:"not_collect",scroll_notice_map:"not_collect"}}),I.identify(N(),!0),I.registerPage({product:V}),window.sensors=I},M=function(I){var v;if(window.sensors){I=""+ee+I;for(var C=arguments.length,f=new Array(C>1?C-1:0),y=1;y<C;y++)f[y-1]=arguments[y];(v=window.sensors)==null||v.track(I,...f)}},R=function(){return window.sensors&&window.sensors.setOnceProfile(...arguments)},de=function(){return window.sensors&&window.sensors.setProfile(...arguments)},O=ENV.NO_TRACK?()=>{}:X,ue=ENV.NO_TRACK?()=>{}:M,W=ENV.NO_TRACK?()=>{}:R,G=ENV.IS_MO?I=>{if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:I,transport_type:"beacon"})}:()=>{}},18833:(Ce,ce,n)=>{"use strict";n.d(ce,{$r:()=>X,AG:()=>B,FY:()=>u,K7:()=>D,ai:()=>ee,m0:()=>V});var s=n(19249),p=n(87612),N=n(88856);const u=async(M,R)=>{if((0,p.p)("[alertAsyncBlocked]",M,{url:M.url,status:M.status}),M.status===403||/403/.test(M.message)){var de;(de=MB)==null||(de=de.messageBucket)==null||de.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>R?R():MB.global.onBackButtonClick())}else if(M.status===401||/401/.test(M.message))D(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>R?R():B());else{var O;const ue=String(M.status||M.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);(O=MB)==null||(O=O.messageBucket)==null||O.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,ue)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,ue),isHTML:!0})}},B=async()=>{try{await(0,s.DE)("/api/web/v3/initial"),location.reload()}catch(M){const R=location.origin+"/signin?next="+location.pathname;location.href=R}},ee=M=>{M.status===404&&M.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},V=async(M,R)=>{M.status===403||/403/.test(M.message)?R():(M.status===401||/401/.test(M.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>B())},D=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")},X=function(M){let{onClick:R}=M===void 0?{}:M;R&&!ENV.IS_MO?MB.notice({text:window.I18N.dModule.network_api_error_1,CustomChildComponent:(0,N.DV)({onClick:R}),type:"error",duration:5e3}):MB.notice({text:window.I18N.dModule.network_api_error,type:"error"})}},18941:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>p});var s=n(22756);function p(N,u){N.prototype=Object.create(u.prototype),N.prototype.constructor=N,(0,s.A)(N,u)}},19481:(Ce,ce,n)=>{"use strict";n.d(ce,{FU:()=>u,OO:()=>V,Z8:()=>p,au:()=>ee,lY:()=>B,p_:()=>N,zB:()=>s});const s={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},p={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},N={org_owner:s.OWNER,org_manager:s.SUPERMANAGER,org_admin:s.MANAGER,org_member:s.MEMBER,org_viewer:s.VIEWER},u={space_owner:s.MANAGER,space_manager:s.MANAGER,space_member:s.MEMBER,space_viewer:s.VIEWER,space_limiter:s.LIMITER},B={team_owner:s.MANAGER,team_manager:s.MANAGER,team_member:s.MEMBER,team_viewer:s.VIEWER,team_none:s.VIEWER,team_ban_viewer:s.BANNED},ee=Object.assign({project_owner:s.MANAGER,project_team_owner:s.MANAGER,project_manager:s.MANAGER,project_member:s.MEMBER,project_viewer:s.VIEWER,project_none:s.VIEWER,project_ban_viewer:s.BANNED},B),V={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},D={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},19631:(Ce,ce,n)=>{var s=n(5995),p=n(60820),N=n(59696),u=n(96411);function B(ee,V,D){return ee=N(ee),V=D?void 0:V,V===void 0?p(ee)?u(ee):s(ee):ee.match(V)||[]}Ce.exports=B},21066:(Ce,ce,n)=>{"use strict";n.d(ce,{m:()=>Oe,cG:()=>mt,Dr:()=>Ye,aM:()=>ke,Ay:()=>fe});var s=n(25582),p=n.n(s),N=n(38502),u=n(69623),B=n(67787),ee=n(53732),V=n.n(ee),D=n(51582);class X{constructor(J,$){J===void 0&&(J=0),$===void 0&&($=0),this.x=J,this.y=$}inside(J){const{left:$,right:me,top:Me,bottom:Ee}=J;return this.x>=$&&this.x<=me&&this.y>=Me&&this.y<=Ee}}const M=(0,N.createContext)(""),R=De=>{if(!De)return;const J=De.getBoundingClientRect(),$=De.classList.contains("sub-menu"),me=1/.8,Me=1/(.8*.9);if($){const Ge=document.getElementById("root-menu").getBoundingClientRect();Ge.top+(J.top-Ge.top)*me+J.height*Me>window.innerHeight-28&&De.classList.add("top"),Ge.left+(J.left-Ge.left)*me+J.width*Me>window.innerWidth&&De.classList.add("left");return}if(J.left+J.width*me>window.innerWidth-28&&De.classList.add("left"),J.height>window.innerHeight){De.style.height=window.innerHeight+"px",De.style.overflow="auto",De.style.overflowX="hidden",De.style.marginTop=-J.top+"px";return}J.top+J.height<window.innerHeight||(De.style.marginTop=window.innerHeight-(J.top+J.height)+"px")},de=function(De,J,$,me,Me,Ee){let{subMenuLeftOffset:Ge,subMenuTopOffset:Se}=Me;if(Ee===void 0&&(Ee=!1),!De||!J)return;const Ne=J.getBoundingClientRect(),Xe=J.getBoundingClientRect(),nt=1/.9,{left:yt,top:xt}=$;Ne.top+Ne.height*nt>window.innerHeight-28?Ne.top-Ne.height*nt>0?(De.style.bottom="-4px",De.style.top="unset"):De.style.marginTop=window.innerHeight-28-(Ne.top+Ne.height*nt)+"px":De.style.top=Ne.top-xt-11+"px",Ne.left+Ne.width*nt>window.innerWidth?(De.style.right=Ne.left+"px",De.style.left="unset"):De.style.left=Ne.right-yt-1+12*Ee+"px",me==="left"&&(De.style.left=-2*Ne.width-12-22*Ee+"px"),Ge&&(De.style.left=parseInt(De.style.left)+Ge+4*Ee+"px"),Se&&(De.style.top=parseInt(De.style.top)+Se+"px"),De.style.maxHeight=window.innerHeight-Xe.top+"px"},O=function(De,J,$,me,Me,Ee,Ge){let{subMenuLeftOffset:Se,subMenuTopOffset:Ne}=Me;if(Ee===void 0&&(Ee=!1),!De||!J)return;const Xe=Ge.getBoundingClientRect(),nt=J.getBoundingClientRect(),yt=J.getBoundingClientRect(),{left:xt,top:bt}=$,{top:wt}=Xe;De.style.top=nt.top-wt-11+"px",De.style.left=nt.right-xt-1+12*Ee+"px",me==="left"&&(De.style.left=-2*nt.width-12-22*Ee+"px"),Se&&(De.style.left=parseInt(De.style.left)+Se+4*Ee+"px"),De.style.maxHeight=window.innerHeight-yt.top+"px"},ue=(De,J)=>{let{x:$,y:me}=De,Me=!1;for(let Ee=0,Ge=J.length-1;Ee<J.length;Ge=Ee++){let{x:Se,y:Ne}=J[Ee],{x:Xe,y:nt}=J[Ge];Ne>me!=nt>me&&$<(Xe-Se)*(me-Ne)/(nt-Ne)+Se&&(Me=!Me)}return Me};var W=n(60719);const G=(0,B.AH)(["background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;color:#fff;border:1px solid #454647;"]),I=B.Ay.div.withConfig({displayName:"styles__StyledMask",componentId:"sc-h83js-0"})(["position:fixed;top:0;left:0;right:0;width:100vw;height:100vh;z-index:199;"]),v=B.Ay.div.withConfig({displayName:"styles__StyledContextMenu",componentId:"sc-h83js-1"})(["position:fixed;z-index:200;&.size-small > ul{min-width:120px;}ul{list-style:none;}& > ul{position:absolute;top:0;left:0;padding:8px 0;min-width:200px;margin:0;",";&.top{top:initial !important;bottom:-8px;}&.left{left:initial;right:100%;}&.top.left{}&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}}"],G),C=B.Ay.ul.withConfig({displayName:"styles__StyledSubMenu",componentId:"sc-h83js-2"})(["position:absolute;min-width:200px;max-height:500px;padding:4px 0;",";opacity:0;pointer-events:none;overflow-x:hidden;margin:0;&:lang(ja){min-width:260px;}&.is-show{opacity:1;pointer-events:auto;}&.inner-sub{overflow-x:unset;}&.is-normal{li.MenuItem{& > a{padding-left:32px;}&.hasIcon{> a{padding-left:15px;}}}}&.is-airy{li.MenuItem{& > a{padding-left:29px;}&.hasIcon{> a{padding-left:12px;}}}}"],G),f=B.Ay.li.withConfig({displayName:"styles__StyledMenuItem",componentId:"sc-h83js-3"})(["position:relative;a{height:28px;padding-left:16px;display:flex;align-items:center;color:#fff;padding-right:10px;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}}& > span{white-space:nowrap;margin-right:16px;.invisible{width:20px;height:20px;display:inline-block;color:",";margin-top:-3px;}}.selected-icon{width:8px;margin-right:9px;}.right-arrow{margin-left:auto;margin-right:-4px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}.shortcut{display:flex;align-items:center;color:#999;.mac{font-size:16px;margin-right:2px;}}.shortfont{display:flex;margin-left:auto;kbd{display:inline-block;text-align:center;min-width:12px;color:rgba(255,255,255,0.7);font-family:Inter;&.key-cmd{width:13px;text-align:right;}&:first-child{margin-left:0;}&:last-child{margin-right:0;}}}}&.hasDivider{a{margin-bottom:4px;}}&:not(.disabled).active{a{background:#666;}}&.disabled{*{cursor:not-allowed;}a{color:rgba(255,255,255,0.22);.right-arrow svg > path{fill:rgba(255,255,255,0.22);}.shortfont kbd{color:rgba(255,255,255,0.22);}}}"],W.f.color_text_L2.value_dark),y=B.Ay.li.withConfig({displayName:"styles__StyledMenuItemFont",componentId:"sc-h83js-4"})(["position:relative;a{height:28px;display:flex;align-items:center;color:#fff;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;&.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}&.is-svg{height:14px;}}& > span{white-space:nowrap;margin-left:20px;}.selected-icon{width:16px;position:absolute;}.right-arrow{margin-right:8px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}}&:not(.disabled).active{a{background:#666;}}"]);var h=n(72214);function b(De,J,$){return(J=S(J))in De?Object.defineProperty(De,J,{value:$,enumerable:!0,configurable:!0,writable:!0}):De[J]=$,De}function S(De){var J=T(De,"string");return typeof J=="symbol"?J:J+""}function T(De,J){if(typeof De!="object"||!De)return De;var $=De[Symbol.toPrimitive];if($!==void 0){var me=$.call(De,J||"default");if(typeof me!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(De)}const Y=(0,h.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M5.5 5.04031L5.5 10.9597C5.5 11.3789 5.98497 11.612 6.31235 11.3501L10.012 8.39043C10.2622 8.19027 10.2622 7.80973 10.012 7.60957L6.31235 4.64988C5.98497 4.38797 5.5 4.62106 5.5 5.04031Z",fill:"white",fillOpacity:"0.9"})}),d="M1016 416L1016 -1856L328 -1856L328 416ZM512 -320L832 -320L832 -64L512 -64ZM512 -704L576 -704L576 -512L768 -512L768 -640L704 -640L704 -576L640 -576L640 -704L832 -704L832 -448L512 -448ZM512 192L728 64L512 64L512 0L832 0L832 65L617 192L832 192L832 256L512 256ZM512 -1408L704 -1408L704 -1248L832 -1248L832 -1184L512 -1184ZM512 -1536L624 -1536L624 -1632L512 -1632L512 -1696L832 -1696L832 -1632L688 -1632L688 -1536L832 -1536L832 -1472L512 -1472ZM512 -960L640 -960L640 -1056L512 -1056L512 -1120L832 -1120L832 -1056L704 -1056L704 -896L512 -896ZM512 -832L768 -832L768 -992L832 -992L832 -768L512 -768ZM768 -128L768 -256L576 -256L576 -128ZM640 -1248L640 -1344L576 -1344L576 -1248Z",K="M800 -800L800 -1240L1240 -1240L1240 -800Z",P="M860 416L172 416L548 -1856L1236 -1856ZM478 -320L436 -64L756 -64L798 -320ZM542 -704L499 -448L819 -448L862 -704L670 -704L648 -576L712 -576L723 -640L787 -640L766 -512L574 -512L606 -704ZM393 192L383 256L703 256L713 192L498 192L734 65L745 0L425 0L414 64L630 64ZM658 -1408L621 -1184L941 -1184L952 -1248L824 -1248L850 -1408ZM679 -1536L669 -1472L989 -1472L999 -1536L855 -1536L871 -1632L1015 -1632L1026 -1696L706 -1696L695 -1632L807 -1632L791 -1536ZM584 -960L573 -896L765 -896L792 -1056L920 -1056L930 -1120L610 -1120L600 -1056L728 -1056L712 -960ZM563 -832L552 -768L872 -768L909 -992L845 -992L819 -832ZM702 -128L510 -128L531 -256L723 -256ZM760 -1248L696 -1248L711 -1344L775 -1344Z",H="M1016 416L328 416L328 -1856L1016 -1856ZM512 -320L512 -64L832 -64L832 -320ZM512 -704L512 -448L832 -448L832 -704L640 -704L640 -576L704 -576L704 -640L768 -640L768 -512L576 -512L576 -704ZM512 192L512 256L832 256L832 192L617 192L832 65L832 0L512 0L512 64L728 64ZM512 -1408L512 -1184L832 -1184L832 -1248L704 -1248L704 -1408ZM512 -1536L512 -1472L832 -1472L832 -1536L688 -1536L688 -1632L832 -1632L832 -1696L512 -1696L512 -1632L624 -1632L624 -1536ZM512 -960L512 -896L704 -896L704 -1056L832 -1056L832 -1120L512 -1120L512 -1056L640 -1056L640 -960ZM512 -832L512 -768L832 -768L832 -992L768 -992L768 -832ZM768 -128L576 -128L576 -256L768 -256ZM640 -1248L576 -1248L576 -1344L640 -1344Z",m=3;let E=[],q=!1;const te=new Map,ne=De=>{E.push(De),E.length>m&&E.shift()},se=De=>{De.ctrlKey===!0&&De.preventDefault()};class fe extends N.PureComponent{constructor(J){super(J),b(this,"setMenuRef",$=>this.$menu=$),b(this,"createContextMenuRef",$=>this.$mountRoot=$),b(this,"mousewheelHandle",$=>{const me=$.deltaX||$.wheelDeltaX;if(!me||!this.$elem)return;const Me=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&me>0,Ee=this.$elem.scrollLeft===0&&me<0;(Me||Ee)&&$.preventDefault()}),b(this,"handleClose",$=>{const{onClose:me}=this.props;me&&me($)}),b(this,"handleCloseMouse",$=>{$.button===2&&this.handleClose($)}),b(this,"handleClickMenu",$=>{const{alwaysOpen:me}=this.props;me||this.handleClose($)}),b(this,"handleUpdateState",$=>this.setState({...$})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),!this.props.style&&R(this.$menu),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle),this.$elem&&this.$elem.addEventListener("wheel",se)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),this.$elem&&this.$elem.removeEventListener("wheel",se,{capture:!0}),E=[],q=!1,this.$elem&&document.body.contains(this.$elem)&&document.body.removeChild(this.$elem)}preventDefault(J){J.preventDefault()}render(){const{position:J,children:$,className:me,style:Me={}}=this.props,{top:Ee,left:Ge}=J,{activePath:Se,showSubMenu:Ne}=this.state;return(0,u.createPortal)((0,h.jsx)(I,{className:"context-menu-mask",onMouseDown:this.handleClose,onClick:this.handleClickMenu,children:(0,h.jsx)(v,{ref:this.createContextMenuRef,style:{top:Ee+2,left:Ge+2,...Me},className:me,onContextMenu:this.preventDefault,children:(0,h.jsx)("ul",{ref:this.setMenuRef,children:(0,h.jsx)(M.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:J,activePath:Se,showSubMenu:Ne,onUpdateState:this.handleUpdateState},children:$})})})}),this.$elem)}}b(fe,"propTypes",{className:p().string,position:p().object,children:p().oneOfType([p().element,p().array]),style:p().object,onClose:p().func,alwaysOpen:p().bool});class Oe extends N.PureComponent{constructor(J){super(J),b(this,"setMenuRef",$=>this.$menu=$),b(this,"createContextMenuRef",$=>this.$mountRoot=$),b(this,"mousewheelHandle",$=>{const me=$.deltaX||$.wheelDeltaX;if(!me||!this.$elem)return;const Me=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&me>0,Ee=this.$elem.scrollLeft===0&&me<0;(Me||Ee)&&$.preventDefault()}),b(this,"handleClose",$=>{const{onClose:me}=this.props;me&&me($)}),b(this,"handleCloseMouse",$=>{$.button===2&&this.handleClose($)}),b(this,"handleClickMenu",$=>{const{alwaysOpen:me}=this.props;me||this.handleClose($)}),b(this,"handleUpdateState",$=>this.setState({...$})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),E=[],q=!1,this.$elem&&document.body.contains(this.$elem)&&document.body.removeChild(this.$elem)}preventDefault(J){J.preventDefault()}render(){const{position:J,children:$,className:me,style:Me={}}=this.props,{top:Ee,left:Ge}=J,{activePath:Se,showSubMenu:Ne}=this.state;return(0,h.jsx)(v,{ref:this.createContextMenuRef,style:{top:Ee+2,left:Ge+2,...Me},className:me,onContextMenu:this.preventDefault,children:(0,h.jsx)("ul",{ref:this.setMenuRef,children:(0,h.jsx)(M.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:J,activePath:Se,showSubMenu:Ne,onUpdateState:this.handleUpdateState,containerRef:this.$elem,isEmbed:!0},children:$})})})}}b(Oe,"propTypes",{className:p().string,position:p().object,children:p().oneOfType([p().element,p().array]),style:p().object,onClose:p().func,alwaysOpen:p().bool});class Ye extends N.PureComponent{constructor(){super(...arguments),b(this,"createMenuItemRef",J=>this.$menuItemRef=J),b(this,"createSubMenuRef",J=>this.$subMenuRef=J),b(this,"handleActiveItem",(J,$)=>{const{children:me}=this.props;$({activePath:J,showSubMenu:!!me})}),b(this,"handleMouseEnter",(J,$,me)=>{const{onMouseEnter:Me}=this.props;Me&&Me(J),q?setTimeout(()=>{if(this.$menuItemRef&&E.length>0){const Ee=this.$menuItemRef.getBoundingClientRect();E.slice(-1)[0].inside(Ee)&&this.handleActiveItem($,me)}},200):this.handleActiveItem($,me)}),b(this,"handleMouseLeave",async(J,$,me,Me)=>{const{onMouseLeave:Ee}=this.props;if(Ee&&Ee(J),me&&this.$subMenuRef){const Ge=this.$subMenuRef.getBoundingClientRect();if(Ge&&E.length>0){const{left:Se,top:Ne,bottom:Xe}=Ge,nt=new X(Se,Ne),yt=new X(Se,Xe),xt=[E[0],nt,yt],bt=new X(J.clientX,J.clientY);if(ue(bt,xt)){q=!0;return}}}if($){Me({activePath:$.dataset.index.split(","),showSubMenu:!0}),q=!1;return}Me({activePath:[],showSubMenu:!1}),q=!1}),b(this,"handleMouseMove",J=>{const $=new X(J.clientX,J.clientY);ne($)}),b(this,"handleMouseDown",J=>J.stopPropagation()),b(this,"handleGetCanActiveSubMenu",(J,$,me)=>{let Me=!1;return $&&(J&&$.join("")===me.join("")||$.slice(0,me.length).join("")===me.join(""))&&(Me=!0),Me}),b(this,"handleGetPath",J=>{const{dataIndex:$,text:me}=this.props,Me=$!==void 0?$:me;return J?J.dataset.index.split(",").concat(Me):[Me]}),b(this,"handleClick",J=>{const{disabled:$,onClick:me,canClick:Me,children:Ee}=this.props;(Me||!$)&&me&&me(J),(Ee||$)&&J.stopPropagation()})}render(){const{icon:J,text:$,children:me,disabled:Me,hotKeyText:Ee,className:Ge,dataType:Se,subMenuClassName:Ne,subMenuDirection:Xe,subMenuLeftOffset:nt,subMenuTopOffset:yt,isVisible:xt,isAiry:bt=!1}=this.props;return(0,h.jsx)(M.Consumer,{children:wt=>{const{contextMenuPosition:r,mountRoot:pe,activePath:ve,showSubMenu:je,parentRef:Ve,onUpdateState:et,isEmbed:dt=!1}=wt,Nt=this.handleGetPath(Ve),Ht=this.handleGetCanActiveSubMenu(je,ve,Nt);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f,{ref:this.createMenuItemRef,className:V()("MenuItem",{disabled:Me,hasIcon:J},Ge,{active:Ht}),"data-type":Se,"data-index":Nt,onMouseEnter:$t=>this.handleMouseEnter($t,Nt,et),onMouseLeave:$t=>this.handleMouseLeave($t,Ve,je,et),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:(0,h.jsxs)("a",{children:[J,(0,h.jsxs)("span",{children:[(0,h.jsx)("span",{className:"text",children:$}),xt?(0,h.jsx)(D.A,{className:"invisible",name:"eyeinvisible"}):null]}),me&&(0,h.jsx)("div",{className:"right-arrow",children:Y}),Ee&&Ee.length>0&&(0,h.jsx)("div",{className:"shortfont",children:Ee.map(($t,Xt)=>(0,h.jsx)("kbd",{children:$t},Xt))})]})}),me&&Ht&&!Me&&(0,u.createPortal)((0,h.jsx)(Re,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:r,subMenuDirection:Xe,subMenuLeftOffset:nt,subMenuTopOffset:yt,className:Ne,mountRoot:pe,isEmbed:dt,isAiry:bt,children:(0,h.jsx)(M.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:pe,contextMenuPosition:r,activePath:ve,showSubMenu:je,onUpdateState:et},children:me})}),pe)]})}})}}b(Ye,"propTypes",{icon:p().object,text:p().string.isRequired,className:p().string,disabled:p().bool,canClick:p().bool,children:p().oneOfType([p().element,p().array]),hotKeyText:p().array,onClick:p().func,onMouseEnter:p().func,onMouseLeave:p().func,dataType:p().number,dataIndex:p().oneOfType([p().number,p().string]),subMenuClassName:p().string,subMenuDirection:p().string,subMenuLeftOffset:p().number,subMenuTopOffset:p().number,isVisible:p().bool,isAiry:p().bool}),b(Ye,"defaultProps",{subMenuClassName:""});class ke extends N.PureComponent{constructor(J){super(J),b(this,"createMenuItemRef",Se=>this.$menuItemRef=Se),b(this,"createSubMenuRef",Se=>this.$subMenuRef=Se),b(this,"spanRef",Se=>this.$spanRef=Se),b(this,"handleActiveItem",(Se,Ne)=>{const{children:Xe}=this.props;Ne({activePath:Se,showSubMenu:!!Xe})}),b(this,"handleMouseEnter",(Se,Ne,Xe)=>{const{onMouseEnter:nt}=this.props;nt&&nt(Se),q?setTimeout(()=>{if(this.$menuItemRef&&E.length>0){const yt=this.$menuItemRef.getBoundingClientRect();E.slice(-1)[0].inside(yt)&&this.handleActiveItem(Ne,Xe)}},200):this.handleActiveItem(Ne,Xe)}),b(this,"handleMouseLeave",async(Se,Ne,Xe,nt)=>{const{onMouseLeave:yt}=this.props;if(yt&&yt(Se),Xe&&this.$subMenuRef){const xt=this.$subMenuRef.getBoundingClientRect();if(xt&&E.length>0){const{left:bt,top:wt,bottom:r}=xt,pe=new X(bt,wt),ve=new X(bt,r),je=[E[0],pe,ve],Ve=new X(Se.clientX,Se.clientY);if(ue(Ve,je)){q=!0;return}}}if(Ne){nt({activePath:Ne.dataset.index.split(","),showSubMenu:!0}),q=!1;return}nt({activePath:[],showSubMenu:!1}),q=!1}),b(this,"handleMouseMove",Se=>{const Ne=new X(Se.clientX,Se.clientY);ne(Ne)}),b(this,"handleMouseDown",Se=>Se.stopPropagation()),b(this,"handleGetCanActiveSubMenu",(Se,Ne,Xe)=>{let nt=!1;return Ne&&(Se&&Ne.join("")===Xe.join("")||Ne.slice(0,Xe.length).join("")===Xe.join(""))&&(nt=!0),nt}),b(this,"handleGetPath",Se=>{const{dataIndex:Ne,text:Xe}=this.props,nt=Ne!==void 0?Ne:Xe;return Se?Se.dataset.index.split(",").concat(nt):[nt]}),b(this,"handleClick",Se=>{const{disabled:Ne,onClick:Xe,canClick:nt,children:yt}=this.props;(nt||!Ne)&&Xe&&Xe(Se),(yt||Ne)&&Se.stopPropagation()});const{text:$,fontUrl:me,usePlainText:Me}=this.props,Ee="U="+me+"&T="+$,Ge=te.get(Ee);Me?this.state={renderContent:J.text,contentType:"text"}:this.state={renderContent:(Ge==null?void 0:Ge.content)||J.text,contentType:(Ge==null?void 0:Ge.type)||"text"}}async componentDidMount(){const{text:J,fontUrl:$,usePlainText:me}=this.props;if(me)return;const Me="U="+$+"&T="+J;if(!te.get(Me)){if(!$){te.set(Me,{type:"text",content:J});return}try{const Ee=await(await fetch("/flatkiq/fontsvg/sync.svg?"+Me)).text();if(Ee!==""){const Ge=[...new DOMParser().parseFromString(Ee,"text/html").querySelectorAll("path")].map(Se=>Se.getAttribute("d"));if(Ge.find(Se=>Se===d||Se===K||Se===P||Se===H)){te.set(Me,{type:"text",content:J});return}Ge.filter(Boolean).length!==J.split("").filter(Se=>Se!==" ").length?te.set(Me,{type:"text",content:J}):(te.set(Me,{type:"svg",content:Ee}),this.setState({renderContent:Ee,contentType:"svg"}))}else te.set(Me,{type:"text",content:J})}catch(Ee){console.error(Ee),te.set(Me,{type:"text",content:J})}}}render(){const{icon:J,children:$,disabled:me,className:Me,dataType:Ee,subMenuClassName:Ge,subMenuDirection:Se,subMenuLeftOffset:Ne,subMenuTopOffset:Xe,tooltipComponent:nt=null,tooltipWrapper:yt=null}=this.props,{renderContent:xt,contentType:bt}=this.state;return(0,h.jsx)(M.Consumer,{children:wt=>{const{contextMenuPosition:r,mountRoot:pe,activePath:ve,showSubMenu:je,parentRef:Ve,onUpdateState:et,isEmbed:dt=!1}=wt,Nt=this.handleGetPath(Ve),Ht=this.handleGetCanActiveSubMenu(je,ve,Nt),$t=(0,h.jsxs)("a",{children:[J,(0,h.jsx)("span",{dangerouslySetInnerHTML:{__html:xt},className:V()("text",{"is-svg":bt==="svg"})}),nt,$&&(0,h.jsx)("div",{className:"right-arrow",children:Y})]});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y,{ref:this.createMenuItemRef,className:V()("MenuItem",{disabled:me,hasIcon:J},Me,{active:Ht}),"data-type":Ee,"data-index":Nt,onMouseEnter:Xt=>this.handleMouseEnter(Xt,Nt,et),onMouseLeave:Xt=>this.handleMouseLeave(Xt,Ve,je,et),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:yt?yt($t):$t}),$&&Ht&&!me&&(0,u.createPortal)((0,h.jsx)(Re,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:r,subMenuDirection:Se,subMenuLeftOffset:Ne,subMenuTopOffset:Xe,className:Ge,mountRoot:pe,isEmbed:dt,isNoraml:!1,isAiry:!1,children:(0,h.jsx)(M.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:pe,contextMenuPosition:r,activePath:ve,showSubMenu:je,onUpdateState:et},children:$})}),pe)]})}})}}b(ke,"defaultProps",{subMenuClassName:""});class Re extends N.PureComponent{constructor(J){super(J),b(this,"createRef",$=>{const{setRef:me}=this.props;me($),this.subMenu=$}),this.state={isTransform:!1}}componentDidMount(){this.setState({isTransform:!0});const{parentRef:J,contextMenuPosition:$,subMenuDirection:me,subMenuLeftOffset:Me,subMenuTopOffset:Ee,isAiry:Ge,isEmbed:Se,mountRoot:Ne}=this.props;Se?O(this.subMenu,J,$,me,{subMenuLeftOffset:Me,subMenuTopOffset:Ee},Ge,Ne):de(this.subMenu,J,$,me,{subMenuLeftOffset:Me,subMenuTopOffset:Ee},Ge)}render(){const{children:J,isAiry:$,className:me,isNoraml:Me=!0}=this.props,{isTransform:Ee}=this.state;return(0,h.jsx)(C,{className:V()("SubMenu",{"is-show":Ee},{"is-airy":$},{"is-normal":Me},me),ref:this.createRef,children:J})}}b(Re,"propTypes",{children:p().oneOfType([p().element,p().array]),className:p().string,parentRef:p().node,contextMenuPosition:p().object,setRef:p().func,subMenuDirection:p().string,subMenuLeftOffset:p().number,subMenuTopOffset:p().number,isAiry:p().bool});const mt=B.Ay.div.withConfig({displayName:"ContextMenu__Divider",componentId:"sc-1802crt-0"})(["margin:8px 0;border-top:1px solid #454546;"])},22460:(Ce,ce,n)=>{"use strict";n.d(ce,{O:()=>N});var s=n(67787),p=n(47507);const N=s.Ay.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-166yiuz-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:inherit;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],p.q.color_text_L2,p.q.color_bg_normal,p.q.color_split_line,p.q.color_bg_btn_normal_hover,p.q.color_bg_btn_normal_active,p.q.color_text_white,p.q.color_btn_primary_normal,p.q.color_btn_primary_hover,p.q.color_btn_primary_click,p.q.color_text_L2,p.q.color_bg_secondary_btn,p.q.color_btn_secondary_border_normal,p.q.color_btn_secondary_hover,p.q.color_btn_secondary_border_hover,p.q.color_btn_secondary_click,p.q.color_btn_primary_normal,p.q.color_btn_primary_hover,p.q.color_btn_primary_click,p.q.color_text_L2,p.q.color_text_L3,p.q.color_text_L1,p.q.color_btn_danger_normal,p.q.color_text_white,p.q.color_btn_danger_hover,p.q.color_btn_danger_click,p.q.color_text_L2,p.q.color_text_L3,p.q.color_text_L1)},23089:(Ce,ce,n)=>{"use strict";n.d(ce,{it:()=>B,V0:()=>M,mq:()=>X});var s=n(38502),p=n(48986),N=n(67787);const u=(0,N.Ay)(p.Ay).withConfig({displayName:"styled__StyledWorkspaceSelectProto",componentId:"sc-32xdp1-0"})(["&.WorkspaceSelect{padding:0px;border-radius:4px;button{width:auto;display:flex;padding:0 6px;align-items:center;color:",";}.caret{flex-shrink:0;width:26px;display:flex;justify-content:center;align-items:center;padding:0;color:",";svg{width:26px;height:26px;}}&:not(.is-disabled):not(.readonly):hover{border-color:",";button{width:calc(100% - 26px);}.caret{padding:0;color:",";}}&.is-open{border-color:transparent;}}"],R=>R.theme.color_text_L1,R=>R.theme.color_text_L3,R=>R.theme.color_bg_border_02,R=>R.theme.color_text_L1),B="select-menu-width-108",ee=(0,N.DU)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.menu-animation-select{margin-left:-15px;}.WorkspaceSelectMenu{padding:8px;border-radius:8px;color:",";background:",";box-shadow:",";&.is-open{border:1px solid ",";border-radius:8px;width:176px;max-width:176px;padding:8px;background-color:",";box-shadow:",";.SelectOption{&:not(.empty-msg):not(.is-disabled):hover{background:",";}}}> .divider{border-bottom:1px solid ",";margin:5px;}.SelectOption{border-radius:4px;height:28px;line-height:28px;&.is-active{color:",";}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:",";color:",";}}}.menu-animation-select .SelectGroup > .title{color:",";}}.autoFillPanelSelectScreenMenu{margin-left:-138px;margin-top:26px;width:175px;}.bdr-width-input-menu{width:88px;}.arrow-setting-menu{width:78px;}.","{width:108px;}}"],R=>R.theme.color_text_L1,R=>R.theme.color_bg_white,R=>R.theme.shadow_m,R=>R.theme.color_bg_border_01,R=>R.theme.color_bg_white,R=>R.theme.shadow_m,R=>R.theme.color_btn_secondary_hover,R=>R.theme.color_bg_border_01,R=>R.theme.color_text_L1,R=>R.theme.color_btn_secondary_hover,R=>R.theme.color_text_L1,R=>R.theme.color_text_L3,B);var V=n(17307),D=n(72214);class X extends s.PureComponent{render(){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(u,{...this.props,arrowSvg:(0,D.jsx)(V.C,{className:"triangle-icon",name:"common/expand@26"})}),(0,D.jsx)(ee,{})]})}}class M extends s.PureComponent{render(){return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(p.eB,{...this.props}),(0,D.jsx)(ee,{})]})}}},24469:(Ce,ce,n)=>{var s=n(35954),p={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},N=s(p);Ce.exports=N},25234:(Ce,ce,n)=>{"use strict";n.d(ce,{Oc:()=>B,Qi:()=>X,jf:()=>ee,jn:()=>V,lV:()=>W,tA:()=>D,z9:()=>R});var s=n(38502),p=n(97974),N=n(17307),u=n(72214);const B=(0,s.memo)(G=>{let{type:I="linear",className:v,disabled:C=!1,size:f="common",corner:y="smooth",forceTheme:h,children:b,onClick:S}=G;return(0,u.jsx)(p.Yr,{type:I,className:v,disabled:C,size:f,corner:y,forceTheme:h,onClick:S,children:b})}),ee=n.j!=15?(0,s.memo)(G=>{let{type:I="linear",className:v,disabled:C=!1,size:f="common",corner:y="smooth",icon:h,children:b,forceTheme:S,onClick:T}=G;return(0,u.jsx)(p.hE,{type:I,className:v,disabled:C,size:f,corner:y,icon:h,forceTheme:S,onClick:T,children:b})}):null,V=(0,s.memo)(G=>{let{className:I,children:v,disabled:C=!1,onClick:f}=G;return(0,u.jsx)(p.Yr,{type:"primary",size:"common",className:I,disabled:C,onClick:f,children:v})}),D=G=>{let{className:I,children:v,disabled:C=!1,onClick:f}=G;return(0,u.jsx)(p.Yr,{type:"secondary",size:"common",className:I,disabled:C,onClick:f,children:v})},X=(0,s.memo)(G=>{let{className:I,children:v,disabled:C=!1,onClick:f}=G;return(0,u.jsx)(p.Yr,{type:"danger",size:"common",className:I,disabled:C,onClick:f,children:v})}),M=null,R=n.j!=15?(0,s.memo)(G=>{let{className:I,children:v,disabled:C=!1,onClick:f}=G;return(0,u.jsx)(p.Yr,{type:"link",className:I,disabled:C,onClick:f,children:v})}):null,de=null,O=null,ue=null,W=n.j!=15?(0,s.memo)(G=>{let{className:I,isLoading:v=!1,children:C,disabled:f=!1,corner:y="soft",onClick:h}=G;return(0,u.jsx)(p.hE,{type:"secondary",size:"tiny",corner:y,className:I,icon:v?(0,u.jsx)(N.C,{name:"general/loading",className:"btn-loading"}):null,disabled:f,onClick:h,children:C})}):null},25942:(Ce,ce)=>{"use strict";var n;n={value:!0};var s=Object.assign||function(ee){for(var V=1;V<arguments.length;V++){var D=arguments[V];for(var X in D)Object.prototype.hasOwnProperty.call(D,X)&&(ee[X]=D[X])}return ee},p=function(){var V=null,D={},X=function(ue){var W=D[ue.type];return W&&W(V,ue)},M=function(ue){if(typeof ue.getState!="function"||typeof ue.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(V!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return V=ue,function(W){return function(G){return X(G)===!0||W(G)}}},R=function(ue,W){if(typeof ue!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+ue);if(typeof W!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+ue+", "+W);D[ue]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+ue),D[ue]=W},de=function(ue){return Object.keys(ue).forEach(function(W){return R(W,ue[W])})};return{middleware:M,setEntry:R,setEntryMap:de}},N=function(V){if(V===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return V},setState:function(X){return V=X},wrapEntry:function(X){return function(M,R){return X(V,M,R)}}}},u=function(V,D){var X=D.getState,M=D.setState;return function(R,de){var O=de.type,ue=de.payload;return O===V&&M(ue),X()}},B=function(V,D){var X=D.getState,M=D.setState;return function(R,de){var O=de.type,ue=de.payload;return O===V&&M(s({},X(),ue)),X()}};ce.RZ=p,ce.J$=N,ce.Tf=u,n=B},29152:(Ce,ce,n)=>{"use strict";n.d(ce,{IE:()=>ee,M0:()=>M,WR:()=>u,XW:()=>de,_B:()=>O,cb:()=>ue,hG:()=>I,iF:()=>R,il:()=>X,kG:()=>D,oV:()=>G,q7:()=>C,wA:()=>B,yZ:()=>W});var s=n(12211),p=n(76844),N=n(12603);const u=f=>{var y;return(y=f.projectAccess.user)==null?void 0:y.user_id},B=f=>f.projectAccess.org,ee=f=>{var y;return((y=f.projectAccess.org)==null?void 0:y.cid)||""},V=f=>{var y;return((y=f.projectAccess.org)==null?void 0:y.members)||[]},D=f=>{var y;return((y=f.projectAccess.org)==null?void 0:y.permissions)||[]},X=f=>f.projectAccess.space,M=f=>f.projectAccess.space.cid,R=f=>f.projectAccess.space.permissions||[],de=f=>f.projectAccess.folderListMap||new Map,O=f=>f.projectAccess.projectListMap||new Map,ue=(0,s.Mz)(u,D,(f,y)=>(0,p.oE)({userId:f,orgPermissions:y})),W=(0,s.Mz)(u,R,(f,y)=>(0,p.sq)({userId:f,spacePermissions:y})),G=(0,s.Mz)(R,f=>{const y=(0,p.Rc)(f);return f.reduce((h,b)=>{const{user_id:S}=b,T=(0,p.CF)({userId:S,permissionsMap:y,permissionScope:N.W.OrgSpace});return h.set(Number(S),T)},new Map)}),I=(0,s.Mz)(R,f=>f.filter(h=>h.role==="space_limiter").reduce((h,b)=>{const{user_id:S}=b;return h.set(Number(S),b)},new Map)),v=(0,s.Mz)(V,f=>f.reduce((y,h)=>{const{user_id:b,user_cid:S,email:T,mobile:Y}=h;return b&&S?y.set(Number(b)||b,{...h}):(T&&y.set(T,{...h}),Y&&y.set(Y,{...h}),y)},new Map)),C=(0,s.Mz)(D,v,(f,y)=>f.reduce((h,b)=>{const{user_id:S,unsign_remark:T}=b,Y=S||T,d=y.get(Y)||{},K=(0,p.Sc)(b);return h.set(Y,{...d,permission:K})},new Map))},29523:(Ce,ce,n)=>{"use strict";n.d(ce,{f:()=>B});const B={...{color_modao:{description:"\u54C1\u724C\u8272-\u58A8\u5200",value_light:"#FF3333",value_dark:"#FF3333"},color_proto:{description:"\u5DE5\u5177\u8272-\u539F\u578B\u5DE5\u5177",value_light:"#266FFF",value_dark:"#266FFF"},color_mindmap:{description:"\u5DE5\u5177\u8272-\u601D\u7EF4\u5BFC\u56FE",value_light:"#39CCBC",value_dark:"#39CCBC"},color_flowchart:{description:"\u5DE5\u5177\u8272-\u6D41\u7A0B\u56FE",value_light:"#FF1D47",value_dark:"#FF1D47"},color_cooperation:{description:"\u5DE5\u5177\u8272-\u8BBE\u8BA1\u534F\u4F5C",value_light:"#FF6915",value_dark:"#FF6915"},color_mockitt:{description:"\u5DE5\u5177\u8272-MOCKITT",value_light:"#4257FF",value_dark:"#4257FF"}},...{color_btn_primary_disabled:{description:"\u5E38\u89C4\u6309\u94AE disabled",value_light:"#A8C6FF",value_dark:"#234381"},color_btn_primary_normal:{description:"\u5E38\u89C4\u6309\u94AE normal",value_light:"#266FFF",value_dark:"#266BF3"},color_btn_primary_hover:{description:"\u5E38\u89C4\u6309\u94AE hover",value_light:"#4080FF",value_dark:"#3C7DFF"},color_btn_primary_clicked:{description:"\u5E38\u89C4\u6309\u94AE clicked",value_light:"#2264E5",value_dark:"#255BC7"},color_btn_danger_disabled:{description:"\u5371\u9669\u6309\u94AE disabled",value_light:"#FFB3B3",value_dark:"#682B2B"},color_btn_danger_normal:{description:"\u5371\u9669\u6309\u94AE normal",value_light:"#FF4040",value_dark:"#D33B3B"},color_btn_danger_hover:{description:"\u5371\u9669\u6309\u94AE hover",value_light:"#FF7575",value_dark:"#D74F4F"},color_btn_danger_clicked:{description:"\u5371\u9669\u6309\u94AE clicked",value_light:"#E53A3A",value_dark:"#A23434"},color_info:{description:"\u53CD\u9988-\u4FE1\u606F",value_light:"#266FFF",value_dark:"#266BF3"},color_info_bg:{description:"\u53CD\u9988\u4FE1\u606F-\u80CC\u666F\u8272",value_light:"#EFF4FF",value_dark:"#222A3A"},color_success:{description:"\u53CD\u9988-\u6210\u529F",value_light:"#39BF50",value_dark:"#61CC73"},color_success_bg:{description:"\u53CD\u9988\u6210\u529F-\u80CC\u666F\u8272",value_light:"#F0FAF2",value_dark:"#232D24"},color_warning:{description:"\u53CD\u9988-\u8B66\u544A",value_light:"#FF8C19",value_dark:"#FFA347"},color_warning_bg:{description:"\u53CD\u9988\u8B66\u544A-\u80CC\u666F\u8272",value_light:"#FFF7EE",value_dark:"#312B24"},color_error:{description:"\u53CD\u9988-\u51FA\u9519",value_light:"#FF4040",value_dark:"#D33B3B"},color_error_bg:{description:"\u53CD\u9988\u51FA\u9519-\u80CC\u666F\u8272",value_light:"#FFF1F1",value_dark:"#2E2323"},color_polyline_normal:{description:"\u6807\u5C3A\u8F85\u52A9\u7EBF-normal",value_light:"rgba(255, 64, 64, 0.5)",value_dark:"rgba(255, 64, 64, 0.5)"},color_polyline_hover:{description:"\u6807\u5C3A\u8F85\u52A9\u7EBF-hover",value_light:"#FF4040",value_dark:"#D33B3B"},color_polyline_select:{description:"\u6807\u5C3A\u8F85\u52A9\u7EBF-\u9009\u4E2D",value_light:"#266FFF",value_dark:"#266FFF"},color_bg_tab:{description:"tab \u9009\u4E2D\u7684\u5E95\u8272",value_light:"#E6EFFF",value_dark:"#223252"},color_bg_select03:{description:"\u5217\u8868\u9009\u4E2D\u5B50\u7EA7",value_light:"#F2F6FF",value_dark:"#222937"},color_bg_select02:{description:"\u5217\u8868\u9009\u4E2D\u7236\u7EA7/\u6846\u9009\u80CC\u666F\u8272",value_light:"#D8E5FF",value_dark:"#223252"},color_bg_select01:{description:"\u9875\u9762\u6807\u8BC6 hover \u8272",value_light:"#A8C6FF",value_dark:"#234381"},color_textarea:{description:"\u6587\u5B57\u533A\u57DF\u80CC\u666F\u8272",value_light:"rgba(5, 88, 255, 0.24)",value_dark:"rgba(6, 92, 255, 0.35)"},color_grid:{description:"\u5E03\u5C40\u6805\u683C\u80CC\u666F\u8272/\u753B\u677F\u9AD8\u5EA6\u62D6\u62FD\u533A\u57DF\u80CC\u666F\u8272",value_light:"rgba(11, 93, 255, 0.16)",value_dark:"rgba(11, 93, 255, 0.16)"},color_smartline:{description:"\u667A\u80FD\u6D4B\u8DDD\u53C2\u8003\u7EBF\u989C\u8272",value_light:"#F23DD1",value_dark:"#F23DD1"},color_spacing:{description:"\u7B49\u95F4\u8DDD\u5757\u80CC\u666F\u53CA\u6570\u5B57\u8272",value_light:"rgba(242, 61, 209, 0.3)",value_dark:"rgba(245, 78, 219, 0.3)"},color_comments:{description:"\u6807\u6CE8\u6A21\u5F0F\u6D4B\u8DDD\u989C\u8272/\u8BC4\u8BBA\u6C14\u6CE1\u8272/\u70ED\u533A\u533A\u57DF\u63CF\u8FB9\u8272 ",value_light:"#FF8C19",value_dark:"#FF8C19"},color_hotspot:{description:"\u6807\u6CE8\u6A21\u5F0F\u70ED\u533A\u533A\u57DF\u586B\u5145\u8272 ",value_light:"rgba(255, 140, 25, 0.15)",value_dark:"rgba(255, 140, 25, 0.15)"},color_master:{description:"\u6BCD\u7248\u8272",value_light:"#7146FE",value_dark:"#7146FE"}},...{color_bg_white:{description:"\u56FA\u5B9A\u5C42\u80CC\u666F\u8272",value_light:"#ffffff",value_dark:"#212121"},color_bg_canvas:{description:"\u753B\u5E03\u80CC\u666F\u8272",value_light:"#EFEFEF",value_dark:"#1A1A1A"},color_btn_secondary_hover:{description:"\u6B21\u8981\u6309\u94AE/icon-hover\u80CC\u666F\u8272",value_light:"#F3F3F4",value_dark:"#333333"},color_btn_secondary_active:{description:"\u6B21\u8981\u6309\u94AE/icon-\u9009\u4E2D\u80CC\u666F\u8272",value_light:"#EEEEF0",value_dark:"#3C3C3C"},color_grid_line:{description:"\u56FE\u6807\u9009\u4E2D\u80CC\u666F\u8272/\u4E8C\u7EA7\u5206\u5272\u7EBF",value_light:"#E5E5E5",value_dark:"#454647"},color_bg_line:{description:"\u63A7\u4EF6\u63CF\u8FB9/\u4E00\u7EA7\u5206\u5272\u7EBF/\u83DC\u5355/default\u6309\u94AE\u63CF\u8FB9/\u5F39\u7A97\u63CF\u8FB9",value_light:"#DBDBDB",value_dark:"#4F5052"},color_bg_border_01:{description:"\u5206\u9694\u7EBF/\u83DC\u5355/\u5F39\u7A97\u5916\u63CF\u8FB9",value_light:"rgba(18, 17, 42, 0.07)",value_dark:"rgba(255, 255, 255, 0.08)"},color_bg_border_02:{description:"\u6B21\u8981\u6309\u94AE\u63CF\u8FB9/\u8F93\u5165\u6846/\u641C\u7D22\u6846",value_light:"rgba(2, 9, 16, 0.13)",value_dark:"rgba(255, 255, 255, 0.19)"},color_bg_split_hover:{description:"\u4E00\u7EA7\u5206\u5272\u7EBF hover \u6548\u679C",value_light:"#CCCCCC",value_dark:"#CCCCCC"},color_bg_card:{description:"\u7D20\u6750\u9762\u677F\u5361\u7247/tab\u80CC\u666F\u8272",value_light:"#F7F7F9",value_dark:"#303030"},color_navigation_hover:{description:"\u5DE6\u4FA7\u5BFC\u822A\u60AC\u505C",value_light:"rgba(18, 17, 42, 0.03)",value_dark:"rgba(255, 255, 255, 0.04)"},color_navigation_active:{description:"\u5DE6\u4FA7\u5BFC\u822A\u9009\u4E2D",value_light:"rgba(18, 17, 42, 0.05)",value_dark:"rgba(255, 255, 255, 0.08)"},color_directory_hover:{description:"\u76EE\u5F55\u9009\u9879\u60AC\u505C",value_light:"#FAFAFC",value_dark:"rgba(255, 255, 255, 0.05)"},color_directory_active:{description:"\u76EE\u5F55\u9009\u9879\u9009\u4E2D",value_light:"#F3F3F5",value_dark:"rgba(255, 255, 255, 0.08)"},color_bg_menu:{description:"\u83DC\u5355\u80CC\u666F\u8272",value_light:"#ffffff",value_dark:"#303030"},color_bg_tips:{description:"\u6C14\u6CE1/\u5168\u5C40\u63D0\u793A\u80CC\u666F\u8272",value_light:"#303030",value_dark:"#303030"},color_bg_mask:{description:"\u5F39\u7A97\u8499\u5C42\u8272",value_light:"rgba(18, 17, 42, 0.4)",value_dark:"rgba(0, 0, 0, 0.5)"},color_slider_normal:{description:"\u6ED1\u6746 normal \u8272",value_light:"rgba(18, 17, 42, 0.15)",value_dark:"rgba(255, 255, 255, 0.25)"},color_slider_hover:{description:"\u6ED1\u6746 hover \u8272",value_light:"rgba(18, 17, 42, 0.3)",value_dark:"rgba(255, 255, 255, 0.35)"}},...{color_text_btn:{description:"\u6309\u94AE\u5185normal\u6001\u6587\u672C\u8272",value_light:"#FFFFFF",value_dark:"rgba(255, 255, 255, 0.91)"},color_text_L0:{description:"\u6807\u9898\u6587\u672C\u8272/\u4E00\u7EA7\u6587\u672C\u8272",value_light:"#19191A",value_dark:"rgba(255, 255, 255, 0.91)"},color_text_L1:{description:"\u6807\u9898\u6587\u672C\u8272/\u4E00\u7EA7\u6587\u672C\u8272",value_light:"#19191A",value_dark:"rgba(255, 255, 255, 0.91)"},color_text_L2:{description:"\u4E8C\u7EA7\u6587\u672C\u8272",value_light:"#555557",value_dark:"rgba(255, 255, 255, 0.64)"},color_text_L3:{description:"\u5360\u4F4D\u7B26\u6587\u672C\u8272",value_light:"#8B8C8F",value_dark:"rgba(255, 255, 255, 0.45)"},color_text_disabled01:{description:"\u9ED1\u8272\u6587\u672C\u7981\u7528\u8272",value_light:"#B7B9BD",value_dark:"rgba(255, 255, 255, 0.19)"},color_text_disabled02:{description:"\u767D\u8272\u6587\u672C\u7981\u7528\u8272",value_light:"rgba(255, 255, 255, 0.82)",value_dark:"rgba(255, 255, 255, 0.19)"},color_text_link_normal:{description:"\u94FE\u63A5/\u6587\u672C\u6309\u94AE\u8272 normal",value_light:"#2264E5",value_dark:"#88B0FF"},color_text_link_hover:{description:"\u94FE\u63A5/\u6587\u672C\u6309\u94AE\u8272 hover",value_light:"#6297FF",value_dark:"#93B7FF"},color_text_tips_normal:{description:"\u63D0\u793A\u5185\u84DD\u8272\u6587\u672C\u8272 normal",value_light:"#88B0FF",value_dark:"#88B0FF"},color_text_tips_hover:{description:"\u63D0\u793A\u5185\u84DD\u8272\u6587\u672C\u8272 hover",value_light:"#A8C6FF",value_dark:"#A8C6FF"},color_text_error:{description:"\u51FA\u9519\u6587\u672C\u8272",value_light:"#D34444",value_dark:"#FF7575"}}}},33236:(Ce,ce,n)=>{"use strict";n.d(ce,{l:()=>N,r:()=>p});var s=n(67787);const p=(0,s.DU)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:4px;height:4px;border-radius:4px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],u=>u.theme.color_bg_border_02,u=>u.theme.color_background_split_hover,u=>u.theme.color_background_split_hover),N=(0,s.DU)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},35428:(Ce,ce,n)=>{"use strict";n.d(ce,{_:()=>N});var s=n(5209);const p=u=>{let{exposure_reason:B}=u;try{saTrack("trial_watermark_exposure",{exposure_reason:B})}catch(ee){console.log(ee.message)}},N=u=>{let{click_button:B}=u;try{(0,s.kH)("trial_watermark_click",{click_button:B})}catch(ee){console.log(ee.message)}}},35603:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>S,d:()=>de});var s=n(18250),p=n.n(s),N=n(63986),u=n.n(N),B=n(38502),ee=n(69623),V=n(25582),D=n.n(V),X=n(27992),M=n(69368);const R=9;function de(Y){let{$opener:d,$menuBase:K,menuX:P="left",menuY:H="bottom",menuBaseStyle:m={},inflexible:E=!1,shouldSetMaxHeight:q=!1}=Y;if(!d||!K)return{};const te=K.querySelector("*"),ne={styleFor$menuBase:{},styleFor$menu:{}},se=Xe=>Object.assign(ne.styleFor$menuBase,Xe),fe=Xe=>Object.assign(ne.styleFor$menu,Xe),{offsetHeight:Oe}=te,Ye=m.width||d.offsetWidth,ke=m.height||d.offsetHeight,Re=d.getBoundingClientRect(),{top:mt,bottom:De,left:J}=Object.assign({top:Re.top,right:Re.right,bottom:Re.bottom,left:Re.left},m);se({top:mt+"px",left:J+"px",width:Ye+"px",height:ke+"px"});const{innerHeight:$}=window,me=10,Me=$-10,Ee=H==="top"?1/3:2/3,Ge=$*Ee,Se=mt+ke/2,Ne=mt+ke;return(E&&H==="bottom"||!E&&Ge>=Se)&&Ne+Oe+R<$?(ne.isDownward=!0,q&&De+Oe>Me&&fe({maxHeight:Me-De+"px"})):(ne.isDownward=!1,q&&mt-Oe<me&&fe({maxHeight:mt-me+"px"})),Object.assign(K.style,ne.styleFor$menuBase),Object.assign(te.style,ne.styleFor$menu),ne}var O=n(67787);const ue=O.Ay.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-665wv9-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),W=O.Ay.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-665wv9-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),G=O.Ay.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-665wv9-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var I=n(72214);function v(Y,d,K){return(d=C(d))in Y?Object.defineProperty(Y,d,{value:K,enumerable:!0,configurable:!0,writable:!0}):Y[d]=K,Y}function C(Y){var d=f(Y,"string");return typeof d=="symbol"?d:d+""}function f(Y,d){if(typeof Y!="object"||!Y)return Y;var K=Y[Symbol.toPrimitive];if(K!==void 0){var P=K.call(Y,d||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(Y)}const y="IBOT_DROPDOWN_MENU_ROOT",h=document.getElementById(y)||Object.assign(document.createElement("div"),{id:y}),b=document.body;b.contains(h)||b.appendChild(h);class S extends B.PureComponent{constructor(){super(...arguments),v(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),v(this,"leaveTimeoutList",[]),v(this,"createMenuRef",d=>this.$menuRef=d),v(this,"toggle",d=>this.setState({isOpen:p()(d)?d:!this.state.isOpen})),v(this,"open",()=>this.toggle(!0)),v(this,"close",()=>this.toggle(!1)),v(this,"onMouseEnter",()=>{const{shouldOpenOnHover:d}=this.props;d&&(clearTimeout(this.closeTimeout),Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),v(this,"onMouseLeave",()=>{const{shouldOpenOnHover:d}=this.props;d&&clearTimeout(this.hoverTimeout)}),v(this,"onMouseMove",d=>{var K;let{clientX:P,clientY:H}=d;const{shouldOpenOnHover:m,hoverDelay:E,hoverCloseDelay:q}=this.props,{$opener:te}=this.state;if(!m)return;clearTimeout(this.hoverTimeout);const ne=document.elementFromPoint(P,H),se=!te.contains(ne),fe=!((K=this.$menuRef)!=null&&(K=K.menuBaseRef)!=null&&(K=K.current)!=null&&K.contains(ne));fe?se&&fe&&this.leaveTimeoutList.push(setTimeout(this.close,q!==void 0?q:Math.max(E,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),v(this,"set$opener",d=>this.setState({$opener:d})),v(this,"onSelect",d=>{let{currentTarget:K}=d;const{menuList:P,onSelect:H,shouldCloseOnSelect:m}=this.props;if(typeof H!="function")return;const E=K.dataset.idx,q=P[E],te=typeof q=="string"?q:q&&q.value;H(E,te),this.setState({currentMenuListItemIdx:E}),m&&this.close()})}static getDerivedStateFromProps(d,K){let{prevProps:P,isOpen:H}=K;return u()(d,P)?null:p()(d.isOpen)?{prevProps:d,isOpen:d.isOpen}:{prevProps:d}}componentDidUpdate(d,K){let{isOpen:P}=K;const{onOpen:H,onClose:m,onToggle:E}=this.props,{isOpen:q}=this.state;P!==q&&(q?(H(),E(!0)):(m(),E(!1)))}render(){const{className:d,opener:K,openerType:P,openerClassName:H,shouldCloseOnClickOutside:m}=this.props,{isOpen:E,$opener:q,currentMenuListItemIdx:te}=this.state,ne=this.props.isDisabled||this.props.disabled,se=(0,M.Hn)(["Dropdown",E&&"is-open",ne&&"is-disabled",d]),fe={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseEnter,disabled:ne,className:H};return(0,I.jsxs)(ue,{ref:this.set$opener,className:se,children:[P!=="button"&&(0,B.isValidElement)(K)?(0,B.cloneElement)(K,fe):(0,I.jsx)("button",{type:"button",...fe,children:K}),(0,I.jsx)(T,{ref:this.createMenuRef,...this.props,isOpen:E,$opener:q,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:m,currentMenuListItemIdx:te}),E&&(0,I.jsx)(X.A,{target:document,onMouseMove:this.onMouseMove})]})}}v(S,"positionMenu",de),v(S,"propTypes",{isOpen:D().bool,mode:D().oneOf(["light","dark"]),opener:D().node,openerType:D().oneOf(["button","custom"]),className:D().string,portalClassName:D().string,menuBaseClassName:D().string,openerClassName:D().string,menuClassName:D().string,menuBaseStyle:D().shape({top:D().number,right:D().number,bottom:D().number,width:D().number,height:D().number}),menu:D().node,menuList:D().arrayOf(D().oneOfType([D().node,D().shape({label:D().node,value:D().any,isDisabled:D().bool})])),currentMenuListItemIdx:D().oneOfType([D().number,D().string]),shouldPreventScrollingPropagation:D().bool,shouldOpenOnHover:D().bool,shouldCloseOnClickOutside:D().bool,hoverDelay:D().oneOfType([D().number,D().string]),hoverCloseDelay:D().oneOfType([D().number,D().string]),arrowed:D().bool,inflexible:D().bool,menuX:D().oneOf(["left","center","right"]),menuY:D().oneOf(["top","bottom"]),menuBasedX:D().bool,isDisabled:D().bool,disabled:D().bool,onSelect:D().func,shouldCloseOnSelect:D().bool,onOpen:D().func.isRequired,onClose:D().func.isRequired,onToggle:D().func.isRequired}),v(S,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class T extends B.PureComponent{constructor(){super(...arguments),v(this,"state",{isDownward:this.props.position==="bottom"}),v(this,"portal",(0,M.ep)(h,(0,M.Hn)(["DropdownMenuPortal",this.props.portalClassName]))),v(this,"menuBaseRef",(0,B.createRef)()),v(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),v(this,"onClickOutside",d=>{let{target:K}=d;const{$opener:P,onClose:H,shouldCloseOnClickOutside:m}=this.props;if(!m)return;const E=!h.contains(K),q=K.closest("label"),te=q&&q.contains(P),ne=!!(0,M.$)(".SelectMenu.is-open");E&&!te&&!ne&&H()}),v(this,"position",()=>{const{$opener:d,menuX:K,menuY:P,menuBaseStyle:H,inflexible:m}=this.props,{menuBaseRef:{current:E}}=this,{isDownward:q}=de({$menuBase:E,$opener:d,menuX:K,menuY:P,menuBaseStyle:H,inflexible:m});this.setState({isDownward:q})})}componentDidMount(){const{isOpen:d,shouldPreventScrollingPropagation:K}=this.props,{menuBaseRef:{current:P}}=this;d&&setTimeout(this.position),K&&(0,M.sA)((0,M.$)(".content",P)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(d){let{isOpen:K}=d;const{isOpen:P}=this.props;!K&&P&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:d,menu:K}=this;return(0,ee.createPortal)(K,d)}get menu(){const{isOpen:d,mode:K,menuBaseClassName:P,menuClassName:H,menu:m,menuList:E,arrowed:q,menuX:te,menuBasedX:ne,currentMenuListItemIdx:se,onSelect:fe}=this.props,{isDownward:Oe}=this.state,Ye=(0,M.Hn)(["DropdownMenu",K,d&&"is-open",Oe?"is-downward":"is-upward","x-"+te,q&&"arrowed "+(ne?"x-menu-based":"x-arrow-based"),H]);return(0,I.jsx)(G,{ref:this.menuBaseRef,className:(0,M.Hn)(["DropdownMenuBase",P]),children:(0,I.jsxs)(W,{className:Ye,children:[q&&(0,I.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:M.t4.mr}}),(0,I.jsx)("div",{className:"content",children:E?(0,I.jsx)("ul",{className:"MenuList",children:E.map((ke,Re)=>(0,I.jsx)("li",{role:"option","data-idx":Re,className:(0,M.Hn)([ke.isDisabled&&"is-disabled",Re===Number(se)&&"is-active"]),onClick:ke.isDisabled?void 0:fe,children:ke.label||ke},Re))}):m}),d&&(0,I.jsx)(X.A,{target:document,onClick:(0,X.t)(this.onClickOutside,{capture:!0})}),d&&(0,I.jsx)(X.A,{target:document,onScroll:(0,X.t)(this.position,{capture:!0})})]})})}}v(T,"propTypes",{...S.propTypes,isOpen:D().bool,$opener:D().instanceOf(Element),onSelect:D().func,onClose:D().func})},35954:Ce=>{function ce(n){return function(s){return n==null?void 0:n[s]}}Ce.exports=ce},37810:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>D});var s=n(95549),p=n(38502),N=n(19952),u=n(25582),B=n.n(u),ee=n(72214);class V extends p.PureComponent{constructor(M){super(M),(0,s.A)(this,"freshCanvas",()=>{const R=this.canvasWrapperRef.current,{height:de,width:O,text:ue,foreground:W,background:G}=this.props,I=(0,N.j)({height:de,width:O,text:ue,foreground:W,background:G});R.hasChildNodes()?R.replaceChild(I,R.firstChild):R.appendChild(I)}),this.canvasWrapperRef=(0,p.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:M}=this.props;return(0,ee.jsx)("div",{className:M,ref:this.canvasWrapperRef})}}V.propTypes={width:B().number,height:B().number,text:B().string.isRequired,foreground:B().string,background:B().string,className:B().string},V.defaultProps={width:150,height:150};const D=V},37862:(Ce,ce,n)=>{var s=n(70168),p=n(43293);function N(u){return s(u)&&u.nodeType===1&&!p(u)}Ce.exports=N},39303:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>u});var s=n(79458),p=n(67787);const u=(0,p.Ay)(s.ft).withConfig({displayName:"ThemeLoading",componentId:"sc-1f7bkn3-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],B=>B.theme.color_btn_secondary_active,B=>B.theme.color_text_disabled01)},41440:(Ce,ce,n)=>{var s=n(43293);function p(N){return s(N)?void 0:N}Ce.exports=p},41946:(Ce,ce,n)=>{var s=n(73597),p=s(function(N,u,B){return N+(B?"_":"")+u.toLowerCase()});Ce.exports=p},43293:(Ce,ce,n)=>{var s=n(41678),p=n(41413),N=n(70168),u="[object Object]",B=Function.prototype,ee=Object.prototype,V=B.toString,D=ee.hasOwnProperty,X=V.call(Object);function M(R){if(!N(R)||s(R)!=u)return!1;var de=p(R);if(de===null)return!0;var O=D.call(de,"constructor")&&de.constructor;return typeof O=="function"&&O instanceof O&&V.call(O)==X}Ce.exports=M},45308:(Ce,ce,n)=>{var s=n(71602);function p(N){var u=N==null?0:N.length;return u?s(N,1):[]}Ce.exports=p},45525:(Ce,ce,n)=>{var s=n(32554),p=n(86789),N=n(48605),u=n(68151),B=n(31493),ee=n(41440),V=n(85378),D=n(24235),X=1,M=2,R=4,de=V(function(O,ue){var W={};if(O==null)return W;var G=!1;ue=s(ue,function(v){return v=u(v,O),G||(G=v.length>1),v}),B(O,D(O),W),G&&(W=p(W,X|M|R,ee));for(var I=ue.length;I--;)N(W,ue[I]);return W});Ce.exports=de},46710:(Ce,ce,n)=>{"use strict";n.d(ce,{HZ:()=>N,rA:()=>B});var s=n(51785),p=n(83123);const N=ee=>{const V={pt_total_seats:10,pt_bindings:[],ptlt_total_seats:0,ptlt_bindings:[],bx_total_seats:10,bx_bindings:[],bxlt_total_seats:0,bxlt_bindings:[],aippt_total_seats:0,aippt_bindings:[],total_viewer_seats:100,viewer_seats_taken:0},{pt_total_seats:D=0,pt_bindings:X=[],ptlt_total_seats:M=0,ptlt_bindings:R=[],bxlt_bindings:de=[],bxlt_total_seats:O=0,bx_total_seats:ue=0,bx_bindings:W=[],aippt_total_seats:G=0,aippt_bindings:I=[]}=ee||V;return{plTotalSeats:M,pTotalSeats:D,pBindings:X||[],plBindings:R||[],blTotalSeats:O,bTotalSeats:ue,bBindings:W||[],blBindings:de||[],aiPptTotalSeats:G,aiPptBindings:I||[]}},u=(ee,V)=>{const{pBindings:D,plBindings:X,bBindings:M}=N(ee),R=X.includes(V),de=D.includes(V),O=M.includes(V);return{isPLSeat:R,isPSeat:de,isBSeat:O}},B=(ee,V)=>{if(!ee)return{protoSeat:!1,bomxSeat:!1};if(ee.otype==="personal")return{protoSeat:!0,bomxSeat:!0};const D=s.tz.InitialOrg(ee),X=D.planSdk.getIsDefaultFreeOrg(),M=D.planSdk.getOrgStatus()===p._E.Trial;if(X||M)return{protoSeat:!0,bomxSeat:!0};const{pTotalSeats:R,bTotalSeats:de,plTotalSeats:O}=N(ee),{isPLSeat:ue,isPSeat:W,isBSeat:G}=u(ee,V);return{protoSeat:R>0||O>0?ue||W:!0,bomxSeat:de>0?G:!0}}},47507:(Ce,ce,n)=>{"use strict";n.d(ce,{q:()=>p});const s={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#19191A",primary_gray_02:"#555557",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},p={color_btn_primary_normal:s.primary_blue_02,color_btn_primary_hover:s.primary_blue_03,color_btn_primary_click:s.primary_blue_01,color_btn_primary_disable:s.primary_blue_05,color_btn_secondary_click:s.primary_blue_06,color_btn_secondary_normal:s.primary_blue_08,color_btn_secondary_hover:s.primary_blue_07,color_btn_outline_click:s.primary_gray_07,color_btn_outline_normal:s.common_white,color_btn_outline_hover:s.primary_gray_08,color_bg_normal:s.common_white,color_bg_card:s.primary_blue_08,color_bg_menu_click:s.primary_blue_06,color_bg_card_hover:s.primary_gray_07,color_bg_menu_hover:s.primary_blue_07,color_bg_input_hover:s.primary_gray_08,color_bg_input_normal:s.primary_gray_09,color_bg_item_gray:s.primary_gray_08,color_bg_item_hover:s.primary_gray_09,color_bg_fill_common_blue:s.primary_blue_02,color_bg_menu_drag_border:s.primary_blue_06,color_bg_card_hover_fusion_gray:s.primary_gray_06,color_bg_card_hover_fusion_blue:s.primary_blue_05,color_bg_card_hover_fusion:s.primary_gray_06,color_bg_secondary_btn:s.primary_blue_08,color_bg_btn_normal_hover:s.primary_gray_08,color_bg_btn_normal_active:s.primary_gray_07,color_bg_icon_gray:s.primary_gray_04,color_bg_icon_hover:s.primary_gray_03,color_text_L1:s.primary_gray_01,color_text_L2:s.primary_gray_02,color_text_L3:s.primary_gray_03,color_text_L4:s.primary_gray_04,color_text_L5:s.primary_blue_02,color_text_white:s.common_white,color_text_blue:s.primary_blue_02,color_text_blue_hover:s.primary_blue_01,color_text_blue_active:s.primary_blue_03,color_text_disable_01:s.primary_gray_05,color_tab_line:s.primary_gray_06,color_split_line:s.primary_gray_07,color_border_blue_common:s.primary_blue_02,color_btn_border_normal:s.primary_blue_05,color_btn_border_disable:s.primary_blue_07,color_btn_secondary_border_normal:s.primary_blue_06,color_btn_secondary_border_hover:s.primary_blue_07,color_btn_danger_normal:s.primary_red_02,color_btn_danger_hover:s.primary_red_03,color_btn_danger_click:s.primary_red_01,color_btn_danger_disable:s.primary_red_04,color_bg_modal_item_header:s.primary_gray_09,color_bg_light_red:s.primary_red_05,color_alarm_common:s.primary_red_02}},47946:(Ce,ce,n)=>{"use strict";n.d(ce,{pX:()=>Po,O3:()=>Ys,tr:()=>ts,ur:()=>zo});var s={};if(n.r(s),n.d(s,{Decoder:()=>Dn,Encoder:()=>rs,PacketType:()=>ut,protocol:()=>so}),n.j!=15)var p=n(76805);if(n.j!=15)var N=n(60892);const u=Object.create(null);u.open="0",u.close="1",u.ping="2",u.pong="3",u.message="4",u.upgrade="5",u.noop="6";const B=Object.create(null);Object.keys(u).forEach(a=>{B[u[a]]=a});const ee={type:"error",data:"parser error"},V=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",D=typeof ArrayBuffer=="function",X=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,M=(a,t,o)=>{let{type:g,data:F}=a;return V&&F instanceof Blob?t?o(F):R(F,o):D&&(F instanceof ArrayBuffer||X(F))?t?o(F):R(new Blob([F]),o):o(u[g]+(F||""))},R=(a,t)=>{const o=new FileReader;return o.onload=function(){const g=o.result.split(",")[1];t("b"+(g||""))},o.readAsDataURL(a)};function de(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let O;function ue(a,t){if(V&&a.data instanceof Blob)return a.data.arrayBuffer().then(de).then(t);if(D&&(a.data instanceof ArrayBuffer||X(a.data)))return t(de(a.data));M(a,!1,o=>{O||(O=new TextEncoder),t(O.encode(o))})}const W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<W.length;a++)G[W.charCodeAt(a)]=a;const I=a=>{let t=new Uint8Array(a),o,g=t.length,F="";for(o=0;o<g;o+=3)F+=W[t[o]>>2],F+=W[(t[o]&3)<<4|t[o+1]>>4],F+=W[(t[o+1]&15)<<2|t[o+2]>>6],F+=W[t[o+2]&63];return g%3===2?F=F.substring(0,F.length-1)+"=":g%3===1&&(F=F.substring(0,F.length-2)+"=="),F},v=a=>{let t=a.length*.75,o=a.length,g,F=0,re,Ae,Te,Fe;a[a.length-1]==="="&&(t--,a[a.length-2]==="="&&t--);const Ke=new ArrayBuffer(t),Be=new Uint8Array(Ke);for(g=0;g<o;g+=4)re=G[a.charCodeAt(g)],Ae=G[a.charCodeAt(g+1)],Te=G[a.charCodeAt(g+2)],Fe=G[a.charCodeAt(g+3)],Be[F++]=re<<2|Ae>>4,Be[F++]=(Ae&15)<<4|Te>>2,Be[F++]=(Te&3)<<6|Fe&63;return Ke},C=typeof ArrayBuffer=="function",f=(a,t)=>{if(typeof a!="string")return{type:"message",data:h(a,t)};const o=a.charAt(0);return o==="b"?{type:"message",data:y(a.substring(1),t)}:B[o]?a.length>1?{type:B[o],data:a.substring(1)}:{type:B[o]}:ee},y=(a,t)=>{if(C){const o=v(a);return h(o,t)}else return{base64:!0,data:a}},h=(a,t)=>{switch(t){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},b="",S=(a,t)=>{const o=a.length,g=new Array(o);let F=0;a.forEach((re,Ae)=>{M(re,!1,Te=>{g[Ae]=Te,++F===o&&t(g.join(b))})})},T=(a,t)=>{const o=a.split(b),g=[];for(let F=0;F<o.length;F++){const re=f(o[F],t);if(g.push(re),re.type==="error")break}return g};function Y(){return new TransformStream({transform(a,t){ue(a,o=>{const g=o.length;let F;if(g<126)F=new Uint8Array(1),new DataView(F.buffer).setUint8(0,g);else if(g<65536){F=new Uint8Array(3);const re=new DataView(F.buffer);re.setUint8(0,126),re.setUint16(1,g)}else{F=new Uint8Array(9);const re=new DataView(F.buffer);re.setUint8(0,127),re.setBigUint64(1,BigInt(g))}a.data&&typeof a.data!="string"&&(F[0]|=128),t.enqueue(F),t.enqueue(o)})}})}let d;function K(a){return a.reduce((t,o)=>t+o.length,0)}function P(a,t){if(a[0].length===t)return a.shift();const o=new Uint8Array(t);let g=0;for(let F=0;F<t;F++)o[F]=a[0][g++],g===a[0].length&&(a.shift(),g=0);return a.length&&g<a[0].length&&(a[0]=a[0].slice(g)),o}function H(a,t){d||(d=new TextDecoder);const o=[];let g=0,F=-1,re=!1;return new TransformStream({transform(Ae,Te){for(o.push(Ae);;){if(g===0){if(K(o)<1)break;const Fe=P(o,1);re=(Fe[0]&128)===128,F=Fe[0]&127,F<126?g=3:F===126?g=1:g=2}else if(g===1){if(K(o)<2)break;const Fe=P(o,2);F=new DataView(Fe.buffer,Fe.byteOffset,Fe.length).getUint16(0),g=3}else if(g===2){if(K(o)<8)break;const Fe=P(o,8),Ke=new DataView(Fe.buffer,Fe.byteOffset,Fe.length),Be=Ke.getUint32(0);if(Be>Math.pow(2,21)-1){Te.enqueue(ee);break}F=Be*Math.pow(2,32)+Ke.getUint32(4),g=3}else{if(K(o)<F)break;const Fe=P(o,F);Te.enqueue(f(re?Fe:d.decode(Fe),t)),g=0}if(F===0||F>a){Te.enqueue(ee);break}}}})}const m=4;function E(a){if(a)return q(a)}function q(a){for(var t in E.prototype)a[t]=E.prototype[t];return a}E.prototype.on=E.prototype.addEventListener=function(a,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(t),this},E.prototype.once=function(a,t){function o(){this.off(a,o),t.apply(this,arguments)}return o.fn=t,this.on(a,o),this},E.prototype.off=E.prototype.removeListener=E.prototype.removeAllListeners=E.prototype.removeEventListener=function(a,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+a];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var g,F=0;F<o.length;F++)if(g=o[F],g===t||g.fn===t){o.splice(F,1);break}return o.length===0&&delete this._callbacks["$"+a],this},E.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),o=this._callbacks["$"+a],g=1;g<arguments.length;g++)t[g-1]=arguments[g];if(o){o=o.slice(0);for(var g=0,F=o.length;g<F;++g)o[g].apply(this,t)}return this},E.prototype.emitReserved=E.prototype.emit,E.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},E.prototype.hasListeners=function(a){return!!this.listeners(a).length};const te=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function ne(a){for(var t=arguments.length,o=new Array(t>1?t-1:0),g=1;g<t;g++)o[g-1]=arguments[g];return o.reduce((F,re)=>(a.hasOwnProperty(re)&&(F[re]=a[re]),F),{})}const se=te.setTimeout,fe=te.clearTimeout;function Oe(a,t){t.useNativeTimers?(a.setTimeoutFn=se.bind(te),a.clearTimeoutFn=fe.bind(te)):(a.setTimeoutFn=te.setTimeout.bind(te),a.clearTimeoutFn=te.clearTimeout.bind(te))}const Ye=1.33;function ke(a){return typeof a=="string"?Re(a):Math.ceil((a.byteLength||a.size)*Ye)}function Re(a){let t=0,o=0;for(let g=0,F=a.length;g<F;g++)t=a.charCodeAt(g),t<128?o+=1:t<2048?o+=2:t<55296||t>=57344?o+=3:(g++,o+=4);return o}function mt(a){let t="";for(let o in a)a.hasOwnProperty(o)&&(t.length&&(t+="&"),t+=encodeURIComponent(o)+"="+encodeURIComponent(a[o]));return t}function De(a){let t={},o=a.split("&");for(let g=0,F=o.length;g<F;g++){let re=o[g].split("=");t[decodeURIComponent(re[0])]=decodeURIComponent(re[1])}return t}class J extends Error{constructor(t,o,g){super(t),this.description=o,this.context=g,this.type="TransportError"}}class $ extends E{constructor(t){super(),this.writable=!1,Oe(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,o,g){return super.emitReserved("error",new J(t,o,g)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const o=f(t,this.socket.binaryType);this.onPacket(o)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,o){return o===void 0&&(o={}),t+"://"+this._hostname()+this._port()+this.opts.path+this._query(o)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const o=mt(t);return o.length?"?"+o:""}}const me="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Me=64,Ee={};let Ge=0,Se=0,Ne;function Xe(a){let t="";do t=me[a%Me]+t,a=Math.floor(a/Me);while(a>0);return t}function nt(a){let t=0;for(Se=0;Se<a.length;Se++)t=t*Me+Ee[a.charAt(Se)];return t}function yt(){const a=Xe(+new Date);return a!==Ne?(Ge=0,Ne=a):a+"."+Xe(Ge++)}for(;Se<Me;Se++)Ee[me[Se]]=Se;let xt=!1;try{xt=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(a){}const bt=xt;function wt(a){const t=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||bt))return new XMLHttpRequest}catch(o){}if(!t)try{return new te[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(o){}}function r(){}function pe(){}const ve=function(){return new wt({xdomain:!1}).responseType!=null}();class je extends ${constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const g=location.protocol==="https:";let F=location.port;F||(F=g?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||F!==t.port}const o=t&&t.forceBase64;this.supportsBinary=ve&&!o,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const o=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let g=0;this.polling&&(g++,this.once("pollComplete",function(){--g||o()})),this.writable||(g++,this.once("drain",function(){--g||o()}))}else o()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const o=g=>{if(this.readyState==="opening"&&g.type==="open"&&this.onOpen(),g.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(g)};T(t,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,S(t,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",o=this.query||{};return this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=yt()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.createUri(t,o)}request(t){return t===void 0&&(t={}),Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ve(this.uri(),t)}doWrite(t,o){const g=this.request({method:"POST",data:t});g.on("success",o),g.on("error",(F,re)=>{this.onError("xhr post error",F,re)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(o,g)=>{this.onError("xhr poll error",o,g)}),this.pollXhr=t}}class Ve extends E{constructor(t,o){super(),Oe(this,o),this.opts=o,this.method=o.method||"GET",this.uri=t,this.data=o.data!==void 0?o.data:null,this.create()}create(){var t;const o=ne(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this.opts.xd;const g=this.xhr=new wt(o);try{g.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){g.setDisableHeaderCheck&&g.setDisableHeaderCheck(!0);for(let F in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(F)&&g.setRequestHeader(F,this.opts.extraHeaders[F])}}catch(F){}if(this.method==="POST")try{g.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(F){}try{g.setRequestHeader("Accept","*/*")}catch(F){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(g),"withCredentials"in g&&(g.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(g.timeout=this.opts.requestTimeout),g.onreadystatechange=()=>{var F;g.readyState===3&&((F=this.opts.cookieJar)===null||F===void 0||F.parseCookies(g)),g.readyState===4&&(g.status===200||g.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof g.status=="number"?g.status:0)},0))},g.send(this.data)}catch(F){this.setTimeoutFn(()=>{this.onError(F)},0);return}typeof document<"u"&&(this.index=Ve.requestsCount++,Ve.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=pe,t)try{this.xhr.abort()}catch(o){}typeof document<"u"&&delete Ve.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Ve.requestsCount=0,Ve.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",et);else if(typeof addEventListener=="function"){const a="onpagehide"in te?"pagehide":"unload";addEventListener(a,et,!1)}}function et(){for(let a in Ve.requests)Ve.requests.hasOwnProperty(a)&&Ve.requests[a].abort()}const dt=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,o)=>o(t,0),Nt=te.WebSocket||te.MozWebSocket,Ht=!0,$t="arraybuffer",Xt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Wn extends ${constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),o=this.opts.protocols,g=Xt?{}:ne(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(g.headers=this.opts.extraHeaders);try{this.ws=Ht&&!Xt?o?new Nt(t,o):new Nt(t):new Nt(t,o,g)}catch(F){return this.emitReserved("error",F)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const g=t[o],F=o===t.length-1;M(g,this.supportsBinary,re=>{const Ae={};Ht||(g.options&&(Ae.compress=g.options.compress),this.opts.perMessageDeflate&&(typeof re=="string"?Buffer.byteLength(re):re.length)<this.opts.perMessageDeflate.threshold&&(Ae.compress=!1));try{Ht?this.ws.send(re):this.ws.send(re,Ae)}catch(Te){}F&&dt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",o=this.query||{};return this.opts.timestampRequests&&(o[this.opts.timestampParam]=yt()),this.supportsBinary||(o.b64=1),this.createUri(t,o)}check(){return!!Nt}}class hn extends ${get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const o=H(Number.MAX_SAFE_INTEGER,this.socket.binaryType),g=t.readable.pipeThrough(o).getReader(),F=Y();F.readable.pipeTo(t.writable),this.writer=F.writable.getWriter();const re=()=>{g.read().then(Te=>{let{done:Fe,value:Ke}=Te;Fe||(this.onPacket(Ke),re())}).catch(Te=>{})};re();const Ae={type:"open"};this.query.sid&&(Ae.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(Ae).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const g=t[o],F=o===t.length-1;this.writer.write(g).then(()=>{F&&dt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Tn={websocket:Wn,webtransport:hn,polling:je},mn=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,An=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function fn(a){if(a.length>2e3)throw"URI too long";const t=a,o=a.indexOf("["),g=a.indexOf("]");o!=-1&&g!=-1&&(a=a.substring(0,o)+a.substring(o,g).replace(/:/g,";")+a.substring(g,a.length));let F=mn.exec(a||""),re={},Ae=14;for(;Ae--;)re[An[Ae]]=F[Ae]||"";return o!=-1&&g!=-1&&(re.source=t,re.host=re.host.substring(1,re.host.length-1).replace(/;/g,":"),re.authority=re.authority.replace("[","").replace("]","").replace(/;/g,":"),re.ipv6uri=!0),re.pathNames=Ln(re,re.path),re.queryKey=sn(re,re.query),re}function Ln(a,t){const o=/\/{2,9}/g,g=t.replace(o,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&g.splice(0,1),t.slice(-1)=="/"&&g.splice(g.length-1,1),g}function sn(a,t){const o={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(g,F,re){F&&(o[F]=re)}),o}class gn extends E{constructor(t,o){o===void 0&&(o={}),super(),this.binaryType=$t,this.writeBuffer=[],t&&typeof t=="object"&&(o=t,t=null),t?(t=fn(t),o.hostname=t.host,o.secure=t.protocol==="https"||t.protocol==="wss",o.port=t.port,t.query&&(o.query=t.query)):o.host&&(o.hostname=fn(o.host).host),Oe(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=o.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=De(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const o=Object.assign({},this.opts.query);o.EIO=m,o.transport=t,this.id&&(o.sid=this.id);const g=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Tn[t](g)}open(){let t;if(this.opts.rememberUpgrade&&gn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(o){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",o=>this.onClose("transport close",o))}probe(t){let o=this.createTransport(t),g=!1;gn.priorWebsocketSuccess=!1;const F=()=>{g||(o.send([{type:"ping",data:"probe"}]),o.once("packet",Je=>{if(!g)if(Je.type==="pong"&&Je.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;gn.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{g||this.readyState!=="closed"&&(Be(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const _e=new Error("probe error");_e.transport=o.name,this.emitReserved("upgradeError",_e)}}))};function re(){g||(g=!0,Be(),o.close(),o=null)}const Ae=Je=>{const _e=new Error("probe error: "+Je);_e.transport=o.name,re(),this.emitReserved("upgradeError",_e)};function Te(){Ae("transport closed")}function Fe(){Ae("socket closed")}function Ke(Je){o&&Je.name!==o.name&&re()}const Be=()=>{o.removeListener("open",F),o.removeListener("error",Ae),o.removeListener("close",Te),this.off("close",Fe),this.off("upgrading",Ke)};o.once("open",F),o.once("error",Ae),o.once("close",Te),this.once("close",Fe),this.once("upgrading",Ke),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{g||o.open()},200):o.open()}onOpen(){if(this.readyState="open",gn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const o=this.upgrades.length;for(;t<o;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const o=new Error("server error");o.code=t.data,this.onError(o);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let g=0;g<this.writeBuffer.length;g++){const F=this.writeBuffer[g].data;if(F&&(o+=ke(F)),g>0&&o>this.maxPayload)return this.writeBuffer.slice(0,g);o+=2}return this.writeBuffer}write(t,o,g){return this.sendPacket("message",t,o,g),this}send(t,o,g){return this.sendPacket("message",t,o,g),this}sendPacket(t,o,g,F){if(typeof o=="function"&&(F=o,o=void 0),typeof g=="function"&&(F=g,g=null),this.readyState==="closing"||this.readyState==="closed")return;g=g||{},g.compress=g.compress!==!1;const re={type:t,data:o,options:g};this.emitReserved("packetCreate",re),this.writeBuffer.push(re),F&&this.once("flush",F),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),t()},g=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?g():t()}):this.upgrading?g():t()),this}onError(t){gn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,o),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const o=[];let g=0;const F=t.length;for(;g<F;g++)~this.transports.indexOf(t[g])&&o.push(t[g]);return o}}gn.protocol=m;const Xs=gn.protocol;function zt(a,t,o){t===void 0&&(t="");let g=a;o=o||typeof location<"u"&&location,a==null&&(a=o.protocol+"//"+o.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=o.protocol+a:a=o.host+a),/^(https?|wss?):\/\//.test(a)||(typeof o<"u"?a=o.protocol+"//"+a:a="https://"+a),g=fn(a)),g.port||(/^(http|ws)$/.test(g.protocol)?g.port="80":/^(http|ws)s$/.test(g.protocol)&&(g.port="443")),g.path=g.path||"/";const re=g.host.indexOf(":")!==-1?"["+g.host+"]":g.host;return g.id=g.protocol+"://"+re+":"+g.port+t,g.href=g.protocol+"://"+re+(o&&o.port===g.port?"":":"+g.port),g}const qs=typeof ArrayBuffer=="function",Sn=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,Cs=Object.prototype.toString,eo=typeof Blob=="function"||typeof Blob<"u"&&Cs.call(Blob)==="[object BlobConstructor]",to=typeof File=="function"||typeof File<"u"&&Cs.call(File)==="[object FileConstructor]";function Hn(a){return qs&&(a instanceof ArrayBuffer||Sn(a))||eo&&a instanceof Blob||to&&a instanceof File}function Vn(a,t){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let o=0,g=a.length;o<g;o++)if(Vn(a[o]))return!0;return!1}if(Hn(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return Vn(a.toJSON(),!0);for(const o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&Vn(a[o]))return!0;return!1}function os(a){const t=[],o=a.data,g=a;return g.data=On(o,t),g.attachments=t.length,{packet:g,buffers:t}}function On(a,t){if(!a)return a;if(Hn(a)){const o={_placeholder:!0,num:t.length};return t.push(a),o}else if(Array.isArray(a)){const o=new Array(a.length);for(let g=0;g<a.length;g++)o[g]=On(a[g],t);return o}else if(typeof a=="object"&&!(a instanceof Date)){const o={};for(const g in a)Object.prototype.hasOwnProperty.call(a,g)&&(o[g]=On(a[g],t));return o}return a}function cn(a,t){return a.data=Pn(a.data,t),delete a.attachments,a}function Pn(a,t){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<t.length)return t[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let o=0;o<a.length;o++)a[o]=Pn(a[o],t);else if(typeof a=="object")for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(a[o]=Pn(a[o],t));return a}const no=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],so=5;var ut;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(ut||(ut={}));class rs{constructor(t){this.replacer=t}encode(t){return(t.type===ut.EVENT||t.type===ut.ACK)&&Vn(t)?this.encodeAsBinary({type:t.type===ut.EVENT?ut.BINARY_EVENT:ut.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let o=""+t.type;return(t.type===ut.BINARY_EVENT||t.type===ut.BINARY_ACK)&&(o+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(o+=t.nsp+","),t.id!=null&&(o+=t.id),t.data!=null&&(o+=JSON.stringify(t.data,this.replacer)),o}encodeAsBinary(t){const o=os(t),g=this.encodeAsString(o.packet),F=o.buffers;return F.unshift(g),F}}function Mn(a){return Object.prototype.toString.call(a)==="[object Object]"}class Dn extends E{constructor(t){super(),this.reviver=t}add(t){let o;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(t);const g=o.type===ut.BINARY_EVENT;g||o.type===ut.BINARY_ACK?(o.type=g?ut.EVENT:ut.ACK,this.reconstructor=new is(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(Hn(t)||t.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(t),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let o=0;const g={type:Number(t.charAt(0))};if(ut[g.type]===void 0)throw new Error("unknown packet type "+g.type);if(g.type===ut.BINARY_EVENT||g.type===ut.BINARY_ACK){const re=o+1;for(;t.charAt(++o)!=="-"&&o!=t.length;);const Ae=t.substring(re,o);if(Ae!=Number(Ae)||t.charAt(o)!=="-")throw new Error("Illegal attachments");g.attachments=Number(Ae)}if(t.charAt(o+1)==="/"){const re=o+1;for(;++o&&!(t.charAt(o)===","||o===t.length););g.nsp=t.substring(re,o)}else g.nsp="/";const F=t.charAt(o+1);if(F!==""&&Number(F)==F){const re=o+1;for(;++o;){const Ae=t.charAt(o);if(Ae==null||Number(Ae)!=Ae){--o;break}if(o===t.length)break}g.id=Number(t.substring(re,o+1))}if(t.charAt(++o)){const re=this.tryParse(t.substr(o));if(Dn.isPayloadValid(g.type,re))g.data=re;else throw new Error("invalid payload")}return g}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(o){return!1}}static isPayloadValid(t,o){switch(t){case ut.CONNECT:return Mn(o);case ut.DISCONNECT:return o===void 0;case ut.CONNECT_ERROR:return typeof o=="string"||Mn(o);case ut.EVENT:case ut.BINARY_EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&no.indexOf(o[0])===-1);case ut.ACK:case ut.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class is{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const o=cn(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function on(a,t,o){return a.on(t,o),function(){a.off(t,o)}}const oo=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ss extends E{constructor(t,o,g){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=o,g&&g.auth&&(this.auth=g.auth),this._opts=Object.assign({},g),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[on(t,"open",this.onopen.bind(this)),on(t,"packet",this.onpacket.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var t=arguments.length,o=new Array(t),g=0;g<t;g++)o[g]=arguments[g];return o.unshift("message"),this.emit.apply(this,o),this}emit(t){if(oo.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var o=arguments.length,g=new Array(o>1?o-1:0),F=1;F<o;F++)g[F-1]=arguments[F];if(g.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(g),this;const re={type:ut.EVENT,data:g};if(re.options={},re.options.compress=this.flags.compress!==!1,typeof g[g.length-1]=="function"){const Fe=this.ids++,Ke=g.pop();this._registerAckCallback(Fe,Ke),re.id=Fe}const Ae=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!Ae||!this.connected)||(this.connected?(this.notifyOutgoingListeners(re),this.packet(re)):this.sendBuffer.push(re)),this.flags={},this}_registerAckCallback(t,o){var g=this,F;const re=(F=this.flags.timeout)!==null&&F!==void 0?F:this._opts.ackTimeout;if(re===void 0){this.acks[t]=o;return}const Ae=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let Fe=0;Fe<this.sendBuffer.length;Fe++)this.sendBuffer[Fe].id===t&&this.sendBuffer.splice(Fe,1);o.call(this,new Error("operation has timed out"))},re),Te=function(){g.io.clearTimeoutFn(Ae);for(var Fe=arguments.length,Ke=new Array(Fe),Be=0;Be<Fe;Be++)Ke[Be]=arguments[Be];o.apply(g,Ke)};Te.withError=!0,this.acks[t]=Te}emitWithAck(t){for(var o=arguments.length,g=new Array(o>1?o-1:0),F=1;F<o;F++)g[F-1]=arguments[F];return new Promise((re,Ae)=>{const Te=(Fe,Ke)=>Fe?Ae(Fe):re(Ke);Te.withError=!0,g.push(Te),this.emit(t,...g)})}_addToQueue(t){var o=this;let g;typeof t[t.length-1]=="function"&&(g=t.pop());const F={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(function(re){if(F!==o._queue[0])return;if(re!==null)F.tryCount>o._opts.retries&&(o._queue.shift(),g&&g(re));else if(o._queue.shift(),g){for(var Te=arguments.length,Fe=new Array(Te>1?Te-1:0),Ke=1;Ke<Te;Ke++)Fe[Ke-1]=arguments[Ke];g(null,...Fe)}return F.pending=!1,o._drainQueue()}),this._queue.push(F),this._drainQueue()}_drainQueue(t){if(t===void 0&&(t=!1),!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!t||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ut.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,o),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(g=>String(g.id)===t)){const g=this.acks[t];delete this.acks[t],g.withError&&g.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ut.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ut.EVENT:case ut.BINARY_EVENT:this.onevent(t);break;case ut.ACK:case ut.BINARY_ACK:this.onack(t);break;case ut.DISCONNECT:this.ondisconnect();break;case ut.CONNECT_ERROR:this.destroy();const g=new Error(t.data.message);g.data=t.data.data,this.emitReserved("connect_error",g);break}}onevent(t){const o=t.data||[];t.id!=null&&o.push(this.ack(t.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const g of o)g.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const o=this;let g=!1;return function(){if(!g){g=!0;for(var F=arguments.length,re=new Array(F),Ae=0;Ae<F;Ae++)re[Ae]=arguments[Ae];o.packet({type:ut.ACK,id:t,data:re})}}}onack(t){const o=this.acks[t.id];typeof o=="function"&&(delete this.acks[t.id],o.withError&&t.data.unshift(null),o.apply(this,t.data))}onconnect(t,o){this.id=t,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ut.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const o=this._anyListeners;for(let g=0;g<o.length;g++)if(t===o[g])return o.splice(g,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const o=this._anyOutgoingListeners;for(let g=0;g<o.length;g++)if(t===o[g])return o.splice(g,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const g of o)g.apply(this,t.data)}}}function Nn(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}Nn.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),o=Math.floor(t*this.jitter*a);a=(Math.floor(t*10)&1)==0?a-o:a+o}return Math.min(a,this.max)|0},Nn.prototype.reset=function(){this.attempts=0},Nn.prototype.setMin=function(a){this.ms=a},Nn.prototype.setMax=function(a){this.max=a},Nn.prototype.setJitter=function(a){this.jitter=a};class Kn extends E{constructor(t,o){var g;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(o=t,t=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,Oe(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((g=o.randomizationFactor)!==null&&g!==void 0?g:.5),this.backoff=new Nn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=t;const F=o.parser||s;this.encoder=new F.Encoder,this.decoder=new F.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var o;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(o=this.backoff)===null||o===void 0||o.setMin(t),this)}randomizationFactor(t){var o;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(o=this.backoff)===null||o===void 0||o.setJitter(t),this)}reconnectionDelayMax(t){var o;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(o=this.backoff)===null||o===void 0||o.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new gn(this.uri,this.opts);const o=this.engine,g=this;this._readyState="opening",this.skipReconnect=!1;const F=on(o,"open",function(){g.onopen(),t&&t()}),re=Te=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",Te),t?t(Te):this.maybeReconnectOnOpen()},Ae=on(o,"error",re);if(this._timeout!==!1){const Te=this._timeout,Fe=this.setTimeoutFn(()=>{F(),re(new Error("timeout")),o.close()},Te);this.opts.autoUnref&&Fe.unref(),this.subs.push(()=>{this.clearTimeoutFn(Fe)})}return this.subs.push(F),this.subs.push(Ae),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(on(t,"ping",this.onping.bind(this)),on(t,"data",this.ondata.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(o){this.onclose("parse error",o)}}ondecoded(t){dt(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,o){let g=this.nsps[t];return g?this._autoConnect&&!g.active&&g.connect():(g=new Ss(this,t,o),this.nsps[t]=g),g}_destroy(t){const o=Object.keys(this.nsps);for(const g of o)if(this.nsps[g].active)return;this._close()}_packet(t){const o=this.encoder.encode(t);for(let g=0;g<o.length;g++)this.engine.write(o[g],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const g=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(F=>{F?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",F)):t.onreconnect()}))},o);this.opts.autoUnref&&g.unref(),this.subs.push(()=>{this.clearTimeoutFn(g)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Rn={};function as(a,t){typeof a=="object"&&(t=a,a=void 0),t=t||{};const o=zt(a,t.path||"/socket.io"),g=o.source,F=o.id,re=o.path,Ae=Rn[F]&&re in Rn[F].nsps,Te=t.forceNew||t["force new connection"]||t.multiplex===!1||Ae;let Fe;return Te?Fe=new Kn(g,t):(Rn[F]||(Rn[F]=new Kn(g,t)),Fe=Rn[F]),o.query&&!t.query&&(t.query=o.queryKey),Fe.socket(o.path,t)}if(Object.assign(as,{Manager:Kn,Socket:Ss,io:as,connect:as}),n.j!=15)var ls=n(51326);if(n.j!=15)var Ct=n(47437);if(n.j!=15)var rn=n(87612);if(n.j!=15)var Ms=n(27814);const cs=n.j!=15?2*1e3:null,ds=n.j!=15?24*1e3:null,Zn=n.j!=15?48*1e3:null,Gn=()=>{},ro=()=>({destroy:Gn,reset:Gn,emitAsync:io,emitLossy:Gn,getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),io=async(a,t)=>({type:a,payload:t,isDummy:!0}),ao=a=>{let{query:{uId:t,fURL:o=globalThis.location.href.slice(0,128),uTag:g=Ct.CH,vTag:F=Ms.r,rKey:re},lossyListenerMap:Ae={},queueListenerMap:Te={},socketUrl:Fe=globalThis.location.origin,socketPath:Ke=Ct.$r,usePolling:Be=!1}=a;if(!t||!re)throw new Error("SKT bad query");const Je=(0,ls.I6)();let _e,Ie=(0,p.wT)(),ze=0,Qe=null;const lt=()=>{_e!==void 0&&(_e.close(),_e=void 0,Ie=(0,p.wT)(),Ot=!1,Qe&&clearTimeout(Qe),Qe=null)},It=()=>{lt();const ct=new Kn(Fe,{path:Ke,query:{uId:t,fURL:o,uTag:g,vTag:F,rKey:re},transports:Be?["polling","websocket"]:["websocket"],timeout:Zn,reconnectionDelay:Math.round((cs+ds)/2),reconnectionDelayMax:Zn,randomizationFactor:(ds-cs)/(ds+cs),closeOnBeforeunload:!1}).socket(Ct.I4);ct.on("connect_error",He=>{console.log("[socket] connect_error",He),He.message.includes(Ct.uB)&&(lt(),Je.dispatchEvent({type:Ct.VU,payload:{error:He}})),Je.dispatchEvent({type:Ct.Ei,payload:{error:He}})}),ct.on("connect",async()=>{console.log("[socket] connect");{const He=Date.now(),qe=await(0,p.hq)(Kt(Ct.Ip),10*1e3,Ct.Ip).catch(async rt=>{throw(0,N.et)(It,2*1e3),console.warn(Ct.Ip,rt),Ie.reject(rt),rt}),tt=Date.now();ze=qe-(He+tt)*.5}Qe=(0,N.et)(()=>{!_e||!_e.connected||Ot||It()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),Je.dispatchEvent({type:Ct.zS}),Ie.resolve()});{let He=Promise.resolve();const qe=(tt,rt)=>{const pt=He.then(tt);return He=pt.then(Gn,At=>{(0,rn.p)("SKT-QA-"+rt,At)}),pt};Je.clear();for(const[tt,rt]of Object.entries(Ae))ct.on(tt,pt=>rt({type:tt,payload:pt})),Je.addEventListener(tt,pt=>{let{payload:At}=pt;return rt({type:tt,payload:At})});for(const[tt,rt]of Object.entries(Te))ct.on(tt,pt=>qe(()=>rt({type:tt,payload:pt}),tt)),Je.addEventListener(tt,pt=>{let{payload:At}=pt;return qe(()=>rt({type:tt,payload:At}),tt)})}_e=ct};let Ot=!1;const Kt=async(Qt,ct)=>{Ot=!0;const{error:He,result:qe}=await(0,p.hq)(new Promise(tt=>_e.emit(Qt,ct,tt)),42*1e3,"SKT-USR "+Qt).finally(()=>{Ot=!1});if(He!==void 0)throw Object.assign(new Error(typeof He=="object"&&He.message||"SKT-USR "+Qt),He);return qe},kt=(Qt,ct)=>{_e.volatile.emit(Qt,ct)};return It(),{destroy:lt,reset:It,emitAsync:Kt,emitLossy:kt,getIsConnected:()=>_e&&_e.connected||!1,getSocketId:()=>_e&&_e.id||"",getReadyPromise:()=>Ie.promise,getOffsetMsec:()=>ze}};var xn=n(41011),qt=n(29158),In=n(26812),Ut=n(38047);if(n.j!=15)var Et=n(69415);if(n.j!=15)var Vt=n(86033);var bn=n(8984);const Fn=0,Ns={cDebugMin:Fn,cCmtPack:Fn+1,cCmtThread:Fn+2,cCmtContent:Fn+3,cDebugMax:35},kn=(0,bn.W)("cmt-type",Ns),Is=kn.pack("cCmtPack"),Yn=kn.pack("cCmtThread"),ks=kn.pack("cCmtContent"),Es=new Set(["cCmtPack","cCmtThread","cCmtContent"]),lo=new Set([Is,Yn,ks]);if(n.j!=15)var js=n(40093);const co={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},Ts=(0,bn.W)("DraftBlockType",co),As={left:0,center:1,right:2,justify:3},$n=(0,bn.W)("DraftAlignment",As),uo={LINK:0,IMAGE:1},Ls=(0,bn.W)("DraftEntityMapType",uo),po={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},us=(0,bn.W)("DraftEntityMapMutability",po),Os={_blank:0,_self:1},Ps=(0,bn.W)("DraftLinkTargetOption",Os),ho=a=>{const t={};return Object.keys(a).forEach(o=>{const{type:g,mutability:F,data:re}=a[o],Ae=[Ls.pack(g),us.pack(F)],Te=[];g==="LINK"?(Ae.push(Ps.pack(re.targetOption)),Te.push(re.url||"")):g==="IMAGE"&&(Ae.push((0,Et.c5)(re.width),$n.pack(re.alignment)),Te.push(re.src||"",re.alt||"")),t["e/"+o]=[Ae.join(Vt.xi),...Te]}),t},mo=a=>{const t={};for(const o of Object.keys(a)){if(!o.startsWith("e/"))continue;const g=o.split("e/")[1],[F,...re]=a[o],[Ae,Te,Fe,Ke]=F.split(Vt.xi),Be=Ls.parse(Ae),Je=us.parse(Te);t[g]=Be==="LINK"?{type:Be,mutability:Je,data:{url:re[0],targetOption:Ps.parse(Fe)}}:{type:Be,mutability:Je,data:{src:re[0],alt:re[1],width:(0,Et._3)(Fe),alignment:$n.parse(Ke)}}}return t},Ds=a=>{const t={};return Object.keys(a).forEach(o=>{const{text:g,type:F,depth:re,inlineStyleRanges:Ae,entityRanges:Te,data:{textAlign:Fe,textIndent:Ke,paraSpacing:Be}}=a[o],Je=[Ts.packDef(F,"unstyled"),(0,Et.c5)(re),Fe?$n.pack(Fe):"",Ke!==void 0?(0,Et.c5)(Ke):"",Be!==void 0?(0,Ut.ZI)(Be):""];t["b/"+o]=[Je.join(Vt.xi),g,Ae.map(_e=>{let{offset:Ie,length:ze,style:Qe}=_e;return dn(Ie,ze,Qe)}),Te.map(_e=>{let{offset:Ie,length:ze,key:Qe}=_e;return go(Ie,ze,Qe)})]}),t},go=(a,t,o)=>""+(0,Et.c5)(a)+Vt.xi+(0,Et.c5)(t)+Vt.xi+(0,Et.c5)(o),fo=a=>{const t=a.indexOf(Vt.xi),o=a.indexOf(Vt.xi,t+1);return[(0,Et._3)(a.slice(0,t)),(0,Et._3)(a.slice(t+1,o)),(0,Et._3)(a.slice(o+1))]},dn=(a,t,o)=>""+(0,Et.c5)(a)+Vt.xi+(0,Et.c5)(t)+Vt.xi+o,yo=a=>{const t=a.indexOf(Vt.xi),o=a.indexOf(Vt.xi,t+1);return[(0,Et._3)(a.slice(0,t)),(0,Et._3)(a.slice(t+1,o)),a.slice(o+1)]},_t=a=>{const t={};for(const o of Object.keys(a)){if(!o.startsWith("b/"))continue;const g=o.split("b/")[1],[F,re,Ae,Te]=a[o],[Fe,Ke,Be,Je,_e]=F.split(Vt.xi),Ie={};Be!==""&&(Ie.textAlign=$n.parse(Be)),Je!==""&&(Ie.textIndent=(0,Et._3)(Je)),_e!==""&&_e!==void 0&&(Ie.paraSpacing=(0,Ut.bp)(_e)),t[g]={text:re,type:Ts.parse(Fe),depth:(0,Et._3)(Ke),inlineStyleRanges:Ae.map(ze=>{const[Qe,lt,It]=yo(ze);return{offset:Qe,length:lt,style:It}}),entityRanges:Te.map(ze=>{const[Qe,lt,It]=fo(ze);return{offset:Qe,length:lt,key:It}}),data:Ie}}return t},Rs=a=>{let{message:t}=a;const{blocks:o={},entityMap:g={}}=t;return{...Ds(o),...ho(g)}},Qn=a=>({message:{blocks:_t(a),entityMap:mo(a)}}),ps=a=>({T:kn.pack(a.type),IC:[(0,Et.c5)(a.index),(0,Et.vH)(a.ctime)].join(Vt.xi)}),hs=a=>{const[t,o]=a.IC.split(Vt.xi);return{type:kn.parse(a.T),index:(0,Et._3)(t),ctime:(0,Et.TT)(o)}},Fs=a=>({...ps(a),R:a.refKey}),xo=a=>({...hs(a),refKey:a.R}),Bs=a=>({...ps(a),...Rs(a),xy:(0,Ut.x3)(a.x,a.y),wh:(0,Ut.x3)(a.w,a.h),z:(0,Ut.ZI)(a.z),userInfo:a.userInfo,userId:(0,Ut.ZI)(a.userId),mtime:(0,Et.vH)(a.mtime),isCompleted:(0,js.rK)(a.isCompleted),canvasVec2:a.canvasVec2?{x:(0,Ut.ZI)(a.canvasVec2.x),y:(0,Ut.ZI)(a.canvasVec2.y)}:a.canvasVec2,canvasCid:a.canvasCid,threadType:a.threadType}),zs=a=>{const[t,o]=(0,Ut.fm)(a.xy),[g,F]=(0,Ut.fm)(a.wh),re=a.canvasVec2?(0,Ut.bp)(a.canvasVec2.x):void 0,Ae=a.canvasVec2?(0,Ut.bp)(a.canvasVec2.y):void 0,Te=(0,Ut.bp)(a.z);return{...hs(a),...Qn(a),x:t,y:o,w:g,h:F,z:Te,mtime:(0,Et.TT)(a.mtime),userInfo:a.userInfo,userId:(0,Ut.bp)(a.userId),isCompleted:(0,js.Vf)(a.isCompleted),canvasCid:a.canvasCid,threadType:a.threadType,canvasVec2:re&&Ae?{x:re,y:Ae}:void 0}},Jn=a=>({...ps(a),...Rs(a),mtime:(0,Et.vH)(a.mtime),userInfo:a.userInfo}),Us=a=>({...hs(a),...Qn(a),mtime:(0,Et.TT)(a.mtime),userInfo:a.userInfo}),bo=a=>{try{switch(a.T){case void 0:return a;case Is:return xo(a);case Yn:return zs(a);case ks:return Us(a);default:throw new Error("invalid attr: "+a.T+" -> "+kn.parse(a.T))}}catch(t){throw(0,rn.p)("toP2CHA badDat",t,a),t}},Ws=a=>{try{switch(a.type){case void 0:return a;case"cCmtPack":return Fs(a);case"cCmtThread":return Bs(a);case"cCmtContent":return Jn(a);default:throw new Error("invalid attr: "+a.type)}}catch(t){throw(0,rn.p)("toP2CCA badDat",t,a),t}};if(n.j!=15)var vo=n(43972);const Hs=(a,t)=>{const o=Te=>{const Fe=a(Te);return Fe===void 0?[]:Fe.sub.map(Ke=>a(Ke))},g=(0,vo.MX)(Te=>Te.sub.map(Fe=>a(Fe))),F=(Te,Fe)=>{const Ke=a(Te);Ke!==void 0&&(Fe(Ke)||Ke.sub.length!==0&&g(Ke,Fe))};return{getHotItem:a,getSubHotItemList:o,walkHotItemSubtree:F,isTrashed:Te=>(0,qt.DM)(Te,t.getFlatTree()),__devHotTree:function(Te){Te===void 0&&(Te=qt.gT);const Fe=new Map,Ke=Be=>{let Je=Fe.get(Be);return Je===void 0&&Fe.set(Be,Je={}),Je};return F(Te,Be=>{Ke(Be.sup)[Be.key]=Be.hotAttr,Be.sub.length!==0&&(Ke(Be.sup)[Be.key+" SUB"]=Ke(Be.key))}),Ke(a(Te).sup)}}};if(n.j!=15)var Vs=n(97529);if(n.j!=15)var ms=n(78235);var _o=n(62124),nn=n(25037);if(n.j!=15)var wo=n(89989);const Co=(a,t,o)=>{const g=_e=>{if(_e===void 0||_e.length===0)return;const Ie=new Set;for(const Qe of _e)Ie.add(Qe.key),Qe.type==="I"&&Ie.add(Qe.keySup);const ze=(0,qt.CF)([...Ie].filter(qt.xe),o.getFlatTree());a({type:wo.a,payload:ze})},F=_e=>{const Ie=[],ze=_e(Ie);return g(o.applyDiff(Ie)),ze},re=_e=>F(Ie=>{const ze=[],Qe=_e(ze);for(const lt of ze)lt.type==="update"?Ke(lt.hotItem,Ie):lt.type==="delete"&&Be(lt.key,Ie);return Qe}),Ae=function(){const _e=[],Ie=[];let ze,Qe=!1;for(var lt=arguments.length,It=new Array(lt),Ot=0;Ot<lt;Ot++)It[Ot]=arguments[Ot];for(const Kt of It){ze=Kt(_e);const kt=o.applyDiff(_e);kt!==void 0&&(Ie.push(...kt),Qe?o.combineLastUndo():Qe=!0)}return g(Ie),ze},Te=function(){for(var _e=arguments.length,Ie=new Array(_e),ze=0;ze<_e;ze++)Ie[ze]=arguments[ze];const Qe=Ie.map(lt=>It=>{const Ot=[],Kt=lt(Ot);for(const kt of Ot)kt.type==="update"?Ke(kt.hotItem,It):kt.type==="delete"&&Be(kt.key,It);return Kt});return Ae(...Qe)},Fe=(_e,Ie)=>{for(const ze of Object.keys(_e)){const Qe=_e[ze],lt=Ie[ze];Qe!==lt&&(0,Vs.sw)(Qe)&&(0,Vs.sw)(lt)&&JSON.stringify(Qe)===JSON.stringify(lt)&&(_e[ze]=lt)}},Ke=(_e,Ie)=>{const ze=(0,qt.PV)(_e.key,o.getFlatTree());if(ze===void 0)Ie.push({type:nn.UF,key:_e.key,keySup:_e.sup}),Ie.push({type:nn.qC,key:_e.key,attrDiff:Ws(_e.hotAttr)});else{ze.sup!==_e.sup&&Ie.push({type:nn.UF,key:_e.key,keySup:_e.sup});const Qe=Ws(_e.hotAttr);Fe(Qe,ze.attr);const lt=(0,_o.m)(Qe,ze.attr);lt!==void 0&&Ie.push({type:nn.qC,key:_e.key,attrDiff:lt})}},Be=(_e,Ie)=>{o.getFlatItem(_e)&&Ie.push({type:nn.UF,key:_e,keySup:qt.Ri})},Je=(_e,Ie,ze)=>{o.getFlatItem(_e)&&o.getFlatItem(Ie)&&ze.push({type:nn.UF,key:_e,keySup:Ie})};return{_edit:F,_editAction:re,_editBatch:Ae,_editActionBatch:Te,onRemotePatchList:_e=>{const Ie=[];for(const ze of _e){const Qe=o.applyDiffRemote(ze.diffList,ze.clock);Qe!==void 0&&Ie.push(...Qe)}g(Ie)},updateHotItem:_e=>F(Ie=>{Ke(_e,Ie)}),updateHotItemBatch:_e=>F(Ie=>{for(const ze of _e)Ke(ze,Ie)}),deleteHotItem:_e=>F(Ie=>{Be(_e,Ie)}),deleteHotItemBatch:_e=>F(Ie=>{for(const ze of _e)Be(ze,Ie)}),moveHotItem:(_e,Ie)=>F(ze=>{Je(_e,Ie,ze)}),moveHotItemBatch:_e=>F(Ie=>{for(const[ze,Qe]of _e)Je(ze,Qe,Ie)}),editHotItemBatch:_e=>F(Ie=>{for(const ze of _e)ze.type==="update"?Ke(ze.hotItem,Ie):ze.type==="delete"&&Be(ze.key,Ie)}),updateHotAttrMerge:(_e,Ie)=>F(ze=>{const Qe=t(_e);if(Qe===void 0)throw new Error("no item: "+_e);Ke((0,ms.MK)(Qe,"hotAttr",{...Qe.hotAttr,...Ie}),ze)}),updateHotAttrKV:(_e,Ie,ze)=>F(Qe=>{const lt=t(_e);if(lt===void 0)throw new Error("no item: "+_e);Ke((0,ms.MK)(lt,"hotAttr",(0,ms.MK)(lt.hotAttr,Ie,ze)),Qe)}),canUndo:o.canUndo,canRedo:o.canRedo,combineMergeMark:o.combineMergeMark,combineMerge:o.combineMerge,undo:()=>{g(o.undo())},redo:()=>{g(o.redo())}}};var Bn=n(96737);const So=a=>{const t=(0,ls.wz)(),o=t.subscribe,g=t.unsubscribe,F=Ks(a),re=Hs(F,a),Ae=()=>Mo(a.getFlatTree),Te=Co(t.send,F,a),{_edit:Fe,_editAction:Ke,_editBatch:Be,_editActionBatch:Je,..._e}=Te;return{subscribe:o,unsubscribe:g,...re,createRoCmtStore:Ae,..._e}},Ks=a=>t=>{const o=a.getFlatTree().get(t);if(o===void 0)return;const g=a.getOCI(o);return g.hotItem===void 0&&(g.hotItem={key:o.key,sup:o.sup,sub:o.sub,hotAttr:bo(o.attr)}),g.hotItem},Mo=a=>{const t=(0,Bn.b$)(a(),(0,xn.aF)({})),o=()=>t.getFlatTree()!==a(),g=()=>t.sync(a()),F=Ks(t),re=Hs(F,t);return{hasUpdate:o,syncUpdate:g,...re}};var No=n(83557),gs=n(8445);if(n.j!=15)var Io=n(80730);if(n.j!=15)var ko=n(32182);var vn=n(51933),Xn=n(62732),zn=n(55338);const fs=a=>{const[t,o,g]=a,F=async()=>(0,Xn.BT)(zn.r,t.tre),re=async function(Be){Be===void 0&&(Be=-1);const Je=[];for(const{pbx:_e,t10s:Ie}of o){if(Ie<Be)continue;const ze=(0,ko.CE)(await zn.r.gunzipU8AAsync(new Uint8Array(_e)));for(const Qe of(0,vn.Pb)(ze))Je.push(Qe)}for(const{pch:_e,t10s:Ie}of g)Ie<Be||Je.push(_e);return Je},Ae=async function(Be){Be===void 0&&(Be=-1);const Je=[];for(const _e of await re(Be))Je.push((0,nn.iz)(_e));return Je},Te=async function(Be){Be===void 0&&(Be=-1);const Je=[];for(const _e of await re(Be)){const{clock:Ie,diffList:ze}=(0,nn.iz)(_e);Je.push([(0,xn._r)(Ie).slice(5),ze,_e])}return Je};return{getParsedTre:F,getPchList:re,getPatchList:Ae,getReadablePatchList:Te,filterReadablePatchList:async function(Be,Je){return Je===void 0&&(Je=-1),(await Te(Je)).filter(_e=>{let[,,Ie]=_e;return Ie.includes(Be)})},getMergedReadablePatchList:async function(Be,Je){Be===void 0&&(Be=-1),Je===void 0&&(Je=16);const _e=[];let Ie={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const ze=Qe=>{Ie.timePrefix!==Qe&&(Ie.timePrefix!==""&&_e.push(Ie.timePrefix.slice(5)+"..Z I*"+(Ie.countDI||"-")+" A*"+(Ie.countDA||"-")+" ["+[...Ie.userIdSet].join(",")+"]"),Ie={timePrefix:Qe,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[Qe,lt],diffList:It}of await Ae(Be)){const Ot=new Date(Qe).toISOString().slice(0,Je);ze(Ot),Ie.userIdSet.add(lt);for(const{type:Kt}of It)Kt===nn.UF?Ie.countDI++:Ie.countDA++}return ze(""),_e},flpak:a}},ys=a=>Math.floor(a/10/1e3),xs=a=>{const[t]=(0,nn.cx)(a);return ys(t)},Eo=a=>{let[t,o,g]=a;return g.length!==0?g[g.length-1].t10s:o.length!==0?o[o.length-1].t10s:t.t10s};if(n.j!=15)var bs=n(8113);if(n.j!=15)var Un=n(11311);if(n.j!=15)var Yo=n(36272);const qn=(a,t,o)=>{let g=!1,F=0,re=0;const Ae=new Map;let Te=[],Fe,Ke,Be,Je;const _e=He=>{let[qe,,tt]=He;if(qe!==a)return!1;const rt=(0,vn.vZ)(tt);for(const pt of rt)Te.push([pt,xs(pt),!1]);return Be!==void 0&&Be(rt.map(pt=>(0,nn.iz)(pt))),!0},Ie=async(He,qe,tt)=>{if(Ke!==void 0)throw new Error("no re-init flatStore");Fe=He,Je=qe;let rt,pt,At;if(tt)try{At=new Worker(new URL(n.p+n.u(70),n.b))}catch(Lt){console.error("[NotSupportWorker]",Lt)}if(At){const Lt=location.hash.includes("INSP-INIT-FLPAK");rt=(0,Yo.of)();const{token:Rt,passwd:Wt,onFetchError:un,onTransferItems:We,...ht}=tt,{remote:Zt,destory:Ft}=(0,Un.B)(At,{...ht,onTransferItems:(_s,$s,ws)=>{_s.forEach((Uo,Wo)=>{rt.set(Wo,Uo)}),$s&&(We==null||We($s,ws))}}),_n=await Zt("initFlpakData",{token:Rt,passwd:Wt,flpakKey:a,inspectFlpak:Lt,skipVertify:location.hash.includes("BYPASS-FLPAK")||o!==!0}),{FetchError:yn,VertifyError:wn,flatTreeSize:jn,fixedDiffMap:$o}=_n;if(yn){const _s=Object.assign(new Error(yn.message),{status:yn.status});throw await un(_s),_s}if(wn)throw new Error(wn.message);if(jn!==rt.getMap().size)throw new Error("flatTree lost items, expected: "+jn+", got: "+rt.getMap().size);Lt||Ft(),pt=(0,Bn.OR)($o)}else{pt=(0,Bn.OR)();const Lt=await Je(a);{const Wt="INSP-INIT-FLPAK";location.hash.includes(Wt)&&Object.assign(globalThis,{[Wt+"/"+a]:{...fs(Lt),__flpakKey:a,__name:t}})}F=Eo(Lt),rt=await(0,Xn.TN)(zn.r,Lt,(Wt,un)=>(0,vn.qG)(Wt,un,pt.mutateTFAAFNB));let Rt=qt.xL;{const Wt="BYPASS-FLPAK";location.hash.includes(Wt)&&(Rt=un=>console.warn("["+Wt+"|vFT]",un))}o===!0&&Rt(rt)}for(const[Lt,Rt,Wt]of Te)!Wt&&F>=Rt||(0,vn.qG)(rt,Lt,pt.mutateTFAAFNB);Ke=(0,Bn.b$)(rt,He,(Lt,Rt,Wt)=>{if(g&&console.log("flat|onPatch",{diffList:Lt,clock:Rt,isLocal:Wt}),Te.push([(0,nn.AO)({diffList:Lt,clock:Rt}),ys(Rt[0]),Wt]),Wt)return;const[un,We,ht,Zt]=Rt;re=Math.max(re,un);const Ft=(0,xn.au)(We,ht);if(Fe.selfCCK===Ft)throw new Error("unexpected selfCck: "+Ft);const _n=Ae.get(Ft)||-1;_n>Zt&&console.warn("bad editId for cck: "+Ft+", last: "+_n+", new: "+Zt),Ae.set(Ft,Zt)},(Lt,Rt)=>{console.warn("flat|requestResync",{error:Lt,message:Rt})}),Be=Lt=>{for(const Rt of Lt)Ke.applyDiffRemote(Rt.diffList,Rt.clock)};const Gt=pt.getFixDiffList(rt);Gt.length&&(Ke.applyDiff(Gt),Ke.resetUndo())},ze=He=>{Be=He},Qe=()=>Fe,lt=()=>Ke,It=async function(He){if(He===void 0&&(He=""),o===!0)try{if(!Ke||!F||!kt())return;const qe=Ke.getFlatTree(),[tt,rt]=await(0,Xn.Vz)(zn.r,qe);await(0,bs.hp)("//FSS/"+t+"/"+a,new Blob([rt],{type:"application/octet-stream"}),{message:He,treRawSize:tt,treSize:rt.byteLength})}catch(qe){console.warn("saveSOS",He,qe)}},Ot=async()=>{if(o===!0)try{const He=await(0,bs.Ey)("//FSS/"+t+"/"+a);if(He.length){console.warn("[loadSOS] found "+He.length+" record");const{data:qe,extra:tt}=He[0];console.warn("[loadSOS] load record from "+new Date(tt.time).toISOString());const rt=await(0,Io.WL)(qe),pt=await(0,Xn.BT)(zn.r,rt);return console.warn("[loadSOS] record tree: "+pt.slowSize()),{tree:pt,...tt}}}catch(He){console.warn("loadSOS",He)}},Kt=async()=>{if(o===!0)try{return await(0,bs.EP)("//FSS/"+t+"/"+a)}catch(He){console.warn("freeSOS",He)}},kt=()=>{if(o!==!0)return!1;for(const[,,He]of Te)if(He)return!0;return!1};return{flpakKey:a,name:t,__setIsDev:He=>{g=He},onRemotePayloadSave:_e,bind:Ie,useExtORPL:ze,getClockStore:Qe,getFlatStore:lt,saveSOS:It,loadSOS:Ot,freeSOS:Kt,hasPatch:kt,preSettlePatch:()=>{if(o!==!0)return[];const He=[];for(const[qe,,tt]of Te)tt&&He.push(qe);return He},postSettlePatch:He=>{o===!0&&(Te=Te.filter(qe=>{let[tt,rt,pt]=qe;return!pt||!He.includes(tt)}))}}},jo=(a,t,o)=>{let g,F;return{flpakKey:a,name:"[DUMMY]"+t,__setIsDev:re=>{},onRemotePayloadSave:re=>{let[Ae,,Te]=re;return!1},bind:async(re,Ae)=>{if(F!==void 0)throw new Error("no re-init flatStore");g=re,F=(0,Bn.b$)((0,qt.Id)(),re)},useExtORPL:re=>{},getClockStore:()=>g,getFlatStore:()=>F,saveSOS:async re=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:re=>{}}};if(n.j!=15)var To=n(45246);const vs=n.j!=15?Ut.x3:null,Ao=n.j!=15?Ut.fm:null,Lo=a=>{const t=new Map;let o=!1,g=!1,F,re,Ae=()=>"";const Te=()=>{t.clear(),Be()};let Fe=0;const Ke=ct=>{const He={socketId:ct,index:Fe++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return t.set(ct,He),o=!0,He},Be=(0,p.Ds)(async()=>{if(await(0,N.Y_)(2*1e3),F===void 0)return;const ct=[];for(const{socketId:rt,lastStatAt:pt}of t.values())pt!==0&&ct.push(rt);for(const[rt,pt,At]of await F([a,ct])){const Gt=t.get(rt)||Ke(rt);Gt.lastStatAt=Date.now(),Gt.stat=[pt,At]}const[He,qe,tt]=Ie;He&&re&&re([a,He,vs(qe,tt)])},ct=>{console.warn("_tPS",ct)}).trigger,Je=ct=>{let[He,qe,tt]=ct;const[rt,pt]=Ao(tt),At=[rt,pt,qe],Gt=t.get(He)||Ke(He);Gt.lastCurAt=Date.now(),Gt.cur=At,Gt.lastStatAt===0?Be():g=!0},_e=ct=>{let[He,qe]=ct;const tt=t.has(qe);He===0&&tt&&(t.delete(qe),o=!0)};let Ie=["",NaN,NaN],ze=0;const Qe=function(ct){ct===void 0&&(ct=Ie[0]);const He=Ae();if(He==="")return!1;for(const{socketId:qe,cur:tt}of t.values())if(tt&&tt[2]===ct&&qe!==He)return!0;return!1},lt=function(ct,He,qe){He===void 0&&(He=Ut.Ni),qe===void 0&&(qe=Ut.Ni),!(Ie[0]===ct&&Ie[1]===He&&Ie[2]===qe)&&(Ie[0]!==ct&&(ze=1),!(!ze&&(t.size<2||!Qe(ct)))&&(Ie=[ct,He,qe],ze&&ze--,re&&re([a,ct,vs(He,qe)])))},It=async(ct,He,qe)=>{if(F!==void 0)throw new Error("no re-init fetchCurStat");F=ct,re=He,Ae=qe},Ot=()=>{const ct=Ae(),He=[];if(ct==="")return He;for(const{socketId:qe,stat:tt}of t.values()){if(tt===void 0)continue;const[rt,pt]=tt;ct===qe?He.unshift([qe,rt,pt]):He.push([qe,rt,pt])}return He},Kt=ct=>{const He=Ae(),qe=[];if(He==="")return qe;for(const{socketId:tt,index:rt,cur:pt,stat:At}of t.values()){if(He===tt||pt===void 0||At===void 0)continue;const[Gt,Lt,Rt]=pt;if(Rt!==ct||Gt===Ut.Ni)continue;const[Wt,un]=At;qe.push([rt,Gt,Lt,Wt,un])}return qe},kt=()=>o?(o=!1,!0):!1,Qt=()=>g?(g=!1,!0):!1;return{flpakKey:a,__curStatMap:t,onSocketConnect:Te,onRemoteCur:Je,onRemoteSocket:_e,hasOtherUser:Qe,tryPackCur:lt,bind:It,getRoomStat:Ot,getSocketStat:Ot,getCurStat:Kt,pollRoomChg:kt,pollCurChg:Qt,pollChange:Qt}},Oo=a=>{const t=()=>{},o=Be=>{let[Je,_e,Ie]=Be},g=Be=>{let[Je,_e]=Be},F=Be=>!1,re=(Be,Je,_e)=>{},Ae=async(Be,Je,_e)=>{},Te=()=>[],Fe=Be=>[],Ke=()=>!1;return{flpakKey:a,onSocketConnect:t,onRemoteCur:o,onRemoteSocket:g,hasOtherUser:F,tryPackCur:re,bind:Ae,getRoomStat:Te,getSocketStat:Te,getCurStat:Fe,pollRoomChg:Ke,pollCurChg:Ke,pollChange:Ke}},Zs=()=>{};let Gs=!1;const Po=a=>{Gs=a},Do="dat",Ro="cmt",Fo="mkt:dat",Bo="sclib:dat",zo=async a=>{let{flpakKey:t,userId:o,uTag:g,token:F,passwd:re,isDummyCmt:Ae=!1,isAllowDat:Te=!1,isAllowCmt:Fe=!1,isAllowCur:Ke=!1,afterStoreCreate:Be=Zs,__fetchFlpakAsync:Je=gs.TP,onTransferError:_e=Zs,workerOptions:Ie}=a;const ze=qn(t,Do,Te),Qe=(Ae?jo:qn)((0,To.J6)(t),Ro,Fe),lt=(Ke?Lo:Oo)(t);await Be({fssDat:ze});const It=async(We,ht)=>{await ze.saveSOS("OTE|"+We+"|"+ht),await _e(We,ht)},Ot=async We=>{const ht=es(We);En(We)!=="Fch"&&(0,rn.p)("fFS "+En(We),We),await It(ht,We)},Kt=(0,Ct.LZ)({flpakKey:t,needDat:!!Te,needCmt:!!Fe,needCur:!!Ke}),kt=!o||!Kt?ro():ao({query:{uId:String(o),uTag:g,rKey:Kt},usePolling:Gs,lossyListenerMap:{[Ct.NX]:We=>{const{payload:ht}=We;lt.onRemoteCur(ht)}},queueListenerMap:{[Ct.VU]:We=>{const{error:ht}=We;console.log("flat-ws drop-client",ht),It("4XX",ht)},[Ct.Ei]:We=>{const{error:ht}=We;console.log("flat-ws error",ht),It("5XX",ht)},[Ct.zS]:()=>{console.log("flat-ws (re)connected"),lt.onSocketConnect()},[Ct.sP]:We=>{const{payload:ht}=We;ze.onRemotePayloadSave(ht)||Qe.onRemotePayloadSave(ht)||console.warn("drop save payload:",ht)},[Ct.$7]:We=>{const{payload:ht}=We;console.log("flat-ws room cursor:",ht),lt.onRemoteSocket(ht)}}});await kt.getReadyPromise();const Qt=async(We,ht,Zt)=>{try{return await Je(We,{token:F,passwd:re,skipTTre:String(ht||""),skipTPbxList:(Zt||[]).join("")})}catch(Ft){throw Ot(Ft),Ft}},ct=Ie&&{...Ie,token:F,passwd:re,onFetchError:Ot};await Promise.all([ze.bind((0,xn.aF)({userId:o,mtimeOffset:kt.getOffsetMsec()}),Qt,ct).catch(We=>{throw(0,rn.p)("bindDat",We),We}),Qe.bind((0,xn.aF)({userId:o,mtimeOffset:kt.getOffsetMsec()}),Qt).catch(We=>{throw(0,rn.p)("bindCmt",We),We}),lt.bind(async We=>{try{if(kt.getIsConnected())return await kt.emitAsync(Ct.Am,We)}catch(ht){await(0,N.Y_)(42*1e3)}return[]},We=>kt.getIsConnected()&&kt.emitLossy(Ct.pL,We),kt.getSocketId).catch(We=>{throw(0,rn.p)("bindCur",We),We})]);const He=new Error("[tracked-error]"),qe=async We=>{if(!We.hasPatch())return;const ht=We.preSettlePatch(),Zt=(0,vn.ok)((0,vn.oG)(ht));for(let Ft=0,_n=Zt.length;Ft<_n;Ft++){const yn=Zt[Ft];try{await kt.emitAsync(Ct.s5,[We.flpakKey,yn.length,(0,vn.iM)(yn)])}catch(wn){const jn=es(wn);throw jn==="5XX"&&(0,rn.p)("saveFss "+En(wn),wn,We.name,We.flpakKey,Ft+1+"/"+_n,yn),await It(jn,wn),He}}We.postSettlePatch(ht)},tt=(0,p.Ds)(async()=>(0,p.g7)(async()=>{await qe(ze),await qe(Qe),await ze.freeSOS()},5*60*1e3,"lFFss.lA"),We=>{if(We===He)return;const ht=es(We);(0,rn.p)("lFFss "+En(We),We),Promise.resolve(It(ht,We)).catch(Zt=>{(0,rn.p)("lFFss "+ht+" Err",Zt)})}),rt=(0,p.Ds)(async()=>{tt.trigger(),await tt.getRunningPromise();for(let We=0;We++<16;)!lt.hasOtherUser()&&await(0,N.Y_)(1e3)});setInterval(rt.trigger,2*1e3),Ke&&setInterval(()=>lt.onSocketConnect(),20*60*1e3);const pt=ze.getFlatStore(),At=(0,In.uq)(ze.getFlatStore());ze.useExtORPL(At.onRemotePatchList);const Gt=So(Qe.getFlatStore());Qe.useExtORPL(Gt.onRemotePatchList);const Lt=()=>ze.hasPatch()||Qe.hasPatch(),Rt=(0,p.B1)(async()=>(0,p.JN)(async()=>{let We=0;for(;Lt();)await(0,N.Y_)(Math.min(We,5)*1e3),tt.trigger(),await tt.getRunningPromise(),We++})),Wt=()=>globalThis.MB.getSelectionItems()[0].key,un=(0,p.J9)(lt.tryPackCur,125);return{fssDat:ze,fssCmt:Qe,cssCur:lt,flatSocket:kt,flatStore:pt,sdkStore:At,cmtStore:Gt,sendCur:un,hasSave:Lt,saveAsync:Rt,theTree:function(We){return We===void 0&&(We=qt.gT),console.log((0,qt.Wr)(pt.getFlatTree(),We))},hotTree:function(We){return We===void 0&&(We=qt.gT),console.log(At.__devHotTree(We))},slctTree:function(We){return We===void 0&&(We=Wt()),console.log(At.__devHotTree(We))},upTree:function(We,ht){return We===void 0&&(We=Wt()),ht===void 0&&(ht=qt.gT),console.log(At.findUpHotItemList(We,ht))},newFFT:async function(We,ht,Zt){return Zt===void 0&&(Zt=ht.name+"-\u4FEE\u590D\u6570\u636E"),(0,No.Nc)(We,ht.team_cid,{...ht,name:Zt})},cmtTree:function(We){return We===void 0&&(We=qt.gT),console.log(Gt.__devHotTree(We))}}},es=a=>{const t=a&&a.status;return t>=400&&t<500?"4XX":String(a).toLowerCase().includes("timeout")?"Tot":"5XX"},En=a=>{const t=a&&a.status,o=[];t>=400&&o.push(String(t));const g=String(a).toLowerCase();return g.includes("timeout")&&o.push("Tot"),g.includes("fetch")&&o.push("Fch"),o.join("")||"Err"},Ys=async a=>{let{flpakKey:t}=a;const o=qn(t,Fo,!1),g=async(re,Ae,Te)=>(0,gs.TP)(re,{skipTTre:String(Ae||""),skipTPbxList:(Te||[]).join("")});return await o.bind((0,xn.aF)({}),g),{sdkStore:(0,In.uq)(o.getFlatStore())}},ts=async a=>{let{flpakKey:t}=a;const o=qn(t,Bo,!1),g=async(re,Ae,Te)=>(0,gs.O0)(re,{skipTTre:String(Ae||""),skipTPbxList:(Te||[]).join("")});return await o.bind((0,xn.aF)({}),g),{sdkStore:(0,In.uq)(o.getFlatStore())}}},48986:(Ce,ce,n)=>{"use strict";n.d(ce,{eB:()=>Re,Ay:()=>ke});var s=n(38502),p=n(69623),N=n(25582),u=n.n(N),B=n(27992),ee=n(28322),V=n.n(ee),D=n(89775),X=n.n(D),M=n(63986),R=n.n(M),de=n(37862),O=n.n(de),ue=n(68677),W=n(69368),G=n(69173),I=n.n(G),v=n(74937),C=n.n(v);const f=9;function y(J){let{$opener:$,$menuBase:me,menuBaseStyle:Me={},inflexible:Ee=!1,shouldSetMaxHeight:Ge=!1,$menuContainer:Se,$fontTip:Ne}=J;if(!$||!me)return;const Xe=me.querySelector("*"),yt=((0,W.$)("li[role=option].is-active",Xe)||(0,W.$)("li[role=option]",Xe)||(0,W.$)("li[role=empty-msg]",Xe)).getBoundingClientRect(),xt=Xe.getBoundingClientRect(),bt={styleFor$menuBase:{},styleFor$menu:{},styleFor$menuContainer:{},styleFor$fontTip:{}},wt=sn=>Object.assign(bt.styleFor$menuBase,sn),r=sn=>Object.assign(bt.styleFor$menu,sn),pe=sn=>Object.assign(bt.styleFor$menuContainer,sn),ve=sn=>Object.assign(bt.styleFor$fontTip,sn),{offsetHeight:je}=Xe,Ve=Me.width||$.offsetWidth,et=Me.height||$.offsetHeight,dt=$.getBoundingClientRect(),{top:Nt,bottom:Ht,left:$t}=Object.assign({top:dt.top,right:dt.right,bottom:dt.bottom,left:dt.left},Me);wt({top:Nt+"px",left:$t+"px",width:Ve+"px",height:et+"px"});const{innerHeight:Xt}=window,Wn=10,hn=Xt-10,Tn=Nt+et;let mn=0,An=0;const fn=(yt.top-xt.top)/.8;K(xt,yt)?mn=-Math.min(fn,Nt):(An=yt.bottom/.8-xt.bottom/.8,mn=-fn+An);let Ln=0;return Ne&&(Ln=Ne.getBoundingClientRect().height),Tn+je+f+mn+Ln<Xt?(bt.isDownward=!0,K(xt,yt)?(pe({top:mn+"px"}),Ne&&ve({top:mn+xt.height/.8+"px",width:xt.width/.8+"px"})):(pe({top:mn+"px"}),Se.scrollTop=An,Ne&&ve({top:mn+xt.height/.8+"px",width:xt.width/.8+"px"})),Ge&&Ht+je>hn&&r({maxHeight:hn-Ht+"px"})):(bt.isDownward=!1,Ge&&Nt-je<Wn&&r({maxHeight:Nt-Wn+"px"})),Object.assign(me.style,bt.styleFor$menuBase),Object.assign(Xe.style,bt.styleFor$menu),Object.assign(Se.style,bt.styleFor$menuContainer),Ne&&Object.assign(Ne.style,bt.styleFor$fontTip),bt}function h(J,$){return C()(J)||I()(J)||(0,s.isValidElement)(J)?J:J[$||"label"]?J[$||"label"]:void 0}function b(J){return C()(J)||I()(J)?String(J):J.value||J.label?String(J.value||J.label):void 0}function S(J){return C()(J)||I()(J)?String(J):J.ItemIcon?String(J.ItemIcon):void 0}function T(J){return C()(J)||I()(J)?String(J):J.shortcutKey?String(J.shortcutKey):void 0}function Y(J,$){return!!$&&b(J)===String($)}const d='<svg width="10" height="10" ><path d="M5 5.255l1.87-2.043a.623.623 0 0 1 .936 0 .77.77 0 0 1 0 1.022L5.468 6.788a.623.623 0 0 1-.936 0L2.194 4.234a.77.77 0 0 1 0-1.022.623.623 0 0 1 .935 0L5 5.255z" /></svg>';function K(J,$){return $.top/.8>=J.top/.8&&$.bottom/.8<=J.bottom/.8}var P=n(67787);const H=P.Ay.label.withConfig({displayName:"styles__StyledSelect",componentId:"sc-tgxfzg-0"})(["position:relative;display:inline-flex;align-items:center;max-width:100%;min-width:3em;height:28px;font-size:12px;color:#5b6b73;cursor:pointer;button{display:block;height:100%;color:#1F292E;text-align:start;cursor:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:8px;line-height:26px;}.caret{padding:0 11px;color:#7D8694;height:100%;display:inline-flex;align-items:center;svg{width:10px;height:10px;fill:currentColor;transition:transform 0.2s ease-out;}}&{padding-left:5px;border:1px solid transparent;border-radius:2px;}&.is-open{border-color:transparent;.caret{margin-left:auto;visibility:visible;svg{transform:rotate(180deg);}}}&:not(.is-disabled):not(.readonly):hover{border:1px solid transparent;.caret{padding:0 11px;}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default;}"]),m=P.Ay.div.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-tgxfzg-1"})(["position:fixed;pointer-events:none;z-index:1100;.WorkspaceSelectMenu{position:absolute;padding:8px 0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;list-style:none;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);color:#fff;border-radius:2px;background-color:#1f292e;pointer-events:all;transition-property:transform,opacity;transform-origin:50% 0;margin:0;&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}&::-webkit-scrollbar-track{background-color:rgba(#fff,0.5);}&.is-empty{width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;border-radius:4px;background-color:#333;width:160px;padding:8px 0px;}> .divider{border-bottom:1px solid rgba(255,255,255,.1);margin:5px;}.SelectOption{display:flex;align-items:center;height:24px;line-height:24px;cursor:pointer;font-size:12px;font-weight:400;& > .Ellipsis{padding:0 16px 0 32px;min-width:160px;}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#fff;mix-blend-mode:normal;position:relative;}.shortcutkey{color:#999;float:right;}.svg-icon3 svg{color:#f2f4f5;width:12px;height:12px;position:relative;top:2px;}&.is-active .svg-icon2 svg{width:8px;height:6px;position:absolute;left:12px;top:9px;}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:#666;color:#fff;}&.empty-msg{padding:0 0.5em;color:#8d9ea6;cursor:not-allowed;}}&.cant-select .SelectOption{cursor:default;}.SelectGroup{.divider{height:1px;margin:4px 16px;background:#7d8694;}& > .title{font-size:12px;padding:0 8px 0 16px;width:100%;height:30px;line-height:30px;color:rgba(255,255,255,0.7);span{display:block;}}& > ul{margin:0;padding:0;}}}.font-select-menu-tip{position:absolute;margin-top:-1px;padding:8px 16px;font-size:10px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#fff;background-color:#1f292e;border-radius:0 0 2px 2px;pointer-events:auto;transition:opacity 0.2s ease-in;.font-link{color:#fff;margin-left:10px;text-decoration:underline;}&:not(.is-show){opacity:0;}&.is-show{opacity:1;color:rgba(255,255,255,1);}}"]);var E=n(51582),q=n(72214);function te(J,$,me){return($=ne($))in J?Object.defineProperty(J,$,{value:me,enumerable:!0,configurable:!0,writable:!0}):J[$]=me,J}function ne(J){var $=se(J,"string");return typeof $=="symbol"?$:$+""}function se(J,$){if(typeof J!="object"||!J)return J;var me=J[Symbol.toPrimitive];if(me!==void 0){var Me=me.call(J,$||"default");if(typeof Me!="object")return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(J)}const fe="IBOT_SELECT_MENU_ROOT",Oe=document.getElementById(fe)||Object.assign(document.createElement("div"),{id:fe}),Ye=document.body;Ye.contains(Oe)||Ye.appendChild(Oe);class ke extends s.PureComponent{constructor(){super(...arguments),te(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),te(this,"set$select",$=>this.setState({$select:$})),te(this,"open",()=>this.setState({isOpen:!0})),te(this,"close",()=>this.setState({isOpen:!1})),te(this,"toggle",()=>{const $=!this.state.isOpen;this.setState({isOpen:$}),$?this.props.onOpen():this.props.onClose()}),te(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),te(this,"onChange",$=>this.setState({value:$},()=>{this.close(),this.props.onChange($,this.props.attr)})),te(this,"onSelect",$=>{let{currentTarget:me}=$;const{value:Me}=this.props,{canSelect:Ee}=this;return this.onChange(Ee?me.dataset.value:Me)})}static getDerivedStateFromProps($,me){let{prevProps:Me,value:Ee}=me;return R()(Me,$)?null:{prevProps:$,value:$.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}componentWillUnmount(){window.removeEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:$,disabled:me}=this.props;return $||me}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:$,readOnly:me}=this;return!$&&!me}get displayText(){const{optionList:$,placeholder:me,optionLabelProp:Me}=this.props,{value:Ee}=this.state,Se=($.find(Ne=>X()(Ne)&&Ne.slice(0).some(Xe=>Y(Xe,Ee)))||$).find(Ne=>!X()(Ne)&&Y(Ne,Ee));return Se?h(Se,Me):me}render(){const{size:$,unstyled:me,className:Me,onMouseEnter:Ee,onMouseLeave:Ge,arrowSvg:Se}=this.props,{isOpen:Ne,$select:Xe,value:nt}=this.state,{isDisabled:yt,readOnly:xt,canSelect:bt}=this,wt=(0,W.Hn)(["WorkspaceSelect",$,me&&"unstyled",Me,Ne&&"is-open",yt&&"is-disabled",xt&&"readonly"]);return(0,q.jsxs)(H,{className:wt,role:"listbox",ref:this.set$select,children:[(0,q.jsx)("button",{onClick:this.toggle,disabled:yt,children:this.displayText}),typeof Se=="string"?(0,q.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:Se}}):(0,q.jsx)("span",{className:"caret",children:Se}),Ne&&(0,q.jsx)(Re,{isOpen:Ne,...this.props,value:nt,$select:Xe,canSelect:bt,onChange:this.onSelect,onMouseEnter:Ee,onMouseLeave:Ge,onClose:this.close})]})}}te(ke,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),menuTheme:u().oneOf(["core","plain","check"]),unstyled:u().bool,className:u().string,menuClassName:u().string,placeholder:u().string,optionList:u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,shortcutKey:u().node,tooltipWrapper:u().func,ItemIcon:u().node,value:u().any,isDisabled:u().bool}),u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,ItemIcon:u().node,value:u().any,shortcutKey:u().node,tooltipWrapper:u().func,isDisabled:u().bool})]))])).isRequired,value:u().oneOfType([u().number,u().string]),isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func,onMouseEnter:u().func,onMouseLeave:u().func,onOpen:u().func,onClose:u().func,optionLabelProp:u().string,arrowSvg:u().oneOfType([u().string,u().node])}),te(ke,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:"Choose one\u2026",emptyMsg:"Nothing to display\u2026",optionList:[],isDisabled:!1,arrowSvg:d,onChange:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onOpen:()=>null,onClose:()=>null});class Re extends s.PureComponent{constructor(){super(...arguments),te(this,"state",{isDownward:!0}),te(this,"portal",(0,W.ep)(Oe,"SelectMenuPortal")),te(this,"menuBaseRef",(0,s.createRef)()),te(this,"menuContainerRef",(0,s.createRef)()),te(this,"position",$=>{const{$select:me}=this.props,{menuBaseRef:{current:Me},menuContainerRef:{current:Ee}}=this;if($){const Se=V()($,"target");if(Se&&O()(Se)&&Se.matches(".WorkspaceSelectMenu"))return}const{isDownward:Ge}=y({$menuBase:Me,$opener:me,shouldSetMaxHeight:!1,$menuContainer:Ee});this.setState({isDownward:Ge,isTransform:!0})}),te(this,"onChange",$=>{const{onChange:me}=this.props,{isDownward:Me}=this.state,Ee=$.currentTarget,Ge=Ee.closest(".WorkspaceSelectMenu");if(!Ee||!Ge)return this.onlose();const{top:Se,bottom:Ne}=Ee.getBoundingClientRect(),{top:Xe,bottom:nt}=Ge.getBoundingClientRect();return Me&&Se>=Xe||!Me&&Ne<=nt?Ee.classList.contains("title")?void 0:me($):this.onClose()}),te(this,"onClose",()=>{const{onClose:$}=this.props;$()}),te(this,"onClickOutside",$=>{let{target:me}=$;const{$select:Me}=this.props,Ee=!Oe.contains(me),Ge=me.closest("label"),Se=Ge&&Ge.contains(Me);Ee&&!Se&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:$}}=this;(0,W.sA)((0,W.$)(".WorkspaceSelectMenu",$)),this.position()}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,p.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:$,isDisabled:me,menuTheme:Me,menuClassName:Ee,optionList:Ge,emptyMsg:Se,value:Ne,canSelect:Xe,onMouseEnter:nt,onMouseLeave:yt}=this.props,{isDownward:xt,isTransform:bt}=this.state,wt=Ge.length===0,r=(0,W.Hn)(["WorkspaceSelectMenu",Ee,bt&&"is-open",xt?"is-downward":"is-upward",me&&"is-disabled",wt&&"is-empty",Xe?"can-select":"cant-select"]);return(0,q.jsxs)(m,{ref:this.menuBaseRef,children:[(0,q.jsx)("ul",{className:r,ref:this.menuContainerRef,children:wt?(0,q.jsx)("li",{className:"SelectOption empty-msg",role:"empty-msg",children:Se}):Ge.map((pe,ve)=>X()(pe)?(0,q.jsx)(mt,{menuTheme:Me,optionList:pe,value:Ne,onChange:this.onChange,onMouseEnter:nt,onMouseLeave:yt},ve):(0,q.jsx)(De,{menuTheme:Me,isActive:Y(pe,Ne),option:pe,isDisabled:pe.isDisabled,onChange:this.onChange,onMouseEnter:nt,onMouseLeave:yt},ve))}),$&&(0,q.jsx)(B.A,{target:document,onClick:this.onClickOutside})]})}}te(Re,"propTypes",{...ke.propTypes,isOpen:u().bool,canSelect:u().bool,onChange:u().func,onClose:u().func,$select:u().instanceOf(Element)}),te(Re,"defaultProps",{isOpen:!1,isTransform:!1});function mt(J){let{value:$,optionList:[me,...Me],menuTheme:Ee,onChange:Ge,onMouseEnter:Se,onMouseLeave:Ne}=J;return(0,q.jsxs)("li",{className:"SelectGroup",children:[me==="HIDDELINE"?null:me==="DIVIDER"?(0,q.jsx)("div",{className:"divider"}):(0,q.jsx)(ue.A,{className:"title",onClick:Ge,children:me}),(0,q.jsx)("ul",{children:Me.map((Xe,nt)=>(0,q.jsx)(De,{menuTheme:Ee,option:Xe,isActive:Y(Xe,$),isDisabled:Xe.isDisabled,onChange:Ge,onMouseEnter:Se,onMouseLeave:Ne},nt))})]})}mt.propTypes={value:u().oneOfType([u().string,u().number]),optionList:u().array,onChange:u().func,menuTheme:u().string,onMouseEnter:u().func,onMouseLeave:u().func};function De(J){let{option:$,isActive:me,isDisabled:Me,menuTheme:Ee,onChange:Ge,onMouseEnter:Se,onMouseLeave:Ne}=J;const Xe=(0,W.Hn)(["SelectOption",me&&"is-active",Me&&"is-disabled"]),nt=h($),yt=b($),xt=S($),bt=T($),{tooltipWrapper:wt}=$;if($.type==="divider")return(0,q.jsx)("li",{className:"divider"});const r=(0,q.jsxs)("li",{role:"option","data-value":yt,className:Xe,onClick:Me?void 0:Ge,onMouseEnter:Se,onMouseLeave:Ne,children:[me&&(0,q.jsx)("span",{className:"svg-icon2",children:(0,q.jsx)(E.A,{name:"select_right"})}),(0,q.jsxs)(ue.A,{children:[(0,q.jsxs)("span",{className:"svg-icon3",children:[(0,q.jsx)(E.A,{name:xt})," "]})," ",nt,"  ",(0,q.jsxs)("span",{className:"shortcutkey",children:[bt," "]})]})]});return wt?wt(r):r}De.propTypes={isActive:u().bool,option:u().oneOfType([u().node,u().object]),isDisabled:u().bool,menuTheme:u().string,onChange:u().func,onMouseEnter:u().func,onMouseLeave:u().func}},49612:(Ce,ce,n)=>{"use strict";n.d(ce,{$I:()=>ee,Rj:()=>X,SR:()=>p,Tq:()=>B,UP:()=>D});var s=n(27660);let p=function(M){return M.AIAssistant="AIAssistant",M.Page="Page",M.Flow="flow",M.Mind="mind",M.Table="table",M.Chart="chart",M.AutoFill="autofill",M.Semantic="semantic",M.Component="Component",M.PageV9="PageV9",M.Chat="Chat",M}({}),N=function(M){return M.page="page",M.component="component",M.other="other",M.semantic="semantic ",M}({}),u=function(M){return M.hot="hot",M.other="other",M.semantic="semantic ",M}({});const B="GENERATE_AI_COMPONENT",ee=(0,s.R)(()=>[{label:I18N.ChatGPT.ai_prototype,title:I18N.ChatGPT.ai_prototype_title,type:p.PageV9,points:400,recommends:[I18N.ChatGPT.ai_prototype_label_1,I18N.ChatGPT.ai_prototype_label_2,I18N.ChatGPT.ai_prototype_label_3],aiType:"\u751F\u6210\u539F\u578B\u9875\u9762",source:"",menu:N.page,hotMenu:u.hot,icon:"chatGPT/ai-component-page",desc:I18N.ChatGPT.ai_prototype_desc,className:"ai-page",componentTitle:I18N.ChatGPT.ai_prototype_component_title},{label:B,title:I18N.ChatGPT.ai_component_title,type:p.Component,points:200,aiType:"\u751F\u6210AI\u7EC4\u4EF6",source:"",menu:N.component,hotMenu:u.hot,icon:"chatGPT/ai-component-component",desc:I18N.ChatGPT.ai_component_desc,className:"ai-component",componentTitle:I18N.ChatGPT.ai_component_component_title},{label:I18N.ArtBoard.flow,title:I18N.ChatGPT.ai_flow_title,type:p.Flow,points:200,recommends:[I18N.ChatGPT.ai_flow_label_1,I18N.ChatGPT.ai_flow_label_2,I18N.ChatGPT.ai_flow_label_3],aiType:"\u751F\u6210\u6D41\u7A0B\u56FE",source:"",menu:N.component,hotMenu:u.other,icon:"chatGPT/ai-component-flow",desc:I18N.ChatGPT.ai_flow_desc,className:"ai-flow",componentTitle:I18N.ChatGPT.ai_flow_component_title},{label:I18N.ArtBoard.mind,title:I18N.ChatGPT.ai_mind_title,type:p.Mind,points:200,recommends:[I18N.ChatGPT.ai_mind_label_1,I18N.ChatGPT.ai_mind_label_2,I18N.ChatGPT.ai_mind_label_3],aiType:"\u751F\u6210\u601D\u7EF4\u5BFC\u56FE",source:"",menu:N.component,hotMenu:u.other,icon:"chatGPT/ai-component-mind",desc:I18N.ChatGPT.ai_mind_desc,className:"ai-mind",componentTitle:I18N.ChatGPT.ai_mind_component_title},{label:I18N.w.table,title:I18N.ChatGPT.ai_table_title,type:p.Table,points:200,recommends:[I18N.ChatGPT.ai_table_label_1,I18N.ChatGPT.ai_table_label_2,I18N.ChatGPT.ai_table_label_3],aiType:"\u751F\u6210\u8868\u683C",source:"",menu:N.component,hotMenu:u.other,icon:"chatGPT/ai-component-table",desc:I18N.ChatGPT.ai_table_desc,className:"ai-table",componentTitle:I18N.ChatGPT.ai_table_component_title},{label:I18N.w.wChart,title:I18N.ChatGPT.ai_Chart_title,type:p.Chart,points:200,recommends:[I18N.ChatGPT.ai_wChart_label_1,I18N.ChatGPT.ai_wChart_label_2,I18N.ChatGPT.ai_wChart_label_3],aiType:"\u751F\u6210\u56FE\u8868",source:"",menu:N.component,hotMenu:u.other,icon:"chatGPT/ai-component-chart",desc:I18N.ChatGPT.ai_Chart_desc,className:"ai-chart",componentTitle:I18N.ChatGPT.ai_Chart_component_title},{label:I18N.ChatGPT.magic_fill,title:I18N.ChatGPT.ai_magicFill_title,type:p.AutoFill,points:200,recommends:[I18N.ChatGPT.ai_smart_fill_label_2,I18N.ChatGPT.ai_smart_fill_label_1,I18N.ChatGPT.ai_smart_fill_label_3],aiType:"\u667A\u80FD\u586B\u5145",source:"",menu:N.other,hotMenu:u.other,icon:"chatGPT/ai-component-autofill",desc:I18N.ChatGPT.ai_magicFill_desc,className:"ai-magic-fill"},{label:"\u8BED\u4E49\u5316",title:"AI \u8BED\u4E49\u5316",type:p.Semantic,points:200,recommends:["\u5E2E\u6211\u751F\u6210\u4E00\u4E2A\u7535\u5546\u7C7BAPP\uFF0C\u5E76\u4E14\u8F93\u5165\u4E00\u4EFDprd\u6587\u6863","`\u6211\u7231\u52A0\u73ED`\u3002\u8BF7\u5E2E\u6211\u628A\u4E0A\u9762\u8FD9\u6BB5\u8BDD\u8C03\u6574\u7684\u66F4\u52A0\u4E30\u5BCC\u751F\u52A8\u4E00\u70B9","\u5E2E\u6211\u751F\u6210\u4E00\u4EFD2022\u5E74\u56FD\u5BB6\u7ECF\u6D4E\u66F2\u7EBF\u56FE\u30012022\u5E74\u5404\u7701\u7ECF\u6D4E\u6536\u5165\u8868\u683C"],aiType:"MD\u8BED\u4E49\u5316",source:"AI\u8BED\u4E49\u5316\u9762\u677F",menu:N.semantic,hotMenu:u.semantic,icon:"chatGPT/ai-component-autofill",desc:I18N.ChatGPT.ai_magicFill_desc,className:"ai-magic-fill"}]),V=(0,s.R)(()=>[{title:I18N.ChatGPT.ai_prototype,items:ee().filter(R=>R.menu===N.page)},{title:I18N.ChatGPT.ai_advanced_components,items:ee().filter(R=>R.menu===N.component)},{title:I18N.ChatGPT.ai_magic_fill,items:ee().filter(R=>R.menu===N.other)}]),D=(0,s.R)(()=>[{title:I18N.ChatGPT.ai_hot_menu,items:ee().filter(R=>R.hotMenu===u.hot)},{title:I18N.ChatGPT.ai_other_menu,items:ee().filter(R=>R.hotMenu===u.other)}]),X=(0,s.R)(()=>ee().reduce((M,R)=>(M[R.type]=R,M),{}))},50159:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>u,u:()=>N});var s=n(41946),p=n.n(s);const N=(B,ee)=>{if(!(B!=null&&B.cid))return-1;let V=0,D="",X=B;for(;X&&!X.root_project&&(V=V+1,D=X.parent_cid,!!D);)X=ee.get(D);return V};function u(B){return B&&Object.entries(B).reduce((ee,V)=>{let[D,X]=V;return Object.assign(ee,{[p()(D)]:X})},{})}},51090:(Ce,ce,n)=>{"use strict";n.d(ce,{Aw:()=>u,L9:()=>p,ZJ:()=>X,eP:()=>V,n9:()=>ee,nw:()=>D});var s=n(67787);const p=(0,s.AH)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),N=(0,s.AH)(['position:relative;pointer-events:none;&::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;cursor:not-allowed;pointer-events:auto;}']),u=(0,s.AH)(["position:relative;height:32px;padding-left:14px;padding-right:4px;display:flex;align-items:center;border:1px solid transparent;color:",";font-size:12px;cursor:pointer;.expander{width:12px;margin-left:-12px;color:",";}.editable-span,.editable-name{margin-right:14px;line-height:24px;border-radius:2px;&.is-editing{border-bottom-color:transparent;}}.actions{display:none;height:100%;padding-left:6px;.Dropdown > button{display:flex;padding:8px 10px 8px 0;}.action{margin-right:6px;font-size:12px;color:",";&:hover{color:",";}}&.is-active{display:flex;align-items:center;color:",";}}&:hover{.actions{display:flex;align-items:center;}}&:hover,&.hover{color:",";background:",";}&.active,&.is-active{color:",";background:",";}"],M=>M.theme.color_text_L2,M=>M.theme.color_text_disabled01,M=>M.theme.color_text_L2,M=>M.theme.color_text_L2,M=>M.theme.color_text_L1,M=>M.theme.color_text_L1,M=>M.theme.color_btn_secondary_hover,M=>M.theme.color_text_L1,M=>M.theme.color_btn_secondary_active),B=s.Ay.div.withConfig({displayName:"variables__StyledCustomTooltipInner",componentId:"sc-1k65wxr-0"})(["display:flex;align-items:center;height:22px;margin:-3px -7px;.tipsLeft{padding:0 8px;}.tipsRight{width:22px;line-height:22px;background-color:",";border-radius:0 2px 2px 0;color:#f2f4f5;}"],M=>M.theme.color_primary_brand01),ee=(0,s.AH)(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.fore{fill:",";}&:hover{color:",";.fore{fill:",";}}.svg-icon{width:24px;height:24px;}"],M=>M.theme.color_text_L2,M=>M.theme.color_text_L3,M=>M.theme.color_proto,M=>M.theme.color_proto),V=(0,s.AH)(["ul{.active,.select,.hover,li:hover,.rn-list-item:hover{& + li > .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}+ ul > li:first-child > .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}.rn-list-item:has(+ ul > li.active:first-child,+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}li{&:has(+ li.active,+ li.select,+ li.hover,+ li:hover){&.active,&.select,&.hover,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}.rn-list-item{border-radius:6px;&.context-menu-select{border-radius:6px;}}}li.active,li.select,li.dummy-select,li:hover{&:has(> ul > li.dummy-select){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}&:has(+ li.active,+ li.select,+li:hover){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}}ul{li.dummy-select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}&:has(+ li.dummy-select){> .rn-list-item{border-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-radius:0;}}}}}&:last-child,&:first-child{&:has(> ul){> .rn-list-item{border-radius:0;}}}}}}li.active,li.select,li.dummy-select,li:hover{& + li{&.active,&.select,&.dummy-select,&:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li{> .rn-list-item:hover{&:has(+ ul > li.active:first-child,+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}& + ul > li.active:first-child,& + ul > li.select:first-child,& + ul > li.hover:first-child,& + ul > li:first-child:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li:has(+ li:hover,+ li.select,+ li.active){ul > li:last-child{&.active,&.select,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}li:has(ul > li:last-child.active,ul > li:last-child.select,ul > li:last-child:hover){& + li:hover,& + li.select,& + li.active{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}"]),D=(0,s.AH)(["ul{li{.rn-list-item{border-radius:6px;&.context-menu-select{border-radius:6px;}}}li.select,li.dummy-select,li:hover{&:has(> ul > li.dummy-select){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}&:has(+ li.select,+li:hover){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}}ul{li.dummy-select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}&:has(+ li.dummy-select){> .rn-list-item{border-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-radius:0;}}}}}&:last-child,&:first-child{&:has(> ul){> .rn-list-item{border-radius:0;}}}}}}li.select,li.dummy-select,li:hover{& + li{&.select,&.dummy-select,&:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li{> .rn-list-item:hover{&:has(+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}& + ul > li.select:first-child,& + ul > li.hover:first-child,& + ul > li:first-child:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li:has(+ li:hover,+ li.select){ul > li:last-child{&.select,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}li:has(ul > li:last-child.select,ul > li:last-child:hover){& + li:hover,& + li.select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}"]),X=(0,s.AH)(["ul{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";li.MenuItem{a{height:28px;border-radius:4px;background:",";color:",";svg:not(.pure-svg-icon) path{fill:",";}.right-arrow svg > path{fill:",";}.shortfont kbd{color:",";}}&:not(.disabled).active{a{background:",";}}&.disabled{a{color:",";svg path{fill:",";}.shortfont kbd{color:",";}}}}}"],M=>M.theme.color_bg_border_01,M=>M.theme.color_text_L1,M=>M.theme.color_bg_white,M=>M.theme.shadow_m,M=>M.theme.color_bg_white,M=>M.theme.color_text_L1,M=>M.theme.color_text_L1,M=>M.theme.color_text_L3,M=>M.theme.color_text_L3,M=>M.theme.color_btn_secondary_hover,M=>M.theme.color_text_disabled01,M=>M.theme.color_text_disabled01,M=>M.theme.color_text_disabled01)},53008:(Ce,ce,n)=>{"use strict";n.d(ce,{CV:()=>R,EL:()=>G,Mb:()=>f,Mj:()=>v,O8:()=>T,R0:()=>M,RF:()=>I,R_:()=>O,Sy:()=>C,Uh:()=>de,a2:()=>ue,eH:()=>b,it:()=>S,jc:()=>Y,kv:()=>W,vt:()=>y,zM:()=>h});var s=n(81717),p=n(78401),N=n(79287),u=n.n(N),B=n(18183),ee=n(18833),V=n(74222),D=n(15515),X=n(51785);const M=d=>d?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],R=d=>{let{accessToken:K,targetKey:P,pageKey:H,view_mode:m,selection:E,page_begin:q,canvas_begin:te}=d;const ne=(fe,Oe)=>Oe?"&"+fe+"="+Oe:"";let se=""+location.origin+B.o$+"/"+K+"/sharing?view_mode="+(m||"read_only");return m==="read_only"?se=""+se+ne("screen",H)+ne("canvasId",P)+ne("selection",E):m==="device"?se=""+se+ne("screen",q!=null?q:H)+ne("canvasId",te!=null?te:P)+ne("selection",E):se=""+se+ne("screen",H)+ne("selection",E),se},de=d=>d&&d.length>0?d[0]:"",O=(d,K,P,H)=>{const m=H?"  \u5BC6\u7801\uFF1A"+H:"";return d+" #"+(0,p.qk)(K)+"-"+(0,p.qk)(P||"\u5206\u4EAB")+m},ue=d=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+B.o$+"/"+d,W=d=>{const{project:K,action:P,linkName:H,isFromScreenList:m}=d;s.Y4.trackShareProjectAction({project_type:"\u539F\u578B V8",source:m?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,s.IQ)(),project_name:K.name,project_cid:K.cid,share_link_action:P,share_link_name:H})},G=d=>{if(!d)return!1;const{created_at:K}=d;return u()(K).isBetween(u()().subtract(3,"days"),u()())},I=d=>Object.entries(d).filter(P=>{let[H,m]=P;return!m.hotAttr.asFolder&&H!==V.$k}).map(P=>P[0]),v=(d,K,P)=>{if(d)return P.length;let H=0;return K==null||K.forEach(m=>{P.find(q=>q===m)&&(H+=1)}),H},C=(d,K)=>{if(K.screen_visible_switch){const{selectedSize:P,pageSize:H}=f(d,K);return P+"/"+H}else return I18N.imockSharing.all},f=(d,K)=>{const P=I(d.pageAttrMap),H=v(!K.screen_visible_switch,K.screen_visible_list,P);return{pageSize:P.length,selectedSize:H}},y=d=>{const K={},P=[],H=new Map;for(const[q,te,ne]of d)if(ne.type==="rResBunch"){q!==V.$k&&P.push(q),K[q]={hotAttr:ne},H.get(q)||H.set(q,[]);const se=H.get(te);Array.isArray(se)&&H.set(te,[...se,q])}const m=q=>{let te=[];for(const se of H.get(q))te.push(m(se));te=te.sort((se,fe)=>se.data.zIndex-fe.data.zIndex);const{hotAttr:ne}=K[q];return{cid:q,data:{cid:q,...ne},children:te}},E=m("B@main");return{pageAttrMap:K,pageKeyList:P,treeData:E}};function h(d,K,P){let H=I18N.imockSharing.share;return K&&(H=H+" "+(K.length+1)),{project_cid:d,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...P,link_name:H,type:"advanced"}}const b=async d=>{let{updateType:K,org:P,updateFn:H,updatedKV:m,isCustom:E}=d;const q=()=>{const ne=(P==null?void 0:P.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:ne}),window.top&&window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:ne}}),"*")},te=()=>{if(!E&&K==="update"){const ne={sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}};try{m!=null&&m.expire_type?MB.notice({text:I18N.imockSharing.sharing_hasRest,type:"success"}):MB.notice({text:I18N.imockSharing.setting_valid})}catch(se){window.top&&window.top.postMessage(JSON.stringify(ne),"*")}}};try{const ne=await H();if(ne)return te(),ne}catch(ne){await(0,ee.m0)(ne,q)}},S=d=>{let{value:K,currentSharing:P,sharingList:H}=d,m=!1;for(const E of H)if(E.cid!==P.cid&&K===E.link_name){m=!0;break}return m},T=(d,K,P,H)=>{let m;if(K.type==="default"){const q=new URLSearchParams(location.search),te=q.get("view_mode")||(0,D.Yt)(d.cid+"_default_sharing_view_mode","read_only",D.qW.String),ne=q.get("selection"),se=q.get("screen"),fe=q.get("canvasId");m=R({accessToken:K.access_token,view_mode:te,page_begin:K.is_first_canvas_open?"":se,canvas_begin:K.is_first_canvas_open?"":fe,selection:ne,pageKey:K.is_first_canvas_open?"":P})}else K.screen_visible_switch?P&&K.screen_visible_list.includes(P)?m=R({accessToken:K.access_token,view_mode:K.device_model,pageKey:K.is_first_canvas_open?"":P}):m=R({accessToken:K.access_token,view_mode:K.device_model}):m=R({accessToken:K.access_token,view_mode:K.device_model,pageKey:K.is_first_canvas_open?"":P});return H?m:O(m,d==null?void 0:d.name,K.link_name||"",K.password)},Y=(d,K)=>K&&(K==null?void 0:K.otype)!=="personal"?X.tz.InitialOrg(K).limitationSdk.prototypeLimit.pLimitation.max_project_share_count:d?X.tz.InitialUser(d).limitationSdk.prototypeLimit.pLimitation.max_project_share_count:1},54190:(Ce,ce,n)=>{"use strict";n.d(ce,{A1:()=>Y,A9:()=>S,CH:()=>Xe,Cp:()=>s.Cp,E8:()=>f,F7:()=>Ee,G8:()=>Se,Gx:()=>O,Ip:()=>xt,Jm:()=>K,Kc:()=>D,OJ:()=>v,PK:()=>r,Qs:()=>J,Qy:()=>fe,SD:()=>De,Tf:()=>R,V7:()=>b,Wr:()=>h,XG:()=>me,Xw:()=>E,Yu:()=>M,bX:()=>G,cn:()=>X,dC:()=>wt,hY:()=>m,kZ:()=>ne,l9:()=>C,ob:()=>te,qi:()=>ue,r3:()=>P,s_:()=>de,sw:()=>yt,ty:()=>ke,up:()=>nt,vS:()=>Ye,vs:()=>Ge,wR:()=>d,wZ:()=>bt,yV:()=>mt,yk:()=>Ne,yr:()=>I});var s=n(16335),p=n(19249),N=n(49903),u=n(18833);if(n.j!=15)var B=n(98033);if(n.j!=15)var ee=n(37253);const V=(pe,ve)=>{const je=new Error("[NO SENTRY] "+pe);return Object.assign(je,ve),je},D=(pe,ve)=>(0,p.DE)("/api/upper/web_v1/design/readonly_initial?access_token="+pe+"&password="+ve),X=async(pe,ve)=>{const je=ve==="inspect"?"read_only":ve,Ve="/api/flat/web_v1/preview/initial?access_token="+pe+"&view_mode="+je,et=await fetch(Ve,{credentials:"same-origin"}),dt=await et.json();if(et.status!==200)throw V("[fetchGetHead] failed with "+et.status+": "+Ve,{status:et.status,error_type:dt==null?void 0:dt.error_type});return dt},M=(pe,ve)=>(0,p.SN)("/api/upper/web_v1/basics/"+pe,{...ve}),R=async()=>{let pe=[];try{const ve=await(0,p.DE)("/api/library/v4/recent_keywords");ve!=null&&ve.keywords&&(pe=ve==null?void 0:ve.keywords)}catch(ve){(0,u.$r)()}return pe},de=()=>(0,p.sM)("/api/library/v4/recent_keywords"),O=pe=>(0,p.Ds)("/api/library/v4/recent_keywords",{keyword:pe}),ue=async()=>{if((0,B.Z)())return W();{var pe;let ve;try{ve=await(0,p.DE)("/api/library/v3/project_upper/user_combo_groups")}catch(je){return await(0,u.FY)(je),{}}return{userComboGroupList:(pe=ve)==null?void 0:pe.user_combo_groups}}},W=async()=>{var pe;let ve;try{ve=await(0,p.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(je){return await(0,u.FY)(je),{}}return{userComboGroupList:(pe=ve)==null?void 0:pe.org_combo_groups}},G=async pe=>{var ve;let{orgCid:je}=pe,Ve;try{Ve=await(0,p.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+je)}catch(et){return await(0,u.FY)(et),{}}return{orgComboGroupList:(ve=Ve)==null?void 0:ve.org_combo_groups}},I=async pe=>{const{icon_group:ve,market_template:je}=await(0,s.Yk)(pe.cid),{source:Ve,title:et}=ve||{},dt=await(0,p.DE)(Ve),Nt=N.I1[et]||et||"svg",{iconGroupData:Ht}=(0,N.u2)(dt,Nt);return{iconGroupData:Ht,marketTemplate:je}},v=async()=>{const pe=MB.user.solo_org.cid;try{const{asset_groups:ve=[],assets:je}=await(0,p.Yo)("/api/library/v6/asset_groups?org_cid="+pe);return{userAssetGroupList:ve,userAssets:je}}catch(ve){return(0,u.$r)(),{userAssetGroupList:[],userAssets:[]}}},C=async function(pe){pe===void 0&&(pe="");const ve=pe||MB.currentOrg.cid;try{const{asset_groups:je,assets:Ve}=await(0,p.Yo)("/api/library/v6/asset_groups?org_cid="+ve);return{orgAssetGroupList:je,orgAssets:Ve}}catch(je){return(0,u.$r)(),{orgAssetGroupList:[],orgAssets:[]}}},f=async pe=>{if((0,B.Z)())return y(pe);try{const{asset:ve,user_asset:je}=await(0,p.B7)("/api/library/v3/asset_data/me/search_by_url",{image_url:pe});return{asset:ve,user_asset:je}}catch(ve){await(0,u.FY)(ve)}},y=async pe=>{const ve=MB.user.solo_org.cid;try{const{asset:je,flat_asset:Ve}=await(0,p.B7)("/api/library/v6/assets/search_by_url",{image_url:pe,org_cid:ve});return{asset:je,user_asset:Ve}}catch(je){await(0,u.FY)(je)}},h=async(pe,ve)=>{try{const{asset:je,flat_asset:Ve}=await(0,p.B7)("/api/library/v6/assets/search_by_url",{image_url:pe,org_cid:ve});return{asset:je,org_asset:Ve}}catch(je){await(0,u.FY)(je)}},b=async pe=>{if((0,B.Z)())return T(pe);try{const{user_asset_group:ve}=await(0,p.uP)("/api/library/v4/users/asset_groups/"+pe.cid,{...pe});return{user_asset_group:ve}}catch(ve){await(0,u.FY)(ve)}},S=async(pe,ve)=>{const{name:je,parentCid:Ve=null,position:et}=ve,{asset_group:dt}=await(0,p.zi)("/api/library/v6/asset_groups",{org_cid:pe,name:je,parent_cid:Ve,position:et});return{asset_group:dt}},T=async pe=>{const{cid:ve,name:je,parent_cid:Ve,position:et}=pe;try{const{asset_group:dt}=await(0,p.uP)("/api/library/v6/asset_groups/"+ve,{name:je,parent_cid:Ve,position:et});return{user_asset_group:dt}}catch(dt){await(0,u.FY)(dt)}},Y=async pe=>{const{cid:ve,name:je,parent_cid:Ve,position:et}=pe;try{const{asset_group:dt}=await(0,p.uP)("/api/library/v6/asset_groups/"+ve,{name:je,parent_cid:Ve,position:et});return{org_asset_group:dt}}catch(dt){await(0,u.FY)(dt)}},d=async pe=>{if((0,B.Z)())return H(pe);try{return await(0,p.uP)("/api/library/v3/asset_data/me/assets/"+pe.asset_cid,{...pe})}catch(ve){await(0,u.FY)(ve)}},K=async pe=>(await(0,p.SN)("/api/library/v6/asset_groups/",{asset_groups:pe})).asset_groups,P=async(pe,ve)=>{const{name:je,groupCid:Ve}=ve;return await(0,p.SN)("/api/library/v6/assets",{cids:pe,name:je,group_cid:Ve})},H=async pe=>{try{return await(0,p.uP)("/api/library/v6/assets",{...pe})}catch(ve){await(0,u.FY)(ve)}},m=async pe=>{let{cids:ve,...je}=pe;try{return await(0,p.uP)("/api/library/v6/assets",{cids:ve,...je})}catch(Ve){await(0,u.FY)(Ve)}},E=async pe=>{let{assetCid:ve,name:je,groupCid:Ve}=pe;if((0,B.Z)())return q({assetCid:ve,name:je,groupCid:Ve});try{await(0,p.B7)("/api/library/v3/asset_data/me/assets",{cid,name:je,group_cid:Ve})}catch(et){await(0,u.FY)(et)}},q=async pe=>{let{assetCid:ve,name:je,groupCid:Ve}=pe;try{await(0,p.B7)("/api/library/v6/assets",{asset_cid:[ve],name:je,group_cid:Ve})}catch(et){await(0,u.FY)(et)}},te=async pe=>{let{assetCid:ve,name:je,groupCid:Ve}=pe;try{const et=await(0,p.B7)("/api/library/v6/assets",{asset_cid:[ve],name:je,group_cid:Ve});return et==null?void 0:et.cid}catch(et){await(0,u.FY)(et)}},ne=async pe=>{let{org_cid:ve,name:je,group_cid:Ve}=pe;if((0,B.Z)())return se({org_cid:ve,name:je,group_cid:Ve});try{return(0,p.B7)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid,org_cid:ve,org_asset_group_cid})}catch(et){await(0,u.FY)(et)}},se=async pe=>{let{org_cid:ve,name:je,group_cid:Ve}=pe;try{return(0,p.B7)("/api/library/v6/asset_groups",{org_cid:ve,name:je,parent_cid:null,group_cid:Ve,position:-99})}catch(et){await(0,u.FY)(et)}},fe=async pe=>{(0,B.Z)()?await Oe(pe):await(0,p.sM)("/api/library/v3/asset_data/me/assets/"+pe.cid)},Oe=async pe=>{await(0,ee.uz)("/api/library/v6/assets",{cids:[pe.cid]})},Ye=async pe=>{await(0,ee.uz)("/api/library/v6/assets",{cids:[pe.cid]})},ke=async pe=>{(0,B.Z)()?await Re(pe):await(0,p.sM)("/api/library/v3/asset_data/me/asset_groups/"+pe)},Re=async pe=>{await(0,p.sM)("/api/library/v6/asset_groups/"+pe)},mt=async pe=>{await(0,p.sM)("/api/library/v6/asset_groups/"+pe)},De=pe=>(0,p.iv)("/preferences/update",{...pe}),J=async(pe,ve)=>{if((0,B.Z)())return $(pe,ve);try{return await(0,p.uP)("/api/library/v4/users/asset_groups/"+pe,{...ve})}catch(je){await(0,u.FY)(je)}},$=async(pe,ve)=>{const je=MB.user.solo_org.cid;try{return await(0,p.uP)("/api/library/v6/asset_groups/"+pe,{...ve,org_cid:je})}catch(Ve){await(0,u.FY)(Ve)}},me=pe=>async(ve,je)=>{try{const Ve={...je,org_cid:pe};return await(0,p.uP)("/api/library/v6/asset_groups/"+ve,{...Ve})}catch(Ve){await(0,u.FY)(Ve)}},Me=async(pe,ve)=>{let je=null;try{const Ve=await fetchGetJSONWithHeader("/api/community/v1/workspace?category="+pe+"&plabel="+ve);Ve!=null&&Ve.market_templates&&(je=Ve==null?void 0:Ve.market_templates)}catch(Ve){retryErrorNotice()}return je},Ee=async(pe,ve)=>{let je=null,Ve=null;try{const et=await(0,p.DE)("/flpak/ww-p2wsearch?"+pe);if(et!=null&&et.data){const dt=et.data,{user_flat_assets:Nt,user_flat_asset_groups:Ht,org_flat_assets:$t,org_flat_asset_groups:Xt}=dt.asset||{};return je={...dt,asset:{user_assets:Nt,user_asset_groups:Ht,org_assets:$t,org_asset_groups:Xt}},Ve=et.p2mMMap,{data:je,p2mMMap:Ve}}}catch(et){(0,u.$r)({onClick:dt=>dt({type:"entry:search-panel:search:from:keyword",payload:{from:ve}})})}},Ge=async pe=>{let ve=null;try{const je=await(0,p.DE)("/flpak/ww-p2meta/"+pe);je!=null&&je.length&&(ve=je)}catch(je){(0,u.$r)()}return ve},Se=async pe=>{let{currentComboPanel:ve,projectMetaCid:je}=pe;try{await(0,p.zi)("/flpak/ww-migrate-"+ve+"-combo-group/"+je+"?mode=normal")}catch(Ve){await(0,u.FY)(Ve)}},Ne=async pe=>{let{projectBasicCid:ve}=pe;try{const{userId:je,flatKey:Ve}=await(0,p.DE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+ve);return{userId:je,flatKey:Ve}}catch(je){await(0,u.FY)(je)}},Xe=async pe=>{let{projectBasicCid:ve,accessToken:je,password:Ve}=pe;try{const{userId:et,flatKey:dt}=await(0,p.DE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+ve+"&access_token="+je+"&password="+Ve);return{userId:et,flatKey:dt}}catch(et){await(0,u.FY)(et)}},nt=pe=>(0,p.DE)("/api/dsh2/web_v1/org_entry/"+pe),yt=async pe=>{const{project:ve}=await(0,p.DE)("/api/dashboard/v5/projects/"+pe);return ve},xt=async(pe,ve)=>{await(0,p.SN)("/api/dashboard/v5/projects/"+pe+"/cover",{project:ve})},bt=async pe=>(0,p.DE)("/api/upper/web_v1/basics/statstics/"+pe),wt=async()=>{try{const{result:pe}=await(0,p.DE)("/api/community/v1/community/scene_tag_labels?label_type=combo_group");return pe}catch(pe){console.log(pe)}},r=async pe=>{try{const{stickers:ve}=await(0,p.zi)("/api/community/v1/sticker_search_es",{q:pe,page:1,page_size:200});return ve}catch(ve){return console.log(ve),[]}}},54844:(Ce,ce,n)=>{"use strict";n.d(ce,{ER:()=>v,J_:()=>ue,Or:()=>X,QC:()=>h,X0:()=>G,Y5:()=>W,aX:()=>y,dJ:()=>de,g:()=>M,l1:()=>f,wi:()=>D,yq:()=>R});var s=n(70768),p=n(56193),N=n(18833),u=n(19249),B=n(47163),ee=n(15515),V=n(72214);const D=async b=>{let{projectCid:S}=b;return(0,u.DE)("/api/upper/web_v1/sharing/initial?cid="+S)},X=async b=>{let{projectCid:S,sharing:T}=b;return(await(0,u.zi)("/api/flat/web_v1/project_share/"+S,{...T})).project_share},M=async b=>{let{projectCid:S,sharingCid:T}=b;try{return await(0,u.OD)("/api/flat/web_v1/project_share/"+T+"?project_cid="+S)}catch(Y){await(0,N.FY)(Y)}},R=async b=>{let{sharing:S}=b;try{return await(0,u.SN)("/api/flat/web_v1/project_share/"+S.cid,{project_share:S})}catch(T){await(0,N.FY)(T)}},de=async b=>{try{return await(0,u.DE)("/api/flat/web_v1/preview/visit_count/"+b)}catch(S){console.error(S)}},O=()=>{const b=document.getElementById("workspace");(0,s.createRoot)(b).render((0,V.jsx)(p.A,{locale:(0,B.w)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}))},ue=async b=>{try{if(!b.accessToken||b.project.access_token===b.accessToken)return W(b.project);{const{project:S,accessToken:T}=b,{project_share:Y}=await(0,u.DE)("/api/flat/web_v1/project_share/"+S.cid+"?access_token="+T);return{sharing:{...Y,type:"advanced",view_mode:Y.device_model}}}}catch(S){await O()}},W=b=>{const{cid:S,access_token:T,access:Y,building:d,comment_permission:K,password:P,visibility:H,wechat:m,is_first_canvas_open:E}=b,q=new URLSearchParams(location.search),te=q.get("screen"),ne=q.get("canvasId"),se=q.get("view_mode")||(0,ee.Yt)(S+"_default_sharing_view_mode","read_only",ee.qW.String),fe=q.get("view_mode")||(0,ee.Yt)(S+"_default_sharing_view_mode","read_only",ee.qW.String),Oe=!!q.get("selection"),Ye=Oe?q.get("selection").split(","):[];return{sharing:{type:"default",project_cid:S,access_token:T,view_access:Y,view_sticky:d,comment_permission:K,password:P,visibility:H,wechat:m,view_mode:se,screen_visible_switch:Oe,screen_visible_list:Ye,page_begin:te,canvas_begin:ne,device_model:fe,is_first_canvas_open:E}}},G=async b=>{let{projectCid:S}=b;try{const{project_shares:T}=await(0,u.DE)("/api/flat/web_v1/project_share/"+S+"/all");return T.sort((Y,d)=>new Date(d.created_at).getTime()-new Date(Y.created_at).getTime())}catch(T){return await(0,N.FY)(T),[]}},I=async b=>{try{const{result:S}=await fetchGetJSON("/api/accesses/v4/project/"+b+"/permission_check?permission=P:update");return S}catch(S){await apiErrorModals(S)}},v=async b=>{let S=null;try{S=await(0,u.DE)("/flpak/ww-p2meta/"+b)}catch(T){await(0,N.FY)(T)}return S},C={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1,enable_version_record:!1,view_sticky:!0,is_first_canvas_open:!1},f=()=>({sharing:C}),y=async b=>{let S,T;try{S=await(0,u.DE)("/api/upper/web_v1/basics/"+b+"/get_details"),S&&JSON.stringify(S)!=="{}"&&(T=!0)}catch(Y){S=Y,T=!1}return{result:S,statusOk:T}},h=async b=>{let S,T;try{S=await(0,u.DE)("/api/dsh2/web_v1/permissions/can_edit_check?cid="+b),S&&JSON.stringify(S)!=="{}"&&(T=!0)}catch(Y){S=Y,T=!1}return{result:S,statusOk:T}}},55244:(Ce,ce,n)=>{"use strict";n.d(ce,{JQ:()=>de,kZ:()=>W,tg:()=>G,zW:()=>O});var s=n(79287),p=n.n(s),N=n(89022),u=n.n(N),B=n(13076),ee=n.n(B);if(n.j!=15)var V=n(47163);function D(v){return v<10?"0"+v:v}function X(v,C,f){const y=new Date(v),h=y.getFullYear(),b=D(y.getMonth()+1),S=D(y.getDate()),T=D(y.getHours()),Y=D(y.getMinutes());return C==="time"?T+":"+Y:C==="datetime"?""+b+f+S+" "+T+":"+Y:""+h+f+b+f+S+" "+T+":"+Y}const M=n.j!=15?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function R(v,C){const f=new Date(v),y=f.getFullYear(),h=M[f.getMonth()],b=D(f.getDate()),S=D(f.getHours()),T=D(f.getMinutes());return C==="time"?S+":"+T:C==="datetime"?h+" "+b+" "+S+":"+T:h+" "+b+", "+y+" "+S+":"+T}function de(v,C,f){if(C===void 0&&(C="datetime"),f===void 0&&(f="."),!v)return"";let y=v;typeof v!="number"&&(y=parseInt(v,10)),y.length===10&&(y=y*1e3);let h="";const b=(0,V.w)();return b==="zh-CN"?h=X(y,C,f):(b==="en-US"||b==="en")&&(h=R(y,C,f)),h}function O(v,C){C===void 0&&(C=ue());const f=C-v;let y="";if(f<=3*1e3)y=I18N.Common.just_now||"\u521A\u521A";else if(f>3*1e3&&f<60*1e3)y=Math.floor(f/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(f>=60*1e3&&f<60*60*1e3)y=Math.floor(f/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{y=de(v,"full");const h=new Date(new Date().setHours(0,0,0,0)).getTime(),b=new Date(new Date().getFullYear(),0,1).getTime();v>b&&(y=de(v,"datetime")),v>h&&(y=de(v,"time"))}return y}function ue(){return new Date().getTime()}const W=v=>{p().locale(v==="zh-CN"?"zh-cn":v),p().extend(u()),p().extend(ee())},G=()=>p()().isBefore("2024-10-06"),I=v=>new Promise(C=>setTimeout(C,v))},55769:()=>{"use strict";const Ce={},ce={},n={},s={}},56193:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>b});var s=n(25582),p=n.n(s),N=n(38502),u=n(67787),B=n(60719);const ee=u.Ay.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-8goufi-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{display:grid;grid-auto-flow:column;gap:20px;justify-content:center;.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],B.f.color_text_btn.value_light,B.f.color_btn_primary_normal.value_light,B.f.color_btn_primary_hover.value_light,B.f.color_btn_primary_clicked.value_light,B.f.color_text_L1.value_light,B.f.color_bg_white.value_light,B.f.color_bg_border_02.value_light,B.f.color_btn_secondary_hover.value_light,B.f.color_bg_border_02.value_light,B.f.color_btn_secondary_active.value_light,B.f.color_bg_border_02.value_light);var V=n(72214);const D="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",X="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjMyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjUwLjUgMjk1LjVsLTctMzYgNi41LS41IDguNS0yIDktNSAzNCAyLjUgOCAzOC41LTU5IDIuNXoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl83ODc4XzE1MjE3KSIvPjxwYXRoIG9wYWNpdHk9Ii42IiBkPSJNNDM2LjE1MiAxNTguNWM1NC40LTUuMiA1OS4zMzQgNTQuMTY2IDU1IDg0LjVoLTMwOGMtMjIuOC00NiAxNy42NjctNjkuMTY3IDQ0LTczLjUtNDkuMzMzLTE1LjUtMTkuNS04OCAyOC41LTExNiAxMjIuMjU0LTcxLjMxNSAxMTIuNSAxMTEuNSAxODAuNSAxMDV6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfNzg3OF8xNTIxNykiLz48cmVjdCB4PSIyNjcuNjQ4IiB5PSIxNDQiIHdpZHRoPSIzOCIgaGVpZ2h0PSI5OCIgcng9IjMiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMjI5LjY0OCIgeT0iMTE0IiB3aWR0aD0iMzgiIGhlaWdodD0iMTI4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzNzkuNjQ4IiB5PSIxMjgiIHdpZHRoPSIyMSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjQwMC42NDgiIHk9IjE0NCIgd2lkdGg9IjI5IiBoZWlnaHQ9Ijk4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzMDUuNjQ4IiB5PSIxMjgiIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjMyNS42NDgiIHk9IjEzMC4yMzIiIHdpZHRoPSIyMi4yODkiIGhlaWdodD0iMTE2IiByeD0iNCIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1LjcyMyAzMjUuNjQ4IDEzMC4yMzIpIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxIDgiLz48cGF0aCBkPSJNMTc3LjY0OCAyNDJoMzEwIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGZpbGw9IiMxRjI5MkUiIGQ9Ik0zODAuNjQ4IDIwMGgxOXYxN2gtMTl6Ii8+PHBhdGggZmlsbD0iIzE2ODRGQyIgZD0iTTQwMS42NDggMTY4aDI5djE5aC0yOXoiLz48cGF0aCBmaWxsPSIjMUYyOTJFIiBkPSJNMzgwLjY0OCAyMjFoMTl2NGgtMTl6TTI2OC42NDggMTU5aDM2djEzaC0zNnoiLz48cGF0aCBkPSJNMjk1LjE0OCAxODNjOC0uOCAxNCA4LjMzMyAxNiAxM2wtNTAgMjEtMjQuNS0xNCAyLTQuNSA0LjUtOCA5LTMuNSA5IC41IDYuNS00LjUgNi0xLjUgNiAxLjUgNCA0Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI0Mi4xNDggMjA0bDY4LTctMi41IDU3LTU4LTItNy41LTQ4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0zMTAuMTQ4IDE5N2wuOTk5LjA0NC4wNTEtMS4xNTctMS4xNTIuMTE4LjEwMi45OTV6bS02OCA3bC0uMTAyLS45OTUtMS4wNDguMTA4LjE2MiAxLjA0MS45ODgtLjE1NHptNy41IDQ4bC0uOTg4LjE1NC4xMjguODE3LjgyNi4wMjguMDM0LS45OTl6bTU4IDJsLS4wMzQuOTk5YTEgMSAwIDAgMCAxLjAzMy0uOTU1bC0uOTk5LS4wNDR6bTIuMzk4LTU3Ljk5NWwtNjggNyAuMjA1IDEuOTkgNjgtNy0uMjA1LTEuOTl6bS02OC44ODYgOC4xNDlsNy41IDQ4IDEuOTc2LS4zMDgtNy41LTQ4LTEuOTc2LjMwOHptOC40NTQgNDguODQ1bDU4IDIgLjA2OS0xLjk5OC01OC0yLS4wNjkgMS45OTh6bTU5LjAzMyAxLjA0NWwyLjUtNTctMS45OTgtLjA4OC0yLjUgNTcgMS45OTguMDg4eiIgZmlsbD0iIzFGMjkyRSIvPjxwYXRoIGQ9Ik0yOTQuMTQ4IDE4Mi41YzgtLjggMTQgOC4zMzMgMTYgMTNsLTI5LjUgMTAuNS02LjUtM3YtOC41bDguNS04Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMxMC42NDggMTk2Yy0yLTctMTEuMjEyLTE5LjY4Ni0yOC41LTguNS0xNyAxMS03LjUgMjUuNSA5LjUgMTRtLTgtMTQuOTIzYy0zLjgzMy0zLjY2Ny0xMi4wNi0xMC43MjItMjQgMi45MjMtNyA4IDAgMTcuNSAxNCA5TTI2MS4xNDggMTg3LjVjLTYtMi4xNjctMTkuNi0xLjUtMjQgMTQuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTg4LjE0OCAyMDZsNTktNC41IDEuNSA1Ny41LTYzLjUtMy41IDMtNDkuNXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIwMy42NDkgMTk3LjAzMWM1LjYtLjggMTAuMzMzIDQuNjY2IDEyIDcuNUwyMDguNSAyMDcuNWwtNiA1LjUtNC41IDctMSAxMCAzLjUgMTUgMS41IDktNCAxMi0yLjUgNy41LS41IDE3LjUtNzIgNC41IDIuNS0zMC41LTExLjUtMTYuNS01LjUtMTUuNXYtMTRsNy0xNCA4LTcgNSAxIDQuNSA5LjUgNi41LTguNDY5IDEwLTguMDMxIDcuNS41IDQuNSAzLTQuNSA0LjUzMWMxNS41LTEzLjAzMSAyMi4wNTctMy41MzEgMTkuNSAwIDguNC0xMS42IDE2LjgxNS00LjMzNCAyMC42NDkgMC0uMTY3LS42NjcuOS0yLjIgNi41LTN6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfNzg3OF8xNTIxNykiLz48cGF0aCBkPSJNMTg3LjE0OCAyMTEuNWMzLjE4Ni02LjYxNiA2LjU3Ny0xMC40OTIgOS44OTQtMTIuNW0wIDBjNy41MTItNC41NDggMTQuNjM4LjQ5MSAxOC4xMDYgNS02LjAzNSAyLjE2Ny0xOC4xMDYgOS44LTE4LjEwNiAyMyAwIDE2LjUgMTEuMTA2IDI0LjUtMS44OTQgNDZ2MThtMS44OTQtOTJjLTUuMjk4LTUuODMzLTE4LjE5NC0xMS41LTI3LjM5NCAxMi41bTgtMTQuNWMtNC42NjYtNS4zMzMtMTYuNS05LjUtMjYuNSAxNi41IiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xNjEuNjQ3IDE5NmMtNC44MzMtNi4xNjctMTYuMDEyLTEwLjI0NC0zMS41IDE4LTUuMjEgOS41LTYgMjYtMSAzMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTMyLjY0OCAyMTBjLTEuMTY3LTYuODM0LTUuNi0xOC4xLTE0LTguNS0xMC41IDEyLTIwIDMxLjUgNi41IDYzbC0yIDMxTTMwMS4xNDggMjU0bDcuNSAzOU0yNDMuNjQ4IDI1OGw2LjUgMzcuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTM0OS42NjcgMTAxLjM5NWwuMDAxLjAwMS0uMDAxLS4wMDF6bTEuNTc0IDMuNTQ1YTI0LjEyNCAyNC4xMjQgMCAwIDEtLjUwMSAyLjgzMWMtLjIyLjkwNS0xLjY1IDIuNTA2LTMuMjI0IDMuMjYxLS43NTkuMjMzLjA5NS0uNDg4LjY3My0xLjgzNi4yMDMtLjQ1OC40MTYtMS4xMDcuNjA3LTEuODk3LjM4Mi0xLjU3Ni42NTItMy42MDUuNjExLTUuNThhNS4yNCA1LjI0IDAgMCAxIC4wMjUtLjcxNWMuMDEyLS4wOTUuMDMyLS4yMjMuMDc1LS4zNTNhMS4yIDEuMiAwIDAgMSAuMTMzLS4yNzUgMS4wMyAxLjAzIDAgMCAxIDEuMzYxLS4zNDdjLjE4OS4xMDMuMzAxLjI0LjM1My4zMS4xMDYuMTQ0LjE2NS4yOTQuMTk1LjM3OC4wNjkuMTkxLjEyNS40MzMuMTczLjY5Ni4wODguNDg1LjE4OS45NDcuMzI2IDEuMzIxLjA2OC4xODUuMTM1LjMyMi4xOTYuNDE4YS43ODUuNzg1IDAgMCAwIC4wNjkuMDkxLjg1Mi44NTIgMCAwIDAgLjE5MS0uMDljLjMzNi0uMTk3Ljg2My0uNjcxIDEuNjA3LTEuNjUzLjA3OS0uMTA1LjE2MS0uMjA2LjI0Ny0uMjk1YTEuNTcgMS41NyAwIDAgMSAuMzY4LS4yOTFjLjE1NS0uMDg1LjU2LS4yNTQgMS4wMTEtLjAyOC40MS4yMDUuNTMxLjU4MS41NjUuNzA2LjA3NC4yNy4wNS41NjUuMDM3LjcyMi0uMDE5LjIwMy0uMDUyLjQzOS0uMDkuNjgxbC0uMDgxLjUwNWMtLjE1MS45MjEtLjMyNiAxLjk5NS0uMzEgMi45MjIuMDEuNTU0LjA4OS45MjYuMTk3IDEuMTM3LjA3NC4xNDQuMTMuMTc4LjI2NS4xOS4yMzEuMDIuNzItLjA1NiAxLjU4Ny0uNTE4Ljg0NS0uNDUxIDEuOTQ3LTEuMjEzIDMuMzY3LTIuMzk5LjIyLS4xODQuNDctLjM0OS43NDEtLjQ1MS4yNTQtLjA5NC42NjYtLjE4MiAxLjA5LjAxLjQ3Ny4yMTYuNjc4LjY0OS43MzIuOTk5LjA1MS4zMjctLjAwNi42NTItLjA4OC45MzEtLjQ3NCAxLjYwNi0xLjE5NiA0LjA2My0uNjcxIDYuNDcxLjQ5NiAyLjI3OSAyLjE2OCA0LjczIDcuMDE3IDYuMjEzLjQwNS4xMjQuODE0LjM4OSAxLjA2Ni42OTYuMDY4LjA4NC4xNTcuMjA5LjIyMS4zNzFhMS4wOTMgMS4wOTMgMCAwIDEtLjYyNiAxLjQzNWMtLjIwNi4wOC0uNC4wODgtLjUyOC4wODRhMTIuMjc1IDEyLjI3NSAwIDAgMS0xLjEyMS0uMTE1Yy0yLjA2LS4yNjgtNS45Ni41OTYtOS4xMzcgMi4zOTYtMS4xOTUuNjc3LTEuMzUuNjE3LS4zNTMtLjMyNiAxLjYyOS0xLjU0MSA0LjUwOS0zLjc0NyA3LjY4LTMuODY0LTQuMzQ1LTEuMDItNS42ODMtNC4yMTUtNi4xNzMtNi40NjQtLjQ3My0yLjE3LS4xMjQtNC4zMTguMjc3LTUuOTIyLS45NzIuNzQ4LTEuODE3IDEuMzA3LTIuNTU0IDEuNy0uOTkyLjUyOS0xLjg5OC44MTYtMi43MDIuNzQ1LS45MDEtLjA3OS0xLjUyMS0uNTktMS44Ny0xLjI3MS0uMzE1LS42MTYtLjQwNS0xLjM1MS0uNDE3LTIuMDEzLS4wMS0uNjE0LjA0OC0xLjI3OC4xMjctMS45MDFhNC4zMDUgNC4zMDUgMCAwIDEtLjQ3LjMyM2MtLjcyMy40MjQtMS41MzEuNTMyLTIuMjQ2LjA3OWwtLjAyOC0uMDE4em0xLjAyOS0xLjY5MXMuMDA5LS4wMDMuMDIyIDBjLS4wMTYuMDAzLS4wMjIgMC0uMDIyIDB6IiBmaWxsPSIjRkY2MTYxIi8+PHBhdGggZD0iTTI1MC42NDggMjIzLjVsLTcgOS41TTMxMS42NDggMjE4bC03IDkuNU0yNTIuNjQ4IDIzMGwtNyA5LjVNMzEzLjY0OCAyMjQuNWwtNyA5LjUiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzg3OF8xNTIxNyIgeDE9IjI3My41IiB5MT0iMjU0LjUiIHgyPSIyNjYuMDk3IiB5Mj0iMjkxLjMwNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9Ii43MzEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzc4NzhfMTUyMTciIHgxPSIyMTAuMTUyIiB5MT0iMTI1IiB4Mj0iMzc3LjE1MiIgeTI9IjI4OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNFREY4RkYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGQUVGRkYiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl83ODc4XzE1MjE3IiB4MT0iMTg4IiB5MT0iMjU2IiB4Mj0iMTg2LjkyNiIgeTI9IjI5Mi41MjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIuNjc2IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",M="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",R="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",de="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function O(S){const{className:T,source:Y,rotate:d,width:K,height:P,onClick:H}=S,m={msTransform:"rotate("+d+"deg)",transform:"rotate("+d+"deg)",width:K,height:P};return(0,V.jsx)("img",{className:T,src:Y,style:m,onClick:H})}O.propTypes={className:p().string,source:p().string.isRequired,width:p().number,height:p().number,rotate:p().number,onClick:p().func};const ue=O,W=403,G=404,I=[500,501,502,503,504,505],v="link_expired";var C=n(63938);function f(S,T,Y){return(T=y(T))in S?Object.defineProperty(S,T,{value:Y,enumerable:!0,configurable:!0,writable:!0}):S[T]=Y,S}function y(S){var T=h(S,"string");return typeof T=="symbol"?T:T+""}function h(S,T){if(typeof S!="object"||!S)return S;var Y=S[Symbol.toPrimitive];if(Y!==void 0){var d=Y.call(S,T||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(S)}class b extends N.PureComponent{constructor(){super(...arguments),f(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,V.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("p",{className:"proposal",children:["Current account ",(0,V.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,V.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)("p",{className:"proposal",children:["Current account ",(0,V.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6587\u4EF6\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,V.jsxs)("div",{className:"proposal text-left",children:[(0,V.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,V.jsxs)("ul",{className:"text-list",children:[(0,V.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,V.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,V.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,V.jsxs)("div",{className:"proposal text-left",children:[(0,V.jsx)("p",{children:"Please try the following methods:"}),(0,V.jsxs)("ul",{className:"text-list",children:[(0,V.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,V.jsx)("li",{children:"If not, please switch to another network."})]}),(0,V.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},previewFile:{"zh-CN":"\u9884\u89C8\u6587\u4EF6",en:"Preview File",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),f(this,"clickGoHome",()=>{let T="",{locale:Y,homeUrl:d}=this.props;Y==="zh-CN"?T=d:Y==="jp"?T="https://mockitt.wondershare.jp":T="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(T):location.replace(T)}),f(this,"clickReloadPage",()=>{window.location.reload()}),f(this,"clickContactUs",()=>{let T="",{locale:Y}=this.props;if(Y==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else Y==="jp"?T="https://support.wondershare.jp":T="https://support.wondershare.com/product/mockitt.html";window.open(T)}),f(this,"getErrorConfig",()=>{const{errorType:T,primaryBtnText:Y,primaryBtnClick:d,secondaryBtnText:K,secondaryBtnClick:P,locale:H}=this.props,{typeText:m,clickGoHome:E,clickContactUs:q,clickReloadPage:te}=this;let ne,se,fe="",Oe=null,Ye;const ke={text:m.goHome[H],click:E},Re={text:m.reloadPage[H],click:te},mt={text:m.contactUs[H],click:q};switch(!0){case T===W:ne=ke.text,se=ke.click,Ye=D;break;case T===G:ne=ke.text,se=ke.click,Ye=X;break;case T===v:ne=ke.text,se=ke.click,Ye=X;break;case I.includes(T):ne=Re.text,se=Re.click,fe=mt.text,Oe=mt.click,Ye=M;break;default:ne=Re.text,se=Re.click,fe=mt.text,Oe=mt.click,Ye=H==="en"?de:R;break}return Y&&(ne=Y),d&&(se=d),K&&(fe=K),P&&(Oe=P),{svgBg:Ye,primaryText:ne,primaryClick:se,secondaryText:fe,secondaryClick:Oe}}),f(this,"getErrorInfo",()=>{const{errorType:T,identity:Y,locale:d,customTitle:K,customDes:P,account:H}=this.props,{typeText:m}=this;let E,q;if(K)E=K;else{const te=I.includes(T)?"title_5XX":"title_"+T;E=m[te]?m[te][d]:m.title_0[d]}if(P)q=P;else{let te="des_"+T;T===W?te=H?"des_"+T+"_"+Y:"des_"+T+"_2":I.includes(T)?te="des_5xx":T===v&&(te="des_link_expired"),q=m[te]?m[te][d]:m.des_link_expired[d]}return{title:E,desc:q}}),f(this,"handleClickLogo",()=>{let{isLogoClickable:T,logoUrl:Y}=this.props;T&&(window.top!==window.self?window.top.location.href=Y:window.location.href=Y)})}render(){const{locale:T,isShowPrimaryBtn:Y,isShowSecondaryBtn:d,isLogoClickable:K,previewFileBtnClick:P}=this.props,{typeText:H}=this,{svgBg:m,primaryText:E,primaryClick:q,secondaryText:te,secondaryClick:ne}=this.getErrorConfig(),{title:se,desc:fe}=this.getErrorInfo();return(0,V.jsxs)(ee,{children:[(0,V.jsx)("div",{className:"logo",children:(0,V.jsx)("span",{className:K?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,V.jsx)(ue,{source:m})})}),(0,V.jsxs)("div",{className:"content",children:[(0,V.jsx)("p",{className:"title",children:se}),typeof fe=="string"?(0,V.jsx)("p",{className:"proposal",children:fe}):fe]}),(0,V.jsxs)("div",{className:"btn-list",children:[d&&ne&&te&&(0,V.jsx)("a",{className:"btn regular",onClick:ne,children:te}),P&&(0,V.jsx)("a",{className:"btn regular",onClick:P,children:H.previewFile[T]}),Y&&q&&E&&(0,V.jsx)("a",{className:"btn primary",onClick:q,children:E}),te===H.contactUs[T]&&(0,V.jsx)(C.A,{})]})]})}}f(b,"propTypes",{locale:p().oneOf(["zh-CN","en","jp"]),identity:p().oneOf([0,1]),customTitle:p().string,customDes:p().string,isShowPrimaryBtn:p().bool,primaryBtnText:p().string,primaryBtnClick:p().func,isShowSecondaryBtn:p().bool,secondaryBtnText:p().string,secondaryBtnClick:p().func,errorType:p().oneOf([0,403,404,500,501,502,503,504,505,v]).isRequired,account:p().string,isLogoClickable:p().bool,logoUrl:p().string,homeUrl:p().string}),f(b,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/",homeUrl:"/workspace/home"})},58315:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>ue});var s=n(94586),p=n(8509),N=n(18941);function u(W,G){return W.classList?!!G&&W.classList.contains(G):(" "+(W.className.baseVal||W.className)+" ").indexOf(" "+G+" ")!==-1}function B(W,G){W.classList?W.classList.add(G):u(W,G)||(typeof W.className=="string"?W.className=W.className+" "+G:W.setAttribute("class",(W.className&&W.className.baseVal||"")+" "+G))}function ee(W,G){return W.replace(new RegExp("(^|\\s)"+G+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function V(W,G){W.classList?W.classList.remove(G):typeof W.className=="string"?W.className=ee(W.className,G):W.setAttribute("class",ee(W.className&&W.className.baseVal||"",G))}var D=n(38502),X=n(96582),M=n(99129),R=function(G,I){return G&&I&&I.split(" ").forEach(function(v){return B(G,v)})},de=function(G,I){return G&&I&&I.split(" ").forEach(function(v){return V(G,v)})},O=function(W){(0,N.A)(G,W);function G(){for(var v,C=arguments.length,f=new Array(C),y=0;y<C;y++)f[y]=arguments[y];return v=W.call.apply(W,[this].concat(f))||this,v.appliedClasses={appear:{},enter:{},exit:{}},v.onEnter=function(h,b){var S=v.resolveArguments(h,b),T=S[0],Y=S[1];v.removeClasses(T,"exit"),v.addClass(T,Y?"appear":"enter","base"),v.props.onEnter&&v.props.onEnter(h,b)},v.onEntering=function(h,b){var S=v.resolveArguments(h,b),T=S[0],Y=S[1],d=Y?"appear":"enter";v.addClass(T,d,"active"),v.props.onEntering&&v.props.onEntering(h,b)},v.onEntered=function(h,b){var S=v.resolveArguments(h,b),T=S[0],Y=S[1],d=Y?"appear":"enter";v.removeClasses(T,d),v.addClass(T,d,"done"),v.props.onEntered&&v.props.onEntered(h,b)},v.onExit=function(h){var b=v.resolveArguments(h),S=b[0];v.removeClasses(S,"appear"),v.removeClasses(S,"enter"),v.addClass(S,"exit","base"),v.props.onExit&&v.props.onExit(h)},v.onExiting=function(h){var b=v.resolveArguments(h),S=b[0];v.addClass(S,"exit","active"),v.props.onExiting&&v.props.onExiting(h)},v.onExited=function(h){var b=v.resolveArguments(h),S=b[0];v.removeClasses(S,"exit"),v.addClass(S,"exit","done"),v.props.onExited&&v.props.onExited(h)},v.resolveArguments=function(h,b){return v.props.nodeRef?[v.props.nodeRef.current,h]:[h,b]},v.getClassNames=function(h){var b=v.props.classNames,S=typeof b=="string",T=S&&b?b+"-":"",Y=S?""+T+h:b[h],d=S?Y+"-active":b[h+"Active"],K=S?Y+"-done":b[h+"Done"];return{baseClassName:Y,activeClassName:d,doneClassName:K}},v}var I=G.prototype;return I.addClass=function(C,f,y){var h=this.getClassNames(f)[y+"ClassName"],b=this.getClassNames("enter"),S=b.doneClassName;f==="appear"&&y==="done"&&S&&(h+=" "+S),y==="active"&&C&&(0,M.F)(C),h&&(this.appliedClasses[f][y]=h,R(C,h))},I.removeClasses=function(C,f){var y=this.appliedClasses[f],h=y.base,b=y.active,S=y.done;this.appliedClasses[f]={},h&&de(C,h),b&&de(C,b),S&&de(C,S)},I.render=function(){var C=this.props,f=C.classNames,y=(0,p.A)(C,["classNames"]);return D.createElement(X.Ay,(0,s.A)({},y,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},G}(D.Component);O.defaultProps={classNames:""},O.propTypes={};const ue=O},59316:Ce=>{function ce(n,s,p,N){var u=-1,B=n==null?0:n.length;for(N&&B&&(p=n[++u]);++u<B;)p=s(p,n[u],u,n);return p}Ce.exports=ce},60690:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>I});var s=n(18654),p=n(33233);const N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",B=Object.entries(p.fm).reduce((v,C)=>{const f=C[0];return{...v,[f]:[p.fm[f].value_light,p.fm[f].value_dark||p.fm[f].value_light]}},{}),ee=Object.entries(p.$B).reduce((v,C)=>{const f=C[0];return{...v,[f]:[p.$B[f].value_light,p.$B[f].value_dark||p.$B[f].value_light]}},{}),V=Object.entries(s.af).reduce((v,C)=>{var f;const y=C[0];return{...v,[y]:[s.af[y].value,((f=s.qY[y])==null?void 0:f.value)||s.af[y].value]}},{}),D=v=>{let C;const[f,y,h]=v,b=h!=null?h:f;return y==="light"?C=s.af[b].value:C=s.qY[b].value,{[f]:[C,C]}},M=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((C,f)=>{const y=D(f);return{...C,...y}},{}),W={...V,...M,...{loading_styles_bg:["linear-gradient(90deg, #F7F7F9 25%, rgba(0,0,0, 0.05) 37%, #F7F7F9 63%)","linear-gradient(270deg, rgba(255, 255, 255, 0.02) 0%, rgba(255, 255, 255, 0.06) 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],color_var_bind_point:["#DEDFE0","#4B4B4B"],bg_base64:[N,u],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...B,...ee,...{color_literal_number:["#015CC5","#218BFF"],color_literal_string:["#002155","#80CCFF"],color_literal_boolean:["#8250DF","#A475F9"],color_literal_operator:["#F23DD1","#E85AAD"]},...{expr_editor_string:["#002155","#80CCFF"],expr_editor_number:["#015CC5","#218BFF"],expr_editor_boolean:["#8250DF","#A475F9"],expr_editor_func:["#23863A","#2DA44E"],expr_editor_builtinVar:["#8250DF","#A475F9"]}},G=(v,C)=>{const f={};return Object.entries(v).forEach(y=>{let[h,b]=y;Array.isArray(b)?f[h]=b[C]:typeof b=="object"?f[h]=G(b,C):f[h]=b}),f},I={light:G(W,0),dark:G(W,1)}},60719:(Ce,ce,n)=>{"use strict";n.d(ce,{f:()=>s.f});var s=n(29523);const u={...{border_modal:{description:"\u5F39\u7A97 border",value_light:"none",value_dark:"1px solid #4F5052"}},...{shadow_xs:{description:"\u5149\u6807\u9634\u5F71",value_light:"0px 1px 2px 0px rgba(0, 18, 38, 0.40)",value_dark:"0px 1px 2px 0px rgba(0, 18, 38, 0.40)"},shadow_s:{description:"\u6ED1\u5757\u6309\u94AE\u9634\u5F71",value_light:"0px 3px 6px 0px rgba(0, 18, 38, 0.10)",value_dark:"0px 3px 6px 0px rgba(0, 18, 38, 0.10)"},shadow_m:{description:"\u83DC\u5355/\u60AC\u6D6E\u7F16\u8F91\u680F\u200D\u6295\u5F71",value_light:"0px 4px 10px 0px rgba(0, 18, 38, 0.10)",value_dark:"0px 4px 10px 0px rgba(0, 18, 38, 0.10)"},shadow_l:{description:"\u5F39\u7A97/\u60AC\u6D6E\u9762\u677F/\u5168\u5C40\u63D0\u793A\u6295\u5F71",value_light:"2px 8px 20px 0px rgba(0, 0, 0, 0.10)",value_dark:"2px 8px 20px 0px rgba(0, 0, 0, 0.10)"},shadow_left:{description:"\u5DE6\u4FA7\u9762\u677F\u5206\u9694\u7EBF",value_light:"-1px 0px 0px 0px #E8EAEC inset",value_dark:"-1px 0px 0px 0px #E8EAEC inset"},shadow_right:{description:"\u53F3\u4FA7\u9762\u677F\u5206\u9694\u7EBF",value_light:"1px 0px 0px 0px #E8EAEC inset",value_dark:"1px 0px 0px 0px #E8EAEC inset"},shadow_bottom:{description:"\u5E95\u90E8\u5206\u9694\u7EBF\uFF08\u9876\u680F\u3001\u6807\u5C3A\u3001\u5F39\u7A97\u6807\u9898\u680F\u7B49\uFF09",value_light:"0px -1px 0px 0px #E8EAEC inset",value_dark:"0px -1px 0px 0px #E8EAEC inset"}}}},60820:Ce=>{var ce=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function n(s){return ce.test(s)}Ce.exports=n},61068:(Ce,ce,n)=>{"use strict";n.d(ce,{p:()=>R,A:()=>ue});var s=n(95549),p=n(38502),N=n(25582),u=n.n(N),B=n(63986),ee=n.n(B),V=n(17307),D=n(53732),X=n.n(D),M=n(67787);const R="checkbox-has-box",de=M.Ay.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-gd8gcf-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}&.","{input,.Check-state{margin:6px;transition:none;}.Check-label{margin-left:4px;}}"],W=>W.theme.color_text_L2,W=>W.theme.color_text_disabled01,W=>W.theme.color_bg_white,W=>W.theme.color_text_L2,W=>W.theme.color_proto,W=>W.theme.color_proto,W=>W.theme.color_btn_secondary_active,W=>W.theme.color_btn_secondary_active,W=>W.theme.color_text_disabled01,R);var O=n(72214);class ue extends p.PureComponent{constructor(){super(...arguments),(0,s.A)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,s.A)(this,"onToggle",G=>{const{name:I,value:v,label:C,onChange:f,onToggle:y,isDisabled:h,readOnly:b,attr:S}=this.props,{isChecked:T}=this.state,Y=!h&&!b,d=Y?T==="mixed"?!0:!T:T;this.setState({isChecked:d}),y(d,I,v||C,G),f(d,S,G)})}static getDerivedStateFromProps(G,I){let{prevProps:v}=I;return ee()(v,G)?null:{prevProps:G,isChecked:G.isChecked}}render(){const{className:G,label:I,name:v,isDisabled:C,readOnly:f}=this.props,{isChecked:y}=this.state,h=X()(G,{"is-checked":!!y,"is-disabled":C,readonly:f});return(0,O.jsxs)(de,{className:h,children:[(0,O.jsx)("input",{type:"checkbox",defaultChecked:!!y,disabled:C,name:v,onChange:this.onToggle}),(0,O.jsx)("span",{className:"Check-state",children:(0,O.jsx)(V.C,{name:y==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),I&&(0,O.jsx)("span",{className:"Check-label",children:I})]})}}(0,s.A)(ue,"propTypes",{isChecked:u().bool||"mixed",isDisabled:u().bool,readOnly:u().bool,onChange:u().func.isRequired,onToggle:u().func.isRequired,label:u().any,name:u().string,attr:u().string,value:u().any,className:u().string}),(0,s.A)(ue,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},63172:(Ce,ce,n)=>{"use strict";n.d(ce,{s:()=>R});var s=n(19249);const p=async(de,O)=>{const{project:ue}=await(0,s.zi)("/api/dashboard/v5/projects/"+de+"/invite",O);return ue},N=async(de,O)=>(0,s.SN)("/api/dashboard/v5/permissions/projects/"+de,O),u=async(de,O)=>{await(0,s.uz)("/api/dashboard/v5/permissions/projects/"+de,O)};var B=n(50159),ee=n(29152),V=n(1076);const D=async(de,O)=>await(0,s.DE)("/api/dashboard/v5/spaces/"+de+"?org_cid="+O),X={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let M=function(de){return de.Org="org",de.OrgSpace="space",de.Folder="folder",de.Project="project",de}({});const R={"entry:projectAccess:initProjectData":async(de,O)=>{let{getState:ue,dispatch:W}=de,{payload:G}=O;try{const{initData:I,members:v}=G,C=I==null?void 0:I.org,{user:f,space:y,project:h,team:b,top_parent_team:S,lang:T}=I||{},Y=new Map,d=new Map;return Y.set(b==null?void 0:b.cid,b),Y.set(S==null?void 0:S.cid,S),b!=null&&b.parent_cid&&(b==null?void 0:b.parent_cid)!==S.cid&&Y.set(b==null?void 0:b.parent_cid,S),d.set(h==null?void 0:h.cid,h),W({type:V.X2.UpdateState,payload:{user:f,org:{...C,members:v},space:y,folderListMap:Y,projectListMap:d,lang:T}}),!0}catch(I){return console.error(I.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(de,O)=>{let{getState:ue,dispatch:W}=de,{payload:G}=O;const{projectCid:I,userCid:v,roleName:C,userName:f}=G;if(!I||!v)return;const y=ue(),h=(0,ee.IE)(y),b=(0,ee.M0)(y),S=(0,ee._B)(y);try{const T=await p(I,{user_cid:v,role:C}),{space:Y}=await D(b,h);S.set(T.cid,T),await W({type:V.X2.UpdateProjectListMap,payload:new Map(S)}),await W({type:V.X2.UpdateSpace,payload:Y}),window.top.postMessage({type:"updateApp",data:{newApp:(0,B.A)(T)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:f,other:X[C]}}},"*")}catch(T){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(de,O)=>{let{getState:ue,dispatch:W}=de,{payload:G}=O;const{projectCid:I,userId:v,roleName:C,userName:f}=G,y=ue();try{const{permission:h}=await N(I,{target_role:C,target_user_id:v}),b=(0,ee._B)(y),S=b.get(I),T=(S==null?void 0:S.permissions)||[],Y=T.find(P=>Number(P.user_id)===Number(v));let d=[];Y?d=T.map(P=>Number(P.user_id)===Number(v)?h:P):d=[...T,h];const K={...S,permissions:d};b.set(I,K),await W({type:V.X2.UpdateProjectListMap,payload:new Map(b)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,B.A)(K)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:f,other:X[C]}}},"*")}catch(h){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(de,O)=>{let{getState:ue,dispatch:W}=de,{payload:G}=O;const{projectCid:I,userId:v,roleName:C,userName:f}=G,y=ue();try{await u(I,{target_role:C,target_user_id:v});const h=(0,ee._B)(y),b=h.get(I),S=(b==null?void 0:b.permissions)||[];if(S.find(Y=>Number(Y.user_id)===Number(v))){const Y=S.filter(K=>Number(K.user_id)!==Number(v)),d={...b,permissions:Y};h.set(I,d),await W({type:V.X2.UpdateProjectListMap,payload:new Map(h)}),window.top.postMessage({type:"successMsg",data:{msg:{name:f,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,B.A)(d)}},"*")}}catch(h){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},63938:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>B});var s=n(38502),p=n(25582),N=n.n(p),u=n(72214);B.propTypes={className:N().string,children:N().oneOfType([N().array,N().string]),isWonderShare:N().bool,id:N().string,onClick:N().func,disabled:N().bool,canClick:N().bool};function B(ee){let{className:V,children:D,isWonderShare:X=!1,id:M="mdOnlineSupport",onClick:R,disabled:de,canClick:O}=ee;const ue="qd30090468111af7daaf09a6395b687fc3becd624cf3",W=X?"https://support.wondershare.com/":"";(0,s.useEffect)(()=>{if(!de)return!X&&G(),()=>{const v=document.getElementById(ue);v&&v.remove()}},[]);const G=()=>{n.g?(n.g.wpaShowItemId=window.wpaShowItemId="123",n.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let v=document.createElement("script");v.id=ue,v.src="https://wp.qiye.qq.com/qidian/3009046811/1af7daaf09a6395b687fc3becd624cf3",v.charset="utf-8",v.async=!0,v.defer=!0,document.body.appendChild(v)},I=v=>{if(de){O&&R&&R();return}if(R&&R(),X){window.open(W);return}if(M!=="mdOnlineSupport"){v.preventDefault();const C=document.getElementById("mdOnlineSupport");C&&C.click()}};return(0,u.jsx)("div",{style:{cursor:"pointer"},id:M,className:V,onClick:I,children:D})}},65609:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>V});var s=n(95549),p=n(38502),N=n(53732),u=n.n(N),B=n(22460),ee=n(72214);class V extends p.PureComponent{constructor(){super(...arguments),(0,s.A)(this,"getClassName",()=>{const{className:X,type:M,size:R,corner:de,disabled:O}=this.props;return u()(X,"button-root",{["type-"+M]:M,["size-"+R]:R,["corner-"+de]:de,"is-disabled":O})}),(0,s.A)(this,"onButtonClick",X=>{if(this.props.disabled){X.preventDefault();return}const{onClick:M}=this.props;M&&M(X)}),(0,s.A)(this,"onButtonMouseDown",X=>{if(this.props.disabled){X.preventDefault();return}const{onMouseDown:M}=this.props;M&&M(X)}),(0,s.A)(this,"getChildrenNode",()=>(0,ee.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const X=this.getClassName(),M=this.getChildrenNode();return(0,ee.jsx)(B.O,{className:X,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,ee.jsx)("div",{className:"btn-icon-text-container",children:M})})}}(0,s.A)(V,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},65825:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>V});var s=n(38502),p=n(39303),N=n(67787);const u=N.Ay.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-iidm8l-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var B=n(72214);const V=(0,s.memo)(()=>(0,B.jsx)(u,{className:"sharing-loading",children:(0,B.jsx)(p.A,{className:"loading"})}))},68677:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>de});var s=n(38502),p=n(25582),N=n.n(p),u=n(46219),B=n(69368),ee=n(67787);const V=ee.Ay.span.withConfig({displayName:"styled__StyledEllipsis",componentId:"sc-z4nkzm-0"})(["null"]);var D=n(72214);function X(O,ue,W){return(ue=M(ue))in O?Object.defineProperty(O,ue,{value:W,enumerable:!0,configurable:!0,writable:!0}):O[ue]=W,O}function M(O){var ue=R(O,"string");return typeof ue=="symbol"?ue:ue+""}function R(O,ue){if(typeof O!="object"||!O)return O;var W=O[Symbol.toPrimitive];if(W!==void 0){var G=W.call(O,ue||"default");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ue==="string"?String:Number)(O)}class de extends s.PureComponent{constructor(){var ue;super(...arguments),ue=this,X(this,"state",{isTruncated:!1,isDetected:!1}),X(this,"set$ellipsis",W=>Object.assign(this,{$ellipsis:W.current})),X(this,"detectTruncation",function(W){return W===void 0&&(W=ue.$ellipsis),W.offsetWidth<W.scrollWidth})}componentDidMount(){return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}componentDidUpdate(ue){let{children:W}=ue;const{children:G}=this.props,{isDetected:I}=this.state;if(W!==G)return this.setState({isDetected:!1});if(!I)return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}render(){const{className:ue,to:W,type:G,max:I,display:v,lang:C,theme:f,noTooltip:y,withTooltip:h,withQuote:b,withPeriod:S,withComma:T,withQuestionMark:Y,children:d,...K}=this.props,{isTruncated:P,isDetected:H}=this.state,m={children:d},E=H&&(P?"is-truncated":"isnt-truncated"),q={type:W?"link":"inline",theme:f,className:(0,B.Hn)(["Ellipsis",E,ue,(b||S||T||Y)&&"Punctuation",b&&"with-quote",S&&"with-period",T&&"with-comma",Y&&"with-question-mark"]),href:W,"data-type":G,"data-max":I,style:{display:v,maxWidth:isFinite(I)?I+"em":I},content:(h||P)&&!y&&(0,D.jsx)("div",{lang:C,className:"EllipsisTip",...m}),children:d,setRef:this.set$ellipsis,...K},te=(0,D.jsx)(u.A,{...q});return b||S||T||Y?(0,D.jsx)(V,{className:(0,B.Hn)(["Punctuation",b&&"with-quote",S&&"with-period",T&&"with-comma",Y&&"with-question-mark",E]),children:te}):te}}X(de,"propTypes",{className:N().string,theme:N().oneOf(["core","plain"]),type:N().oneOf(["user","id","email","org","team","app","widget"]),max:N().oneOfType([N().string,N().number]),display:N().oneOf(["inline-block","block"]),lang:N().string,to:N().string,children:N().node,noTooltip:N().bool,withTooltip:N().bool,withQuote:N().bool,withComma:N().bool,withPeriod:N().bool,withQuestionMark:N().bool}),X(de,"defaultProps",{lang:"en",theme:"core"})},70812:(Ce,ce,n)=>{"use strict";n.d(ce,{U:()=>D,j:()=>X});var s=n(16615),p=n(49612),N=n(40486),u=n(78257);const B={[p.SR.PageV9]:"\u751F\u6210\u539F\u578B\u9875\u9762",[p.SR.Component]:"\u751F\u6210\u7EC4\u4EF6",[p.SR.Flow]:"\u751F\u6210\u6D41\u7A0B\u56FE",[p.SR.Mind]:"\u751F\u6210\u601D\u7EF4\u5BFC\u56FE",[p.SR.Table]:"\u751F\u6210\u8868\u683C",[p.SR.Chart]:"\u751F\u6210\u56FE\u8868",[p.SR.Semantic]:"AI\u6307\u4EE4",[p.SR.Chat]:"AI\u5BF9\u8BDD",[p.SR.AutoFill]:"\u667A\u80FD\u586B\u5145",[p.SR.AIHTML]:"\u751F\u6210\u539F\u578B\u9875\u9762v2_\u539F\u578B\u5185"},ee={[u.lS.Directory]:"\u76EE\u5F55\u9762\u677F",[u.lS.Builtin]:"\u7EC4\u4EF6\u9762\u677F",[u.lS.Icon]:"\u56FE\u6807\u9762\u677F",[u.lS.Page]:"\u9875\u9762\u9762\u677F",[u.lS.Asset]:"\u56FE\u7247\u9762\u677F",[u.lS.Template]:"\u6BCD\u7248\u9762\u677F",[u.lS.AI]:"AI\u9762\u677F"},V={color:"\u989C\u8272\u6837\u5F0F",appear:"\u5916\u89C2\u6837\u5F0F",text:"\u6587\u672C\u6837\u5F0F"};let D;(function(M){const R=M.AIOpenSourceTrack=H=>{const m=B[H];m&&(0,s.ZI)("proto_ai_entrance",{ai_func_name:m})},de=M.AIUseTrack=(H,m)=>{const E=B[H];!E||!m||(0,s.ZI)("proto_ai_use",{ai_func:E,ai_input:m})},O=M.addShapeToCanvasTrackSourceMap={quickCreate:"\u5FEB\u6377\u952E",topToolbar:"\u9876\u90E8\u64CD\u4F5C\u680F"},ue=M.addShapeToCanvasTrack=(H,m)=>{H&&m&&(0,s.ZI)("proto_shape_add",{name:H,source:m})},W=M.addDrawIOToCanvasTrack=H=>{H&&(0,s.ZI)("proto_draw_add",{type:H})},G=M.addAnimationTrack=H=>{H&&I18N.dConst.ani[H]&&(0,s.ZI)("proto_animation_add",{type:I18N.dConst.ani[H]})},I=M.updateInteractionTrack=H=>{var m;const{type:E,interactionTrigger:q,interactionType:te,value:ne=""}=H;if(!q||!te)return;const se=(0,N.Oz)(q);if(!se)return;const Oe=(m=(0,N.gu)().find(Ye=>Ye.value===te))==null?void 0:m.label;Oe&&(0,s.ZI)("proto_interaction_set",{type:E,trigger:se,action:Oe,value:ne})},v=M.searchResultTrack=(H,m,E)=>{const q=ee[m];!H||!q||(0,s.ZI)("proto_search_result",{keyword:H,source:q,count:E})},C=M.watermarkExposureTrack=H=>{if(!H)return;const m=!!MB.currentOrg;(0,s.ZI)("proto_watermark_show",{watermark_type:H,workspace_type:m?"org":"solo"})},f=M.protoEditorLoadSuccessTrack=H=>{H&&(0,s.ZI)("proto_load_success",{uid:H})},y=M.protoEditorShareTrack=(H,m)=>{H&&(0,s.ZI)("proto_share",{uid:H,source:m})},h=M.protoEditorPresentTrack=(H,m)=>{H&&(0,s.ZI)("proto_present",{uid:H,source:m})},b=M.protoDownloadTrack=(H,m,E)=>{!H||!m||!E||(0,s.ZI)("proto_download",{uid:H,type:m,source:E})},S=M.protoStyleTrack=(H,m,E)=>{!H||!m||!E||(0,s.ZI)("proto_style_set",{uid:H,type:m,source:V[E]})},T=M.protoMasterClickTrack=H=>{H&&(0,s.ZI)("proto_master_click",{uid:H})},Y=M.protoMasterPublishTrack=(H,m)=>{!H||!m||(0,s.ZI)("proto_master_publish",{uid:H,type:m})},d=M.protoMasterUseTrack=(H,m,E)=>{!H||!m||!E||(0,s.ZI)("proto_master_use",{uid:H,source:m,type:E})},K=M.protoPageAddTrack=(H,m,E,q,te,ne)=>{H&&(0,s.ZI)("proto_page_add",{uid:H,source:m,template_type:E,template_paytype:q,template_name:te,template_cid:ne})},P=M.protoTemplatePopupClick=(H,m)=>{var E;H&&(0,s.ZI)("proto_template_popup_click",{uid:H,source:m,workspace_type:(E=MB.getRootProject())!=null&&E.is_org_project?"org":"solo"})}})(D||(D={}));const X=M=>{let{source:R,type:de,status:O}=M;console.log("\u{1F7E6}[blue]->source, type, status: ",R,de,O),(0,s.ZI)("proto_html2proto",{source:R,type:de,status:O})}},71272:(Ce,ce,n)=>{"use strict";n.d(ce,{w:()=>s});const s=400,p=800},72274:(Ce,ce,n)=>{"use strict";n.d(ce,{HY:()=>I,Tw:()=>y,Yl:()=>O,Zz:()=>f,y$:()=>de});var s=n(76241);function p(h){return"Minified Redux error #"+h+"; visit https://redux.js.org/Errors?code="+h+" for the full message or use the non-minified dev environment for full errors. "}var N=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),u=function(){return Math.random().toString(36).substring(7).split("").join(".")},B={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function ee(h){if(typeof h!="object"||h===null)return!1;for(var b=h;Object.getPrototypeOf(b)!==null;)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(h)===b}function V(h){if(h===void 0)return"undefined";if(h===null)return"null";var b=typeof h;switch(b){case"boolean":case"string":case"number":case"symbol":case"function":return b}if(Array.isArray(h))return"array";if(M(h))return"date";if(X(h))return"error";var S=D(h);switch(S){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return S}return b.slice(8,-1).toLowerCase().replace(/\s/g,"")}function D(h){return typeof h.constructor=="function"?h.constructor.name:null}function X(h){return h instanceof Error||typeof h.message=="string"&&h.constructor&&typeof h.constructor.stackTraceLimit=="number"}function M(h){return h instanceof Date?!0:typeof h.toDateString=="function"&&typeof h.getDate=="function"&&typeof h.setDate=="function"}function R(h){var b=typeof h;return b}function de(h,b,S){var T;if(typeof b=="function"&&typeof S=="function"||typeof S=="function"&&typeof arguments[3]=="function")throw new Error(p(0));if(typeof b=="function"&&typeof S>"u"&&(S=b,b=void 0),typeof S<"u"){if(typeof S!="function")throw new Error(p(1));return S(de)(h,b)}if(typeof h!="function")throw new Error(p(2));var Y=h,d=b,K=[],P=K,H=!1;function m(){P===K&&(P=K.slice())}function E(){if(H)throw new Error(p(3));return d}function q(fe){if(typeof fe!="function")throw new Error(p(4));if(H)throw new Error(p(5));var Oe=!0;return m(),P.push(fe),function(){if(Oe){if(H)throw new Error(p(6));Oe=!1,m();var ke=P.indexOf(fe);P.splice(ke,1),K=null}}}function te(fe){if(!ee(fe))throw new Error(p(7));if(typeof fe.type>"u")throw new Error(p(8));if(H)throw new Error(p(9));try{H=!0,d=Y(d,fe)}finally{H=!1}for(var Oe=K=P,Ye=0;Ye<Oe.length;Ye++){var ke=Oe[Ye];ke()}return fe}function ne(fe){if(typeof fe!="function")throw new Error(p(10));Y=fe,te({type:B.REPLACE})}function se(){var fe,Oe=q;return fe={subscribe:function(ke){if(typeof ke!="object"||ke===null)throw new Error(p(11));function Re(){ke.next&&ke.next(E())}Re();var mt=Oe(Re);return{unsubscribe:mt}}},fe[N]=function(){return this},fe}return te({type:B.INIT}),T={dispatch:te,subscribe:q,getState:E,replaceReducer:ne},T[N]=se,T}var O=n.j!=15?de:null;function ue(h){typeof console<"u"&&typeof console.error=="function"&&console.error(h);try{throw new Error(h)}catch(b){}}function W(h,b,S,T){var Y=Object.keys(b),d=S&&S.type===B.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(Y.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!ee(h))return"The "+d+' has unexpected type of "'+R(h)+'". Expected argument to be an object with the following '+('keys: "'+Y.join('", "')+'"');var K=Object.keys(h).filter(function(P){return!b.hasOwnProperty(P)&&!T[P]});if(K.forEach(function(P){T[P]=!0}),!(S&&S.type===B.REPLACE)&&K.length>0)return"Unexpected "+(K.length>1?"keys":"key")+" "+('"'+K.join('", "')+'" found in '+d+". ")+"Expected to find one of the known reducer keys instead: "+('"'+Y.join('", "')+'". Unexpected keys will be ignored.')}function G(h){Object.keys(h).forEach(function(b){var S=h[b],T=S(void 0,{type:B.INIT});if(typeof T>"u")throw new Error(p(12));if(typeof S(void 0,{type:B.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(p(13))})}function I(h){for(var b=Object.keys(h),S={},T=0;T<b.length;T++){var Y=b[T];typeof h[Y]=="function"&&(S[Y]=h[Y])}var d=Object.keys(S),K,P;try{G(S)}catch(H){P=H}return function(m,E){if(m===void 0&&(m={}),P)throw P;if(0)var q;for(var te=!1,ne={},se=0;se<d.length;se++){var fe=d[se],Oe=S[fe],Ye=m[fe],ke=Oe(Ye,E);if(typeof ke>"u"){var Re=E&&E.type;throw new Error(p(14))}ne[fe]=ke,te=te||ke!==Ye}return te=te||d.length!==Object.keys(m).length,te?ne:m}}function v(h,b){return function(){return b(h.apply(this,arguments))}}function C(h,b){if(typeof h=="function")return v(h,b);if(typeof h!="object"||h===null)throw new Error(p(16));var S={};for(var T in h){var Y=h[T];typeof Y=="function"&&(S[T]=v(Y,b))}return S}function f(){for(var h=arguments.length,b=new Array(h),S=0;S<h;S++)b[S]=arguments[S];return b.length===0?function(T){return T}:b.length===1?b[0]:b.reduce(function(T,Y){return function(){return T(Y.apply(void 0,arguments))}})}function y(){for(var h=arguments.length,b=new Array(h),S=0;S<h;S++)b[S]=arguments[S];return function(T){return function(){var Y=T.apply(void 0,arguments),d=function(){throw new Error(p(15))},K={getState:Y.getState,dispatch:function(){return d.apply(void 0,arguments)}},P=b.map(function(H){return H(K)});return d=f.apply(void 0,P)(Y.dispatch),(0,s.A)((0,s.A)({},Y),{},{dispatch:d})}}}},73597:(Ce,ce,n)=>{var s=n(59316),p=n(84934),N=n(19631),u="['\u2019]",B=RegExp(u,"g");function ee(V){return function(D){return s(N(p(D).replace(B,"")),V,"")}}Ce.exports=ee},74755:(Ce,ce,n)=>{"use strict";n.d(ce,{n:()=>Rr});var s=n(38502),p=n(72274),N=n(63172),u=n(25942),B=n(1076),ee=n(87229);const V={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only",is_first_canvas_open:!1},D=null,X="123",M={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},R={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},de={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var O=n(54844),ue=n(54190),W=n(53008),G=n(5209),I=n(76844);let v=function(e){return e.acces="access",e.viewAccess="viewAccess",e.copy="copy",e.qrCode="qrCode",e.embed="Embed",e.setting="Setting",e.pwdProtection="PwdProtection",e.password="password",e.sticky="sticky",e.comment="comment",e.mobile="mobile",e}({});var C=function(e){return e.Edit="\u53EF\u7F16\u8F91",e.onlyView="\u4EC5\u67E5\u770B",e}(C||{}),f=function(e){return e.NoLogin="\u672A\u767B\u5F55\u7528\u6237",e.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",e.ProjectMember="\u534F\u4F5C\u6210\u5458",e.TeamMember="\u56E2\u961F\u6210\u5458",e}(f||{}),y=function(e){return e.EditMode="\u7F16\u8F91\u6A21\u5F0F",e.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",e.DeviceMode="\u771F\u673A\u6A21\u5F0F",e.InspectMode="\u6807\u6CE8\u6A21\u5F0F",e}(y||{});const h=e=>{let{userId:i,orgPermissions:l,spacePermissions:c,projectPermissions:w}=e;if(!i)return f.NoLogin;const _=(0,I.ox)(i,l),x=(0,I.ox)(i,c),k=(0,I.ox)(i,w);if(!_)return f.LoginButNotOrgMember;if(x||k)return f.ProjectMember;if(_)return f.TeamMember},b=e=>{let{userCanEdit:i,userId:l,orgPermissions:c,spacePermissions:w,projectPermissions:_,isEditMode:x,view_mode:k,isIframe:j}=e;const z=i?C.Edit:C.onlyView,Z=h({userId:l,orgPermissions:c,spacePermissions:w,projectPermissions:_}),Q=j?"\u5DE5\u4F5C\u53F0":x?y.EditMode:k==="read_only"?y.ReadOnlyMode:k==="device"?y.DeviceMode:k==="inspect"?y.InspectMode:"";return{user_rights:z,user_type:Z,operation_from:Q}},S=e=>{let{optionType:i,userCanEdit:l,userId:c,orgPermissions:w,spacePermissions:_,projectPermissions:x,isEditMode:k,view_mode:j,share_type:z,isIframe:Z,project_name:Q,project_cid:A}=e;const{user_rights:ae,user_type:oe,operation_from:L}=b({userCanEdit:l,userId:c,orgPermissions:w,spacePermissions:_,projectPermissions:x,isEditMode:k,view_mode:j,isIframe:Z});(0,G.kH)("share_function_click_V8",{operation_type:i,user_rights:ae,user_type:oe,operation_from:L,project_name:Q,project_cid:A,share_type:z})},T=e=>{(0,G.kH)("advanced_sharing_click",e)},d=(()=>{const e={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:V,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,projShareToEdit:"",members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0,isOnlyMemberManager:!1,hostCurrentScreen:void 0},i=function(_,x){_===void 0&&(_=e);let{type:k="sharing:state:update",payload:j=e}=x;switch(k){case"sharing:state:update":return{..._,...j};case"sharing:state:clear":return{...e};default:return _}},l={"sharing:init":(_,x)=>{let{dispatch:k}=_,{payload:j}=x;k({type:"sharing:state:update",payload:j})},"sharing:currentSharing:update":(_,x)=>{let{getState:k,dispatch:j}=_,{payload:{updatedKV:z}}=x;const Z=k(),A={...c.getCurrentSharing(Z),...z};j({type:"sharing:state:update",payload:{currentSharing:A}})},"sharing:remote:sharing:update":async(_,x)=>{let{getState:k,dispatch:j}=_,{payload:{sharingData:z,updatedKV:Z}}=x;const Q=k(),A=c.getOrg(Q),ae=c.getProject(Q);let oe;if(z.type==="default"){var L,ie;oe=async()=>(0,ue.Yu)(ae.cid,{...Z}),await(0,W.eH)({updateType:"update",updateFn:oe,org:A});const le={...ae,...Z};j({type:"sharing:state:update",payload:{project:le}}),(L=MB)!=null&&L.action&&((ie=MB)==null||ie.action("current:update:state",{currentProject:le}))}else{const le=c.getAdvancedSharingList(Q),ge={...z,...Z};oe=async()=>(0,O.yq)({sharing:ge});const{expired_at:he}=await(0,W.eH)({updateType:"update",updateFn:oe,org:A,updatedKV:Z});j({type:w["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:he}}});const ye=le.map(U=>U.cid===ge.cid?{...ge,expired_at:he}:U);j({type:w["sharing:advancedSharingList:update"],payload:{sharingList:ye}})}},"sharing:remote:sharing:delete":async(_,x)=>{let{getState:k,dispatch:j}=_,{payload:{sharingCid:z}}=x;const Z=k(),Q=c.getProject(Z),A=c.getAdvancedSharingList(Z);await(0,O.g)({projectCid:Q.cid,sharingCid:z});const ae=A.filter(oe=>oe.cid!==z);j({type:w["sharing:advancedSharingList:update"],payload:{sharingList:ae}})},"sharing:settingPage:advanced:confirm":async(_,x)=>{let{getState:k,dispatch:j}=_,{payload:{updatedKV:z,isCustom:Z}}=x;const Q=k(),A=c.getSettingPageType(Q),ae=c.getCurrentSharing(Q),oe=c.getOrg(Q),L=c.getProject(Q);if(A==="create"){const ie=async()=>(0,O.Or)({projectCid:L.cid,sharing:ae});await(0,W.eH)({updateType:"create",updateFn:ie,org:oe}),j({type:w["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const ie=async()=>(0,O.yq)({sharing:ae}),{expired_at:le}=await(0,W.eH)({updateType:"update",updateFn:ie,org:oe,updatedKV:z,isCustom:Z});j({type:w["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:le}}})}j({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async _=>{var x,k;let{getState:j,dispatch:z}=_;const Z=j(),Q=c.getCurrentSharing(Z),A=c.getProject(Z),ae=c.getOrg(Z),oe=async()=>(0,ue.Yu)(A.cid,Object.assign({},Q,{building:Q.view_sticky}));await(0,W.eH)({updateType:"update",updateFn:oe,org:ae});const L=Object.assign({},A,Q,{building:Q.view_sticky});z({type:"sharing:state:update",payload:{project:L}}),(x=MB)!=null&&x.action&&((k=MB)==null||k.action("current:update:state",{currentProject:L}))},"sharing:go-settingPage":(_,x)=>{let{dispatch:k}=_,{payload:{currentSharing:j,settingPageType:z,subSettingPageType:Z=e.subSettingPageType}}=x;k({type:"sharing:state:update",payload:{currentSharing:j,settingPageType:z,topPageIndex:"setting",subSettingPageType:Z}})},"sharing:topPageIndex:jump":(_,x)=>{let{dispatch:k}=_,{payload:{topPageIndex:j=e.topPageIndex}}=x;k({type:"sharing:state:update",payload:{topPageIndex:j}})},"sharing:advancedSharingList:update":(_,x)=>{let{dispatch:k}=_,{payload:{sharingList:j}}=x;k({type:"sharing:state:update",payload:{advancedSharingList:j}})},"sharing:projectAccess:init":async _=>{let{dispatch:x,getState:k}=_;const j=k(),z=c.getMembers(j),Z=c.getProject(j),Q=Z==null?void 0:Z.cid,A=Z==null?void 0:Z.is_org_project;if(!Q||!A){setTimeout(()=>{x({type:d.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:ae,statusOk:oe}=await(0,O.aX)(Q);if(x({type:d.entryKey["sharing:init"],payload:{loading:!1}}),!!oe&&ae){var L,ie;const{project:le,org:ge}=ae;await x({type:"entry:projectAccess:initProjectData",payload:{initData:ae,members:z}}),x({type:d.entryKey["sharing:init"],payload:{project:le,org:ge,initData:ae}}),(L=MB)!=null&&L.action&&((ie=MB)==null||ie.action("current:update:state",{currentProject:le}))}},"sharing:function:track":(_,x)=>{let{getState:k}=_,{payload:{operation:j,viewMode:z,isDefault:Z}}=x;const Q=k(),A=c.getProject(Q)||{},ae=c.getCanEditByUser(Q),oe=c.getOrg(Q)||{},L=c.getUser(Q),ie=c.getInitData(Q)||{},le=(ie==null?void 0:ie.space)||{},ge=c.getIsEditMode(Q),he=c.getHostType(Q),{cid:ye,name:U}=A,xe={userCanEdit:ae,userId:L==null?void 0:L.id,orgPermissions:oe==null?void 0:oe.permissions,spacePermissions:le==null?void 0:le.permissions,projectPermissions:A==null?void 0:A.permissions,isEditMode:ge,view_mode:z,optionType:j,share_type:Z?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:he==="iframe",project_name:U,project_cid:ye};S(xe)},"sharing:advance:click:track":(_,x)=>{let{getState:k}=_,{}=x;const j=k(),z=c.getSettingPageType(j),Z=c.getCurrentSharing(j),Q=c.getProject(j),A=c.getAdvancedSharingList(j)||[],ae=c.getScreenMetaList(j),oe=c.getHostType(j),L=(0,W.RF)(ae.pageAttrMap),ie=(0,W.Mj)(!Z.screen_visible_switch,Z.screen_visible_list,L);let le="\u5168\u90E8";Z.screen_visible_switch&&(le=""+ie);const ge=A.length;T({link_name:Z.link_name,links_number:z==="create"?ge+1:ge,share_type:Z.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:le,operation_type:z==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:oe==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:Q.name,project_cid:Q.cid})}},c=ee.B.genQuery(e,{getStateFn:_=>_.sharing}),w=ee.B.genEntryKey(l);return{__initialState:e,__reducer:i,__entry:l,entryKey:w,query:c}})(),K=(0,p.HY)({sharing:d.__reducer,projectAccess:B.Ay}),P={...d.__entry,...N.s},H=()=>{const e=(0,u.RZ)(),i=(0,p.y$)(K,(0,p.Tw)(e.middleware));return e.setEntryMap(P),i};var m=n(18381),E=n(67787),q=n(82738),te=n(60690),ne=n(53732),se=n.n(ne),fe=n(83414);const Oe=E.Ay.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1k4rs1h-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#454647;top:36px;right:0;width:300px;padding:12px 16px;border-radius:6px;.learn-text{margin-left:8px;color:#80BCFF;&:hover{color:#A6D2FF;}}&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #454647;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],fe.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_background_AI_head_tag,e=>e.theme.color_background_AI_head_tag_hover,e=>e.theme.color_AI_switch_gradient_start,e=>e.theme.color_AI_switch_gradient_end,e=>e.theme.color_text_btn,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover),Ye=E.Ay.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-1d78taz-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],e=>e.theme.color_btn_secondary_active,e=>e.theme.color_share_member__border_color,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_member__border_color);var ke=n(12603),Re=n(17307);const mt="__mb_delete_permission",De=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],J=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],$=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],me=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],Me={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},Ee={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},Ge=Object.fromEntries([...De,...J,...$,...me].map(e=>[e.value,e.label]));var Se=n(19481),Ne=n(29152),Xe=n(50159);const nt=e=>{const i=(0,m.d4)(Ne.XW),l=i.get(e);return(0,Xe.u)(l,i)},yt=(e,i)=>{const l=(0,m.d4)(Ne.XW),c=(0,m.d4)(Ne._B),w=(0,m.d4)(Ne.kG),_=(0,m.d4)(Ne.iF),x=(0,m.d4)(Ne.yZ);let k=null,j=null;const z=e;let Z=[],Q=[],A=[];k=c.get(i),Q=k.permissions,A=(0,I.Cj)(k.team_cid,l,_),j=ke.W.Org,Z=w,A=Object.values(Object.fromEntries(A.map(le=>[le.user_id,le])));const ae=Object.values(Object.fromEntries([...A,...Q].map(le=>[le.user_id,le]))),oe=(0,s.useMemo)(()=>{const le=(0,I.Rc)(Z);return Z.reduce((ge,he)=>{const{user_id:ye}=he,U=(0,I.CF)({userId:ye,permissionsMap:le,permissionScope:j});return ge.set(Number(ye),U)},new Map)},[Z]),L=(0,s.useMemo)(()=>{const le=(0,I.Rc)(ae);return Z.reduce((ge,he)=>{const{user_id:ye}=he,U=(0,I.CF)({userId:ye,permissionsMap:le,permissionScope:z});return ge.set(Number(ye),U)},new Map)},[ae,Z]),ie=(0,s.useMemo)(()=>{const le=(0,I.Rc)(A);return A.reduce((ge,he)=>{const{user_id:ye}=he,U=(0,I.CF)({userId:ye,permissionsMap:le,permissionScope:z});return ge.set(Number(ye),U)},new Map)},[A]);return{userCurrentSpacePermission:x,membersTopScopePermissonMap:oe,membersCurrentScopePermissonMap:L,membersInheritedCurrentScopePermissonMap:ie,topScopePermissionMembers:Z,currentScopePermissionMembers:Q,inheritedPermissionMembers:A,combinedCurrentPermissionMembers:ae}},xt=(e,i,l)=>{const c=(0,m.wA)();return(0,s.useCallback)(async(_,x)=>{const{name:k,email:j,mobile:z,permissionMap:Z}=_,{memberCurrentScopePermisson:Q,currentScopeRoleName:A}=Z;if(!Q)return;const ae=k||j||z;let oe=!1;x===mt&&(oe=!0),Q.isUnknown?await c({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:i,userCid:_.user_cid,roleName:x,userName:ae}}):oe?await c({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:i,userId:_.user_id,roleName:A,userName:ae}}):await c({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:i,userId:_.user_id,roleName:x,userName:ae}})},[i,c])},bt=(e,i)=>{const l=(0,m.d4)(Ne.WR),c=(0,m.d4)(Ne.q7),w=(0,m.d4)(Ne.oV),_=(0,m.d4)(Ne.hG),{userCurrentSpacePermission:x,membersTopScopePermissonMap:k,membersCurrentScopePermissonMap:j,membersInheritedCurrentScopePermissonMap:z,topScopePermissionMembers:Z,inheritedPermissionMembers:Q,currentScopePermissionMembers:A,combinedCurrentPermissionMembers:ae}=yt(e,i),oe=j.get(Number(l))||I.CZ,L=!!_.get(Number(l)),ie=(0,s.useMemo)(()=>{const be=new Map;return Z.forEach(Pe=>{let{user_id:Le,role:Ze}=Pe;const Ue=k.get(Number(Le))||I.CZ,$e=w.get(Number(Le))||I.CZ,st=j.get(Number(Le))||I.CZ,it=z.get(Number(Le))||I.CZ,at=!!_.get(Number(Le)),St=c.get(Number(Le));if(!St)return;const jt=St.permission,Pt=st.isUnknown?Ze:st.roleName;be.set(Number(Le),{...St,permissionMap:{currentScopeRoleName:Pt,userCurrentSpacePermission:x,userCurrentScopePermisson:oe,memberTopScopePermisson:Ue,memberCurrentScopePermisson:st,memberInheritedPermisson:it,memberOrgPermisson:jt,isSelf:Number(Le)===Number(l),userIsSpaceLimiter:L,memberIsSpaceLimiter:at,memberIsSpaceManager:$e.isManager}})}),be},[Z,k,j,z,_]),le=(0,s.useMemo)(()=>A.sort((be,Pe)=>Se.Z8[Pe.role]-Se.Z8[be.role]).map(be=>ie.get(Number(be.user_id))).filter(be=>be),[A,ie]),ge=(0,s.useMemo)(()=>Q.sort((be,Pe)=>Se.Z8[Pe.role]-Se.Z8[be.role]).map(be=>{const{user_id:Pe,role:Le}=be,Ze=z.get(Number(Pe))||I.CZ,Ue=ie.get(Number(be.user_id));return Ue?{...Ue,permissionMap:{...Ue.permissionMap,currentScopeRoleName:Le,memberCurrentScopePermisson:Ze}}:null}).filter(be=>be),[Q,ie,z]),he=(0,s.useMemo)(()=>ae.sort((be,Pe)=>Se.Z8[Pe.role]-Se.Z8[be.role]).map(be=>ie.get(Number(be.user_id))).filter(be=>be),[ae,ie]),ye=(0,s.useMemo)(()=>{const be=he.map(Le=>Number(Le.user_id)),Pe=[];for(const[Le,Ze]of ie.entries())be.includes(Number(Le))||Ze&&Pe.push(Ze);return Pe},[ie,he]),U=(0,s.useMemo)(()=>{const be=ge.filter(Le=>{var Ze;return(Ze=Le.permissionMap)==null||(Ze=Ze.memberCurrentScopePermisson)==null?void 0:Ze.isManager});return Object.values(Object.fromEntries([...be,...le].map(Le=>[Le.user_id,Le])))},[ge,le]),xe=(0,s.useMemo)(()=>{const be=U.map(Le=>Number(Le.user_id)),Pe=[];for(const[Le,Ze]of ie.entries())be.includes(Number(Le))||Ze&&Pe.push(Ze);return Pe},[ie,U]);return{isOnlyOneManager:(0,s.useMemo)(()=>he.filter(be=>{var Pe;return(Pe=be.permissionMap)==null||(Pe=Pe.memberCurrentScopePermisson)==null?void 0:Pe.isManager}).length===1,[he]),userCurrentScopePermisson:oe,userCurrentSpacePermission:x,currentMembers:le,inheritedMembers:ge,joinedMembers:he,unjoinedMembers:ye,assignedMembers:U,unassignedMembers:xe,currentOrgMembersMap:c}};var wt=n(83199),r=n(72214);const pe=()=>{var e;const i=(0,m.d4)(d.query.getUser),l=(0,m.d4)(d.query.getProject),c=(0,m.d4)(d.query.getInitData),w=nt(l==null?void 0:l.team_cid),_=l==null?void 0:l.cid,x=(0,m.wA)(),k=(0,s.useCallback)(L=>{L.stopPropagation(),x({type:d.entryKey["sharing:init"],payload:{mainPage:"access"}}),x({type:d.entryKey["sharing:function:track"],payload:{operation:"\u56E2\u961F\u534F\u4F5C"}})},[x]),{currentMembers:j,inheritedMembers:z,joinedMembers:Z}=bt(ke.W.Project,_);let Q=j;w>=1?z.forEach(L=>{Q.find(le=>le.id===L.id)||Q.push(L)}):Q=Z;const ae=(e=Q)==null?void 0:e.filter(L=>Number(L.user_id)!==Number(i==null?void 0:i.id));ae&&(Q=ae.slice(0,2));const oe=(0,s.useCallback)(L=>{var ie;const{avatar:le,name:ge,id:he}=L;return le&&!le.includes("/images/avatar.png")?(0,r.jsx)("img",{className:"avatar",src:L.avatar,alt:L.name},he):(0,r.jsx)("div",{className:"avatar avater-name",children:ge==null||(ie=ge.slice(0,1))==null?void 0:ie.toUpperCase()},he)},[]);return!c||JSON.stringify(c)==="{}"?null:(0,r.jsx)(wt.A,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,r.jsxs)(Ye,{onClick:k,children:[oe(i),Q.length>0&&Q.map(L=>oe(L)),(0,r.jsx)("div",{className:"remaining",children:(0,r.jsx)(Re.C,{name:"sharing/add_member",isColorPure:!0})}),(0,r.jsx)(Re.C,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},ve=(0,s.memo)(pe),je=E.Ay.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1garbfp-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],e=>e.theme.color_share_switch_sel_color,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),Ve=e=>{let{tabs:i,handleChangeTabIndex:l,tabIndex:c,className:w}=e;return(0,r.jsx)(je,{className:w,children:i.map((_,x)=>(0,r.jsx)("div",{className:se()("tab-item",c===x&&"tab-sel"),id:"tab-item-"+x,onClick:()=>l(x),children:_},x))})},et=(0,s.memo)(Ve);var dt=n(37342),Nt=n(84957);const Ht=()=>{let e=null;const i=(0,m.wA)(),l=(0,m.d4)(d.query.getProject),c=(0,m.d4)(d.query.getCanEditByUser),w=(0,m.d4)(d.query.getHostType),_=(0,m.d4)(d.query.getIsEditMode),x=(0,m.d4)(d.query.getInitData),k=(0,m.d4)(d.query.getTabIndex),j=(0,m.d4)(d.query.getUser),[z,Z]=(0,s.useState)(!1),Q=(l==null?void 0:l.is_org_project)||!1,A=w==="iframe"||_,oe=new URLSearchParams(location.search).get("view_mode")||"read_only",L=A&&Q&&x&&JSON.stringify(x)!=="{}",ie=c&&!Q,le=(0,s.useCallback)(()=>{const U=w==="iframe",xe=(U?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",we=(U?"dashboard":"workspace")+"-v8_solo_share_upgrade",be={payEntrance:xe,checkoutPlace:we,checkoutArea:U?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(U){if(!j||!j.solo_org)return;const Pe="/workspace/"+j.solo_org.cid+"/admin/order?payment_param="+(0,Nt._)(be);(0,dt.JW)(Pe,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(be)},[]),ge=()=>{e=setTimeout(()=>{Z(!0)},1e3)},he=()=>{e&&clearTimeout(e),Z(!1)},ye=(0,s.useCallback)(U=>{i({type:d.entryKey["sharing:init"],payload:{tabIndex:U}})},[i]);return(0,r.jsx)(Oe,{className:se()(ie&&"tool-upgrade"),children:A?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et,{tabIndex:k,tabs:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:ye}),ie&&(0,r.jsxs)("div",{className:"upgrade-team-business",onClick:le,onMouseEnter:ge,onMouseLeave:he,children:[(0,r.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),z&&(0,r.jsxs)("div",{className:"content",onClick:U=>U.stopPropagation(),children:[(0,r.jsx)("div",{className:"top-bar"}),(0,r.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,r.jsx)("a",{className:"learn-text",href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),L&&(0,r.jsx)(ve,{})]}):(0,r.jsx)("div",{className:"sharing-title",children:oe==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},$t=(0,s.memo)(Ht),Xt=E.Ay.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-1h5adoi-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],fe.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_btn_secondary_active),Wn=E.Ay.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-1h5adoi-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],fe.gE);var hn=n(25234),Tn=n(21066),mn=n(51090);const An=E.Ay.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-11k1y99-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],e=>e.theme.color_bg_canvas),fn=E.Ay.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-11k1y99-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],e=>e.theme.color_share_access__button_disable,e=>e.theme.color_share_copy__button_disable_bg,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_copy__button_disable,e=>e.isViewActiveDropdown?e.theme.color_btn_secondary_hover:e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.isViewActiveDropdown?"rotate(-180deg)":"",e=>e.theme.color_text_L1),Ln=(0,E.Ay)(Tn.Ay).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-11k1y99-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}",";&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"],mn.ZJ),sn=E.Ay.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-11k1y99-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";&.is-disabled{cursor:not-allowed;pointer-events:none;color:",";background-color:",";}.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],e=>e.theme.color_btn_primary_normal,e=>e.theme.color_btn_primary_hover,e=>e.theme.color_btn_primary_clicked,e=>e.theme.color_text_btn,e=>e.theme.color_text_disabled02,e=>e.theme.color_btn_primary_disabled),gn=E.Ay.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-1tpfzbt-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-form{width:176px;input{width:176px;}}.link-name{width:176px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;justify-content:center;align-items:center;border-radius:4px;padding-left:4px;&:hover{background-color:",";}}.foot-right{display:flex;align-items:center;}.view-mode-icon{width:16px;height:16px;margin-right:6px;[stroke]{stroke:currentColor;fill:none;}}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_btn_secondary_active);function Xs(e){const{fBlur:i,name:l}=e,[c,w]=(0,s.useState)(!1),[_,x]=(0,s.useState)(l),k=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(c){var A;(A=k.current)==null||A.focus()}},[c]);const j=()=>{i(),w(!1)};return{inputRef:k,isRenaming:c,setIsRenaming:w,inputName:_,setInputName:x,handleFocus:()=>{var A;(A=k.current)==null||A.select()},handleBlur:j,handleKeyDown:A=>{A.key==="Enter"&&j()},handleInput:A=>{let ae=A.target.value;ae.length>200&&(ae=ae.substring(0,200)),x(ae)}}}const zt={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},qs=E.Ay.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1juwfby-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);function Sn(e){const{className:i,size:l=20,name:c,onClick:w,onMouseEnter:_,onMouseLeave:x,children:k,tempDisabled:j,direction:z,toolTipName:Z,type:Q,isColorPure:A,isBorder:ae}=e,oe=L=>{j||w(L,Q)};return(0,r.jsx)(wt.A,{content:Z,direction:z||"up",distance:5,enterHoverTime:500,children:(0,r.jsxs)(qs,{className:se()(i,j&&"tempDisabled",ae&&"isBorder"),onClick:oe,onMouseEnter:_,onMouseLeave:x,children:[(0,r.jsx)(Re.C,{size:l,name:c,isColorPure:A}),k]})})}const Cs=e=>{let{sharingData:i,handleItemAction:l}=e;const{link_name:c}=i,w=(0,m.wA)(),_=i.device_model,[x,k]=(0,s.useState)(c),j=(0,m.d4)(d.query.getCanEditByUser),z=(0,m.d4)(d.query.getIsEditMode),Z=(0,m.d4)(d.query.getHostType),Q=(0,m.d4)(d.query.getScreenMetaList),A=(0,m.d4)(d.query.getAdvancedSharingList),ae=Z==="iframe"||z,oe=ae&&j,L=ae&&j,ie=()=>{const $e=we.current.value;if($e==="")Pe(x),w({type:d.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,W.it)({value:$e,currentSharing:i,sharingList:A}))Pe(x),w({type:d.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{k($e);const st={link_name:$e};w({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:i,updatedKV:st}})}},le=(0,s.useMemo)(()=>i.type==="advanced"?(0,W.Sy)(Q,i):null,[i,Q]),{isRenaming:ge,setIsRenaming:he,handleKeyDown:ye,handleBlur:U,handleFocus:xe,inputRef:we,handleInput:be,setInputName:Pe,inputName:Le}=Xs({name:x||"",fBlur:ie}),Ze=(0,s.useCallback)(()=>{he(!0)},[he]),Ue=(0,s.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:zt.embed,tempDisabled:!1},ENV.IS_ON_PREMISES?null:{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:zt.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:zt.setting,tempDisabled:!L}].filter(Boolean),[L]);return(0,r.jsxs)(gn,{className:se()(!oe&&"canNotEdit"),children:[(0,r.jsxs)("div",{className:"head-left",children:[(0,r.jsx)(Re.C,{className:"view-mode-icon",name:_==="device"?"sharing/mode_device":"sharing/mode_canvas"}),ge?(0,r.jsx)("form",{className:"link-form",children:(0,r.jsx)("input",{value:Le,onFocus:xe,onChange:be,ref:we,onBlur:U,onKeyPress:ye})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:se()("link-name",!L&&"link-name-not-edit"),onClick:Ze,children:x})})]}),(0,r.jsx)(wt.A,{content:I18N.imockSharing.tab_screen,direction:"up",distance:5,enterHoverTime:500,children:(0,r.jsxs)("div",{className:"head-right",children:[(0,r.jsx)("div",{children:le}),(0,r.jsx)(Sn,{className:"share-icon",name:"sharing/page_visible",tempDisabled:!L,size:20,onClick:$e=>l($e,zt.showPage)})]})}),(0,r.jsx)("div",{className:"foot-right",children:Ue.map(($e,st)=>$e&&(0,r.jsx)(Sn,{className:se()("share-icon",$e.className),name:$e.name,type:$e.className,toolTipName:$e.toolTipName,onClick:l,tempDisabled:$e.tempDisabled,isColorPure:$e.isColorPure,size:20},st))})]})},eo=(0,s.memo)(Cs),to=E.Ay.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-1b50v3w-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.visit_count{color:",";.svg-icon{path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}.expiration-time{display:flex;align-items:center;color:",";.expire-text{margin:0 4px;cursor:pointer;.expired-desc{color:",";}.expired-no{color:",";}}.expire-icon{width:24px;height:24px;}&.is-expired{color:",";}svg{color:",";cursor:pointer;}.self-transform{svg{transition:all 0.4s;transform:rotate(360deg);}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),Hn=(0,E.DU)([".visit-tips{padding:6px;.tip-updated{display:flex;cursor:pointer;align-items:center;font-size:12px;p{margin:0;display:flex;align-items:center;}.icon-updated{display:inline-flex;align-items:center;margin-left:10px;line-height:14px;color:rgba(112,188,246,1);&:hover{color:rgba(149,209,248,1);}.svg-icon{margin-right:2px;path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}}}"]);var Vn=n(79287),os=n.n(Vn);function On(e,i,l){const c=(0,s.useMemo)(()=>{const x=os()(),k=os()(e.expired_at).subtract(2,"s");return k.isBefore(x)?0:k.diff(x,"days")+1},[e]),w=c<=0;let _;return i?_="\u5206\u4EAB\u8D85\u9650\uFF0C\u5347\u7EA7\u89E3\u9501":c>0&&c<=9999?_=c+" \u5929\u540E\u5931\u6548":c>9999?_=l===1?"\u6C38\u4E45\uFF08\u9650\u65F6\u514D\u8D39\uFF09":"\u6C38\u4E45\u6709\u6548":_="\u91CD\u65B0\u751F\u6548",{isExpired:w,remainTimeText:_}}var cn=n(74533),Pn=n(53559);const no=e=>{let{sharingData:i,handleUpdateSharing:l}=e;const c=(0,m.wA)(),[w,_]=(0,s.useState)(null),[x,k]=(0,s.useState)(!1),{remainTimeText:j,isExpired:z}=On(i,!1,999),Z=i.device_model,Q=i.expire_type==="forever",A=(0,m.d4)(d.query.getUser),ae=(0,m.d4)(d.query.getOrg),oe=(0,m.d4)(d.query.getProject),L=(0,m.d4)(Ne.cb),ie=oe==null?void 0:oe.is_org_project;let le=!1,ge=!1;if(ie){const{plan:we,trial:be}=(0,Pn.rM)(ae);ge=be,le=we===cn.Sj.OrgFull&&!ge}const he=ge||le,ye=L.roleName&&["org_owner","org_admin","org_manager"].includes(L.roleName),U=he?ye?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",xe=(0,s.useCallback)(()=>{l({expire_type:i.expire_type}),k(!0),setTimeout(()=>k(!1),500),c({type:d.entryKey["sharing:function:track"],payload:{operation:"\u91CD\u7F6E\u6709\u6548\u671F",viewMode:Z,isDefault:!1}})},[c,l,i.expire_type,Z]);return(0,s.useEffect)(()=>{(async()=>{if(i.access_token)try{const be=await(0,O.dJ)(i.access_token);_(be.count)}catch(be){console.error("Error fetching visit count:",be)}})()},[i.access_token]),(0,r.jsxs)(to,{children:[(0,r.jsxs)("div",{className:"visit_count",children:[I18N.imockSharing.visit_count," ",w]}),(0,r.jsxs)("div",{className:se()("expiration-time",{"is-expired":z}),children:[(0,r.jsx)("div",{className:"expire-text",children:(0,r.jsx)("span",{className:z?"expired-desc":"expired-no",children:j})}),!Q&&(0,r.jsx)(Sn,{direction:"down",toolTipName:I18N.imockSharing.resetLink,onClick:xe,className:se()("expire-icon",{"self-transform":x}),size:12,name:"sharing/refresh_24"})]}),(0,r.jsx)(Hn,{})]})},so=(0,s.memo)(no);var ut=n(15515);const rs=e=>{const{project:i,sharing:l,user:c}=e,[w,_]=(0,s.useState)(!1),[x,k]=(0,s.useState)(void 0);return{isURLCopied:w,handleCopyURL:()=>{(0,W.kv)({project:i,action:l.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:l.link_name}),_(!0),clearTimeout(x);const z=setTimeout(()=>_(!1),3e3);k(z);const Z=os()().format("YYYY-MM-DD HH:mm:ss"),Q=(0,W.EL)(c)&&!(0,ut.kV)(fe.nM);(0,ut.cH)(fe.nM,Z),Q&&(0,G.Sx)({prototype_activation_time:Z})}}};var Mn=n(43641);function Dn(e){const{password:i}=e;return{isHavePassword:(0,s.useMemo)(()=>i!==null&&i!=="",[i])}}var is=n(70812);const on=e=>{var i;let{sharingData:l,setShowDelConfirmModal:c,fromDefault:w}=e;const _=(0,m.wA)(),x=(0,s.useRef)(null),k=l.view_access,j=l.device_model,z=(0,m.d4)(d.query.getProject),Z=(0,m.d4)(d.query.getCanEditByUser),Q=(0,m.d4)(d.query.getIsEditMode),A=(0,m.d4)(d.query.getHostType),ae=(0,m.d4)(d.query.getUser),oe=(0,m.d4)(d.query.getHostCurrentScreen),L=oe==null?void 0:oe.cid,ie=(z==null?void 0:z.is_org_project)||!1,le=A==="iframe"||Q,ge=le&&Z,[he,ye]=(0,s.useState)({top:0,left:0}),[U,xe]=(0,s.useState)(!1),{isURLCopied:we,handleCopyURL:be}=rs({project:z,sharing:l,user:ae}),{isHavePassword:Pe}=Dn(l),Le=(0,s.useCallback)(()=>{const gt=(0,W.O8)(z,l,L);(0,Mn.$)(gt),be(),_({type:d.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:j,isDefault:!1}}),le&&is.U.protoEditorShareTrack(ae==null?void 0:ae.id,A==="iframe"?"\u5DE5\u4F5C\u53F0\u53F3\u952E\u9AD8\u7EA7\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB")},[_,l,L,be,z,j]),Ze=(0,s.useCallback)(gt=>{const Tt={view_access:gt};_({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:Tt}}),_({type:d.entryKey["sharing:function:track"],payload:{operation:gt==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:j,isDefault:!1}})},[l,_,j]),Ue=(0,s.useCallback)(()=>{c({isOpened:!0,item:l})},[c,l]),$e=(0,s.useCallback)(()=>{_({type:d.entryKey["sharing:go-settingPage"],payload:{currentSharing:l,settingPageType:"edit"}}),_({type:d.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:j,isDefault:!1}})},[_,l,j]),st=(0,s.useCallback)(gt=>{_({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:gt}})},[_,l]),[it,at]=(0,s.useState)(void 0),St=(0,s.useMemo)(()=>{if(it==="viewAccess"){const gt=(0,r.jsx)(Re.C,{name:"toolbar/selected",className:"selected-icon"});if(ie){const Tt=k==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Ze("public"),icon:Tt?gt:(0,r.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Ze("restricted"),icon:Tt?(0,r.jsx)("div",{style:{width:0}}):gt}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:$e},{label:I18N.imockSharing.delete,onclick:Ue}]},[it,Ze,Ue,$e,k,ie]),jt=(0,s.useCallback)(gt=>{if(!ie||!ge)return;at("viewAccess");const Tt=gt.currentTarget.getBoundingClientRect();ye({top:Tt.y+Tt.height+3,left:Tt.x-1}),xe(!U)},[ie,ge,U,at,ye]),Pt=(0,s.useCallback)((gt,Tt)=>{if(gt!=null&&gt.currentTarget)switch(Tt){case zt.QRcode:gt.stopPropagation(),_({type:d.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:l}}),_({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:j,isDefault:!1}});break;case zt.embed:_({type:d.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:l}}),_({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:j,isDefault:!1}});break;case zt.mkt:(0,dt.JW)("/com24/upload?project_cid="+(z==null?void 0:z.cid),"_blank","noreferrer");break;case zt.setting:{at("misc");const Dt=gt.currentTarget.getBoundingClientRect(),an=document.getElementById("v8-share-page").getBoundingClientRect().bottom-Dt.bottom<120?Dt.y-75:Dt.bottom+5;ye({top:an,left:A==="iframe"?Dt.x+20:Dt.x-60}),xe(!U)}break;case zt.showPage:_({type:d.entryKey["sharing:go-settingPage"],payload:{currentSharing:l,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[U,at,ye,xe,_,z,l,j,A]),Bt=(0,s.useCallback)(()=>{var gt;ye({...he,left:((gt=x.current)==null?void 0:gt.getBoundingClientRect().x)-1})},[he]);(0,s.useEffect)(()=>(window.addEventListener("resize",Bt),()=>window.removeEventListener("resize",Bt)));const{isExpired:Yt}=On(l,!1,999);return(0,r.jsxs)(An,{className:se()(w&&"from-default"),children:[(0,r.jsx)(eo,{sharingData:l,handleItemAction:Pt}),(0,r.jsxs)(fn,{className:se()("item-center",!ge&&"userNoEdit","advance-item"),isViewActiveDropdown:U&&it==="viewAccess",children:[(0,r.jsx)("div",{ref:x,className:se()("left","sharingV2-click-visible",{"normal-hover":!0},!ie&&"can-not-edit"),onClick:jt,children:(0,r.jsxs)("div",{className:"view-access-select",children:[(0,r.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,r.jsx)("div",{className:"access-name",children:(i=I18N.imockSharing[fe.nQ[k]])!=null?i:"missing data"}),ie&&(0,r.jsx)(Re.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,r.jsxs)(sn,{type:"button",className:se()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(we),{"is-disabled":Yt}),onClick:Le,children:[(0,r.jsx)("span",{className:"state state-0",children:Yt?I18N.dModule.link_expired_err_title:Pe?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,r.jsx)("span",{className:"state state-1",children:(0,r.jsx)(Re.C,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,r.jsx)(so,{sharingData:l,handleUpdateSharing:st}),U&&(0,r.jsx)(Ln,{className:se()("design-avoid",it,"advance_menu"),position:he,onClose:()=>{xe(!1)},children:St.map((gt,Tt)=>(0,r.jsx)(Tn.Dr,{text:gt.label,onClick:gt.onclick,icon:gt.icon,disabled:gt.disabled,canClick:gt.tempDisabled},Tt))})]})},oo=(0,s.memo)(on),Ss=E.Ay.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1ws30dd-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_share_del_confirm_border_color,fe.gE,e=>e.theme.color_bg_border_02);function Nn(e){let{handleConfirmAction:i}=e;return(0,r.jsx)(Ss,{children:(0,r.jsxs)("div",{className:"confirm-content",children:[(0,r.jsxs)("div",{className:"top",children:[(0,r.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,r.jsx)(Sn,{name:"sharing/close",onClick:()=>i(!1),className:"close"})]}),(0,r.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,r.jsxs)("div",{className:"bottom",children:[(0,r.jsx)(hn.tA,{onClick:()=>i(!1),children:I18N.imockSharing.cancel}),(0,r.jsx)(hn.Qi,{className:"delete",onClick:()=>i(!0),children:I18N.imockSharing.delete})]})]})})}const Kn=s.memo(Nn),Rn=()=>{const e=(0,m.d4)(d.query.getUser),i=(0,m.d4)(d.query.getOrg),{cid:l,name:c,is_org_project:w}=(0,m.d4)(d.query.getProject),_=(0,m.d4)(d.query.getHostType),x=(0,m.d4)(d.query.getAdvancedSharingList),k=(0,m.d4)(d.query.getCanEditByUser),j=(0,m.d4)(d.query.getProjShareToEdit),z=(0,m.d4)(d.query.getTheme),[Z,Q]=(0,s.useState)({isOpened:!1,item:null}),[A,ae]=(0,s.useState)(!1),oe=(0,m.wA)(),L=x.length===0,ie=(0,s.useCallback)(async ge=>{ge&&oe({type:d.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:Z.item.cid}}),Q({isOpened:!1,item:null})},[Z.item,Q,oe]);(0,s.useEffect)(()=>{(async()=>{const ye=(await(0,O.X0)({projectCid:l})).map(U=>({...U,type:"advanced"})).sort((U,xe)=>new Date(xe.created_at).getTime()-new Date(U.created_at).getTime());if(j){const U=ye.find(xe=>xe.access_token===j);U&&(oe({type:d.entryKey["sharing:go-settingPage"],payload:{currentSharing:U,settingPageType:"edit"}}),oe({type:d.entryKey["sharing:init"],payload:{projShareToEdit:""}}))}oe({type:d.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:ye}}),ae(!0)})()},[l,oe]);const le=async()=>{const ge=(0,W.jc)(e,i),he=()=>{(0,G.kH)("create_advanced_sharing_click",{project_name:c,project_cid:l,source:_==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(x.length>=ge&&!ENV.IS_ON_PREMISES){const U=(i==null?void 0:i.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:U}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:U}}),"*"),he();return}const ye=(0,W.zM)(l,x,{view_access:w?"restricted":"public"});oe({type:d.entryKey["sharing:go-settingPage"],payload:{currentSharing:ye,settingPageType:"create"}}),he()};return A?L?(0,r.jsxs)(Wn,{children:[(0,r.jsx)(Re.C,{name:z==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,r.jsx)(hn.jn,{onClick:le,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,r.jsxs)(Xt,{children:[(0,r.jsxs)("div",{className:"create-item "+(k?"":"no-edit"),onClick:le,children:[(0,r.jsx)(Re.C,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),x.map((ge,he)=>(0,r.jsx)(oo,{setShowDelConfirmModal:Q,sharingData:ge},ge.cid+"-"+he)),Z.isOpened&&(0,r.jsx)(Kn,{handleConfirmAction:ie})]}):null},as=(0,s.memo)(Rn),ls=E.Ay.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-zm7bo-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;justify-content:space-between;span{margin-right:10px;}.visit-count{font-weight:400;font-size:12px;color:",";}}.wm-tip{height:25px;margin-top:12px;display:flex;span{height:25px;font-size:12px;font-weight:400;line-height:25px;color:",";}.divider{width:1px;height:13px;margin:6px 10px;background:",";}.btn{display:inline-block;padding:4px 6px;width:60px;height:25px;line-height:17px;font-size:12px;font-weight:500;border-radius:4px;background:",";color:",";&:hover{background:",";}}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;cursor:pointer;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],fe.gE,fe.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_info_bg,e=>e.theme.color_text_link_normal,e=>e.theme.color_grid,fe.gE,e=>e.theme.color_text_L1,e=>e.theme.color_bg_canvas,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);var Ct=n(92114),rn=n(85449),Ms=n(67771),cs=n(21770),ds=n(35428),Zn=n(17573);const Gn=e=>{var i;let{defaultShare:l}=e;const c=(0,m.wA)(),w=(0,s.useRef)(null),_=(0,m.d4)(d.query.getProject),x=l,[k,j]=(0,s.useState)(null);_&&(x.visibility=_.visibility);const z=(0,m.d4)(d.query.getHostType),Z=(0,m.d4)(d.query.getIsEditMode),Q=(0,m.d4)(d.query.getUser),A=z==="iframe"||Z,ae=(0,m.d4)(d.query.getCanEditByUser),oe=(0,m.d4)(d.query.getHostCurrentScreen),L=oe==null?void 0:oe.cid,ie=(0,m.d4)(d.query.getUser),le=(0,m.d4)(d.query.getOrg),ge=(0,m.d4)(Ne.cb),he=(_==null?void 0:_.is_org_project)||!1,ye=!he&&ae,[U,xe]=(0,s.useState)({top:0,left:0}),[we,be]=(0,s.useState)(!1),[Pe,Le]=(0,s.useState)(x==null?void 0:x.visibility);let Ze=!1,Ue=!1;if(he){const{plan:ot,trial:Mt}=(0,Pn.rM)(le);Ue=Mt,Ze=ot===cn.Sj.OrgFull&&!Ue}const $e=Ue||Ze,st=ge.roleName&&["org_owner","org_admin","org_manager"].includes(ge.roleName),it=$e?st?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",at=A&&ae&&Pe==="open",St=A&&ae,{isURLCopied:jt,handleCopyURL:Pt}=rs({project:_,sharing:x,user:Q}),[Bt,Yt]=(0,s.useState)(!1),[gt,Tt]=(0,s.useState)(!0);(0,s.useEffect)(()=>{const ot=(0,rn.fV)();if(ot){const{mdWMMktList:Mt,mtWMMktList:tn,noWMMktList:Js}=ot;(Mt.size||tn.size)&&(0,Zn._5)()&&Tt(!1);const or=[...Mt,...tn,...Js];or.length&&(0,Ms.q)(or).then(rr=>{if(rr.mdWMMktList.length>0||rr.mtWMMktList.length>0){if(!(0,Zn._5)())return;Yt(!0),is.U.watermarkExposureTrack("share")}})}},[]);const Dt=()=>{const{isSoloMdMember:ot}=(0,cs.s)(ie,MB.currentOrg),Mt=!!MB.currentOrg,tn={mode:"mat",templatePaySource:"\u7F16\u8F91\u533A-\u79FB\u9664\u6C34\u5370",templatePayClickType:"\u79FB\u9664\u6C34\u5370",payEntrance:"\u7F16\u8F91\u533A-v8-"+(Mt?"\u56E2\u961F":"\u4E2A\u4EBA")+"-\u4ED8\u8D39\u7D20\u6750\u8BD5\u7528-\u5206\u4EAB\u884C\u4E3A\u63D0\u793A-\u53BB\u6C34\u5370",checkoutPlace:"workspace_v8_"+(Mt?"org":"solo")+"_watermark_share_"+(ot?"template":"vip-template"),checkoutArea:"proto"};MB.global.popupHelper.chargeAsync({...tn}),(0,ds._)({click_button:"\u5206\u4EAB-"+(ot?"\u5347\u7EA7\u7D20\u6750\u4F1A\u5458":"\u5347\u7EA7\u53CC\u4F1A\u5458")})},en=(0,s.useCallback)(ot=>{const Mt={access:ot};c({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:x,updatedKV:Mt}}),c({type:d.entryKey["sharing:function:track"],payload:{operation:ot==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:x.view_mode,isDefault:!0}})},[x,c]),ft=(0,s.useMemo)(()=>{const ot=(0,r.jsx)(Re.C,{name:"toolbar/selected",className:"selected-icon"});if(he){const Mt=(x==null?void 0:x.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>en("public"),icon:Mt?ot:(0,r.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>en("restricted"),icon:Mt?(0,r.jsx)("div",{style:{width:0}}):ot}]}else return[]},[en,he,x]),vt=(0,s.useMemo)(()=>{const ot=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:zt.embed,tempDisabled:Pe==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||ot.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:zt.QRcode,tempDisabled:Pe==="close",isBorder:!0}),ye&&ot.push({name:"sharing/mkt_icon",toolTipName:gt?I18N.imockSharing.publish_to_community:"\u542B\u4ED8\u8D39\u7D20\u6750\uFF0C\u4E0D\u652F\u6301\u4E0A\u4F20",className:zt.mkt,tempDisabled:Pe==="close"||!gt,isColorPure:!0,isBorder:!0}),ot},[Pe,ye,gt]),an=(0,s.useCallback)(()=>{const ot=Pe==="close"?"open":"close",Mt={visibility:ot};Le(ot),c({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:x,updatedKV:Mt}}),c({type:d.entryKey["sharing:function:track"],payload:{operation:ot==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:x.view_mode,isDefault:!0}})},[Pe,c,x,Le]),ns=(0,s.useCallback)(ot=>{if(!he||!at)return;const Mt=ot.currentTarget.getBoundingClientRect();let tn=Mt.y+Mt.height+3;z==="iframe"&&(tn=tn+56),xe({top:tn,left:Mt.x-1}),be(!we)},[he,at,we,xe,z]),ss=(0,s.useCallback)(()=>{const ot=(0,W.O8)(_,x,L);(0,Mn.$)(ot),Pt(),c({type:d.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:x.view_mode,isDefault:!0}}),A&&is.U.protoEditorShareTrack(ie==null?void 0:ie.id,z==="iframe"?"\u5DE5\u4F5C\u53F0\u53F3\u952E\u666E\u901A\u5206\u4EAB":"\u666E\u901A\u5206\u4EAB")},[_,x,L,Pt,c]),Cn=(0,s.useCallback)(()=>{const ot=x,{view_mode:Mt}=x;c({type:d.entryKey["sharing:go-settingPage"],payload:{currentSharing:ot,settingPageType:"edit"}}),c({type:d.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:Mt,isDefault:!0}})},[x,c]),ln=(0,s.useCallback)((ot,Mt)=>{if(!(ot!=null&&ot.currentTarget))return;const tn=x,{view_mode:Js}=x;switch(Mt){case zt.QRcode:ot.stopPropagation(),c({type:d.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:tn}}),c({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:Js,isDefault:!1}});break;case zt.embed:c({type:d.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:tn}}),c({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:Js,isDefault:!1}});break;case zt.mkt:(0,dt.JW)("/com24/upload?project_cid="+(_==null?void 0:_.cid),"_blank","noreferrer");break;default:break}},[c,_,x]),Jt=(0,s.useCallback)(()=>{var ot;xe({...U,left:((ot=w.current)==null?void 0:ot.getBoundingClientRect().x)-1})},[U]);return(0,s.useEffect)(()=>(window.addEventListener("resize",Jt),()=>window.removeEventListener("resize",Jt))),(0,s.useEffect)(()=>{(async()=>{const Mt=x.access_token;if(Mt)try{const tn=await(0,O.dJ)(Mt);j(tn.count)}catch(tn){console.error("Error fetching visit count:",tn)}})()},[x.access_token]),x?(0,r.jsxs)(ls,{className:se()(!St&&"canNotEdit"),children:[(0,r.jsxs)("div",{className:"default-top",children:[A?(0,r.jsxs)("div",{className:"switch-content",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:I18N.imockSharing.public_access}),(0,r.jsx)(Ct.A,{size:"small",readOnly:!0,isIOS:!0,isChecked:Pe==="open",onChange:an})]}),(0,r.jsx)("div",{className:"visit-count",children:k!==null&&k!==0&&(0,r.jsxs)(r.Fragment,{children:[I18N.imockSharing.visit_count," ",k]})})]}):(0,r.jsxs)("div",{className:"switch-content",children:[I18N.imockSharing.default_share,k!==null&&k!==0&&(0,r.jsxs)("div",{className:"visit-count",children:[I18N.imockSharing.visit_count," ",k]})]}),(0,r.jsxs)(fn,{className:se()("item-center","default-link",Pe==="close"&&"notView",!at&&"userNoEdit"),isViewActiveDropdown:we,children:[(0,r.jsx)("div",{ref:w,className:se()("left","sharingV2-click-visible",{"normal-hover":!0},!he&&"can-not-edit"),onClick:ns,children:(0,r.jsxs)("div",{className:"view-access-select",children:[(0,r.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,r.jsx)("div",{className:"access-name",children:(i=I18N.imockSharing[fe.nQ[x.view_access]])!=null?i:"missing data"}),he&&(0,r.jsx)(Re.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,r.jsxs)(sn,{type:"button",className:se()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(jt)),onClick:ss,children:[(0,r.jsx)("span",{className:"state state-0",children:x.password&&x.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,r.jsx)("span",{className:"state state-1",children:(0,r.jsx)(Re.C,{name:"new_replace/check",className:"copy-check"})})]})]}),Bt&&(0,r.jsxs)("div",{className:"wm-tip",children:[(0,r.jsx)("span",{children:I18N.WaterMark.mkt.share.tip}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)("div",{className:"btn",onClick:Dt,children:I18N.WaterMark.mkt.remove_wm})]})]}),(0,r.jsxs)("div",{className:"default-bottom",children:[(0,r.jsxs)("div",{className:"bottom-left",children:[(0,r.jsx)("div",{children:I18N.imockSharing.share_mode}),vt.map((ot,Mt)=>(0,r.jsx)(Sn,{className:se()("share-icon",ot.className),name:ot.name,type:ot.className,toolTipName:ot.toolTipName,onClick:ln,tempDisabled:ot.tempDisabled,isColorPure:ot.isColorPure,isBorder:ot.isBorder,size:24},Mt))]}),A&&(0,r.jsxs)("div",{className:se()("default-setting",!at&&"no-edit"),onClick:Cn,children:[(0,r.jsx)(Re.C,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),we&&(0,r.jsx)(Ln,{className:se()("design-avoid","viewAccess"),position:U,onClose:()=>{be(!1)},children:ft.map((ot,Mt)=>(0,r.jsx)(Tn.Dr,{text:ot.label,onClick:ot.onclick,icon:ot.icon,disabled:ot.disabled,canClick:ot.tempDisabled},Mt))}),(0,r.jsx)(Hn,{})]}):null},ro=(0,s.memo)(Gn),io=E.Ay.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-7p2gxy-0"})(["width:100%;position:relative;height:100%;"]),ao=E.Ay.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-xvloju-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L3);var xn=n(53940);const qt=E.Ay.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-174zu8p-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],fe.gE,e=>e.theme.color_border_state,e=>e.theme.color_text_L1),In=e=>{let{title:i,handleClick:l}=e;return(0,r.jsx)(qt,{children:(0,r.jsxs)("div",{className:"title",onClick:l,children:[(0,r.jsx)(Re.C,{name:"sharing/nav_back"}),i]})})},Ut=()=>{let e="read_only";const i=(0,m.wA)(),l=(0,m.d4)(d.query.getCurrentSelectSharing),c=(0,m.d4)(d.query.getProject),w=(0,m.d4)(d.query.getTheme),_=(0,m.d4)(d.query.getHostCurrentScreen),x=(0,m.d4)(d.query.getHostType),k=_==null?void 0:_.cid,{screen_visible_list:j,access_token:z,is_first_canvas_open:Z}=l||{};if(l.type==="default"){const{view_mode:he}=l;e=he}else{const{device_model:he}=l;e=he}let Q="";const A=(0,m.d4)(d.query.getIsEditMode);l.type==="default"?Q=A||e==="read_only"?k:new URLSearchParams(location.search).get("screen")||"":Q=k;let ae="";const oe=(0,W.a2)(z);x==="iframe"?ae='<iframe src="'+oe+"/embed/v2/sharing?view_mode="+e+'" allowTransparency="true" frameborder="0"></iframe>':j&&j.length!==0?ae='<iframe src="'+oe+"/embed/v2/sharing?view_mode="+e+"&selection="+j[0]+(Z?"":"&screen="+Q)+'" allowTransparency="true" frameborder="0"></iframe>':ae='<iframe src="'+oe+"/embed/v2/sharing?view_mode="+e+(Z?"":"&screen="+Q)+'" allowTransparency="true" frameborder="0"></iframe>';let L=null;const ie=(0,s.useCallback)(he=>{const ye=he.currentTarget;ye.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(L),L=setTimeout(()=>{ye.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,W.kv)({action:"\u590D\u5236\u4EE3\u7801",project:c||{},linkName:l.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(U){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[l,L,c]),le=(0,s.useCallback)(he=>{(0,Mn.$)(ae),ie(he)},[ie,ae]),ge=(0,s.useCallback)(()=>{i({type:d.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[i]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(In,{title:I18N.imockSharing.insert,handleClick:ge}),(0,r.jsxs)(ao,{children:[(0,r.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,r.jsxs)("div",{className:"copy-wrapper",children:[(0,r.jsx)("img",{src:w===xn.Sx.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,r.jsxs)("div",{className:"copy-box",children:[(0,r.jsx)("p",{className:"sharing-embedded-url",children:ae}),(0,r.jsx)("button",{className:"copy-button copy","data-clipboard-text":ae,onClick:le,children:I18N.imockSharing.copy_code})]})]})]})]})},Et=(0,s.memo)(Ut);var Vt=n(33233);const bn=(0,E.AH)([".vip-title{display:inline-block;color:",";background-color:",";font-weight:500;font-size:12px;padding:0 4px;height:20px;text-align:center;border-radius:4px;line-height:20px;}"],e=>e.isIframe?Vt.fm.color_text_link_normal.value_dark:e.theme.color_text_link_normal,e=>e.isIframe?Vt.fm.color_info_bg.value_dark:e.theme.color_info_bg),Fn=E.Ay.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-v150qt-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);:first-child{margin-bottom:16px;}}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:8px 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;height:25px;min-height:25px;padding:0px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:34px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.item-expired{display:flex;.WorkspaceSelect{border-radius:6px;}.general-input{width:65px;height:28px;border-radius:6px;margin-right:12px;}}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],e=>e.theme.color_bg_white,fe.gE,fe.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1),Ns=E.Ay.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-v150qt-1"})(["overflow-y:overlay;.divider{height:1px;background:",";margin:4px 24px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.last{margin-bottom:-8px;}.line-item.version-control{"," .vip-title{cursor:pointer;margin-left:4px;}}"],e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.isActiveContextMenu&&e.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",e=>e.isActiveContextMenu&&e.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)",bn),kn=E.Ay.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-v150qt-2"})(["height:328px;.visible-check{height:32px;}"]),Is=(0,E.DU)([".custom-title{display:flex;justify-content:space-between;align-items:baseline;","}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu .SelectOption{height:28px;&:hover{.vip-title{background-color:",";}}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu.is-open{right:-14px;}"],bn,e=>e.isIframe?Vt.fm.color_bg_white.value_dark:e.theme.color_bg_white);var Yn=n(90108);const ks=E.Ay.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-k8kmsm-0"})(["display:flex;background-color:",";height:28px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:100px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;color:",";border:1px solid ",";border-radius:6px;height:100%;&:focus{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;}&:hover{border:1px solid ",";}}.reset-pwd{width:20px;height:20px;position:absolute;border-radius:4px;right:4px;color:",";cursor:pointer;&:hover{path{fill:",";}color:",";background-color:",";}&:active{path{fill:",";}color:",";background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],e=>e.theme.color_bg_white,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_canvas,e=>e.theme.color_bg_canvas);function Es(e){return Math.random().toString(36).slice(-e)}function lo(e){const{onSubmit:i,value:l}=e,[c,w]=(0,s.useState)(e.value),_=(0,s.useRef)(null),x=Z=>{w(Z.target.value)},k=()=>{const Z=Es(6);w(Z),i(Z)},j=()=>{if(!i(c)){w(l);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch(Q){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},z=Z=>{Z.key==="Enter"&&(j(),_.current.blur())};return(0,r.jsx)(ks,{children:(0,r.jsxs)("div",{className:"password-input-wrapper",children:[(0,r.jsx)("input",{ref:_,type:"text",className:"password-input",value:c,onChange:x,onBlur:j,onKeyPress:z}),(0,r.jsx)(wt.A,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,r.jsx)(Re.C,{className:"reset-pwd",name:"common/spinner",onClick:k})})]})})}function js(e){const{isOrgProject:i,sharingData:l,updateSharing:c}=e,w=l.view_mode,{isHavePassword:_}=Dn(l),x=(0,m.wA)(),j=(0,m.d4)(d.query.getHostType)==="iframe",{comment_permission:z,wechat:Z,view_sticky:Q,is_first_canvas_open:A}=l,ae=(0,s.useMemo)(()=>(0,W.R0)(i),[i]),oe=()=>{if(_)c({password:""}),x({type:d.entryKey["sharing:settingPage:default:confirm"]});else{const xe=Es(6);L(xe)}x({type:d.entryKey["sharing:function:track"],payload:{operation:_?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:w}})},L=xe=>/^\s*$/.test(xe)||!/^\w+$/.test(xe)?!1:(c({password:xe}),x({type:d.entryKey["sharing:settingPage:default:confirm"]}),x({type:d.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:w}}),!0),ie=()=>{c({wechat:!Z}),x({type:d.entryKey["sharing:settingPage:default:confirm"]}),x({type:d.entryKey["sharing:function:track"],payload:{operation:Z?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:w}})},le=()=>{c({is_first_canvas_open:!A}),x({type:d.entryKey["sharing:settingPage:default:confirm"]}),x({type:d.entryKey["sharing:function:track"],payload:{operation:A?"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:w}})},ge=(0,s.useMemo)(()=>z==="org_member",[z]),he=()=>{c({view_sticky:Q==="view_sticky"?"no_sticky":"view_sticky"}),x({type:d.entryKey["sharing:settingPage:default:confirm"]}),x({type:d.entryKey["sharing:function:track"],payload:{operation:Q?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:w}})},ye=()=>{c({comment_permission:z==="org_member"?"off":"org_member"}),x({type:d.entryKey["sharing:settingPage:default:confirm"]}),x({type:d.entryKey["sharing:function:track"],payload:{operation:ge?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:w}})},U=xe=>{let{value:we}=xe;c({view_access:we}),x({type:d.entryKey["sharing:settingPage:default:confirm"]}),x({type:d.entryKey["sharing:remote:sharing:update"],payload:{sharingData:l,updatedKV:{access:we}}}),x({type:d.entryKey["sharing:function:track"],payload:{operation:we==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:w,isDefault:!1}})};return(0,r.jsxs)(Ns,{children:[i&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,r.jsx)(Yn.A,{name:"access",optionList:ae,value:l.view_access,onChange:U})]}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,r.jsxs)("div",{className:"password-input-item",children:[_&&(0,r.jsx)(lo,{value:l.password,onSubmit:L}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:_,onChange:oe})]})]}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:Q==="view_sticky",onChange:he})]}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:ge,onChange:ye})]}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:Z,onChange:ie})]}),!j&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:A,onChange:le})]})]})}var co=n(69623);const Ts=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"},{key:"inspect",label:I18N.imockSharing.inspect_mode,icon:"sharing/mode_inspect"}],As=e=>{let{sharingData:i,updateSharing:l}=e;const c=A=>()=>{l({device_model:A})},[w,_]=(0,s.useState)(!1),x=(0,s.createRef)(),k=(0,m.d4)(d.query.getTheme),[j,z]=(0,s.useState)({left:0,top:0}),Z=()=>{if(!(x!=null&&x.current))return;const{left:A,top:ae,height:oe}=x.current.getBoundingClientRect();z({left:A-58,top:ae+oe+6}),setTimeout(()=>{_(!0)},0)},Q=()=>{_(!1)};return(0,r.jsx)(uo,{className:se()({dark:k==="dark"}),children:(0,r.jsxs)("div",{className:"device-model",children:[(0,r.jsxs)("div",{className:"device-model-header",children:[(0,r.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.default_mode}),(0,r.jsxs)("div",{className:"modal-container",ref:x,children:[(0,r.jsx)(Re.C,{onMouseEnter:Z,onMouseLeave:Q,className:"tipsIcon",name:"sharing/question",size:14}),w&&(0,r.jsx)($n,{theme:k,position:j})]})]}),(0,r.jsx)("div",{className:"device-model-type-container",children:Ts().map((A,ae)=>{let{key:oe,label:L,icon:ie}=A;const le="device-model-"+oe+"   ";return(0,r.jsxs)("div",{className:se()("device-model-type-item",le,{"is-active":oe===i.device_model,dark:k==="dark"}),onClick:c(oe),children:[(0,r.jsx)(Re.C,{name:ie,size:16}),(0,r.jsx)("span",{children:L})]},ae)})})]})})},$n=(0,s.memo)(e=>{const{theme:i,position:l}=e;return(0,co.createPortal)((0,r.jsxs)(Ls,{className:se()("device-model-modal",{light:i==="light",dark:i==="dark"}),style:{left:l.left,top:l.top},children:[(0,r.jsx)("div",{className:"icon-triangle"}),(0,r.jsxs)("div",{className:se()("modal-content"),children:[(0,r.jsxs)("div",{className:"content-item read_only",children:[(0,r.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+i+"_2.png"}),(0,r.jsxs)("div",{className:"content-item-text",children:[(0,r.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,r.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]})]}),(0,r.jsxs)("div",{className:"content-item device",children:[(0,r.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+i+"_2.png"}),(0,r.jsxs)("div",{className:"content-item-text",children:[(0,r.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,r.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]}),(0,r.jsxs)("div",{className:"content-item inspect",children:[(0,r.jsx)("img",{src:"/mb-proto2/images/sharing/intro_inspect_"+i+"_2.png"}),(0,r.jsxs)("div",{className:"content-item-text",children:[(0,r.jsx)("div",{className:"intro-title",children:I18N.imockSharing.inspect_mode}),(0,r.jsx)("div",{className:"intro-content",children:I18N.imockSharing.inspect_mode_intro})]})]})]})]}),document.body)}),uo=E.Ay.div.withConfig({displayName:"ViewModeModel__StyledDeviceModel",componentId:"sc-spi606-0"})(["position:relative;margin-bottom:14px;margin-top:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;line-height:14px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-type-item{width:111px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);border-radius:6px;color:",";&.dark{border:1px solid #4f5052;}span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}.svg-icon{[stroke]{stroke:currentColor;fill:none;}}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal),Ls=E.Ay.div.withConfig({displayName:"ViewModeModel__StyledDeviceModelModal",componentId:"sc-spi606-1"})(["&.device-model-modal{z-index:100;position:absolute;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;flex-direction:column;padding:20px;width:374px;height:366px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.content-item:not(:last-child){margin-bottom:16px;}.content-item-text{display:flex;flex-direction:column;justify-content:center;height:100%;margin-left:16px;}.device,.read_only,.inspect{width:100%;height:96px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin-bottom:6px;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}"],e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2);function po(){const e=(0,m.d4)(d.query.getCurrentSharing),i=(0,m.d4)(d.query.getProject),l=(0,m.wA)(),c=(0,s.useCallback)(x=>{l({type:d.entryKey["sharing:currentSharing:update"],payload:{updatedKV:x}})},[l]),w=x=>{l({type:d.entryKey["sharing:currentSharing:update"],payload:{updatedKV:x}}),(0,ut.a0)(i.cid+"_default_sharing_view_mode",x.device_model,ut.qW.String),l({type:d.entryKey["sharing:settingPage:default:confirm"]})},_=()=>{l({type:d.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,r.jsxs)(Fn,{children:[(0,r.jsx)(In,{title:I18N.imockSharing.sharing_setting_title,handleClick:_}),(0,r.jsxs)("div",{className:"basic-content",children:[(0,r.jsx)(As,{sharingData:e,updateSharing:w}),(0,r.jsx)(js,{isOrgProject:i.is_org_project,sharingData:e,updateSharing:c})]})]})}var us=n(89208);const Os=()=>(0,r.jsx)(Ps,{}),Ps=E.Ay.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-x06h85-0"})(["height:1px;background:",";margin:8px 24px;"],e=>e.theme.color_background_icon_hover2);var ho=n(23089),mo=n(5649),Ds=n(12246),go=n(51785);function fo(e){const{isOrgProject:i,sharingData:l,updateSharing:c,settingPageType:w}=e,_=l.device_model,x=(0,s.useMemo)(()=>(0,W.R0)(i),[i]),{isHavePassword:k}=Dn(l),j=(0,m.d4)(d.query.getUser),z=(0,m.d4)(d.query.getOrg),Q=(0,m.d4)(d.query.getHostType)==="iframe",A=(0,m.wA)(),ae="v8-\u5206\u4EAB\u5F39\u7A97_\u81EA\u5B9A\u4E49\u94FE\u63A5\u6709\u6548\u671F";let oe=!1,L=!1;if(i){const{plan:ft}=(0,Pn.rM)(z);oe=[cn.Sj.OrgExpired,cn.Sj.OrgFree].includes(ft),L=ft!==cn.Sj.OrgFull}else{const ft=go.tz.InitialUser(j),vt=ft.planSdk.prototypePlan.getUserPlan(),an=ft.planSdk.prototypePlan.getUserStatus();oe=![cn.L1.Lifetime,cn.L1.PremiumLifetime].includes(vt)&&an!==cn.pZ.Trial,L=![cn.L1.Lifetime,cn.L1.PremiumLifetime].includes(vt)}const{view_sticky:ie,comment_permission:le,wechat:ge,enable_version_record:he,is_first_canvas_open:ye}=l,U=ft=>{let{value:vt}=ft;c({view_access:vt})},xe=()=>{if(k)c({password:""});else{const ft=Es(6);we(ft)}A({type:d.entryKey["sharing:function:track"],payload:{operation:k?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:_,isDefault:!0}})},we=ft=>/^\s*$/.test(ft)||!/^\w+$/.test(ft)?!1:(c({password:ft}),A({type:d.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:_,isDefault:!0}}),!0),be=()=>{c({wechat:!ge}),A({type:d.entryKey["sharing:function:track"],payload:{operation:ge?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:_,isDefault:!0}})},Pe=()=>{c({is_first_canvas_open:!ye}),A({type:d.entryKey["sharing:function:track"],payload:{operation:ye?"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:_,isDefault:!0}})},Le=(0,s.useMemo)(()=>le==="org_member",[le]),Ze=()=>{c({view_sticky:!ie,sticky:!ie}),A({type:d.entryKey["sharing:function:track"],payload:{operation:ie?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:_,isDefault:!0}})},Ue=()=>{c({comment_permission:le==="org_member"?"off":"org_member"}),A({type:d.entryKey["sharing:function:track"],payload:{operation:Le?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:_,isDefault:!0}})},[$e,st]=(0,s.useState)("1"),[it,at]=(0,s.useState)("forever"),{remainTimeText:St}=On(l,!1,999);(0,s.useEffect)(()=>{l&&l.expire_type==="forever"?at(l.expire_type):(st(l.expire_type),at(St))},[l,St]);const jt=(0,s.useRef)(null),Pt=()=>{if(oe){const ft=(0,Ds.l)(z,ae);if(z||(ft.mode="org",ft.isSelectOrg=!0),Q){const vt="/workspace?payment_param="+(0,Nt._)(ft);(0,dt.JW)(vt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ft);return!0}return!1},Bt=ft=>{if(ft==="forever")c({expire_type:ft});else if(Pt()){c({expire_type:"forever"},{isCustom:!0});return}A({type:d.entryKey["sharing:function:track"],payload:{operation:ft==="forever"?"\u6709\u6548\u671F\u6C38\u4E45":"\u6709\u6548\u671F\u81EA\u5B9A\u4E49",viewMode:_,isDefault:!1}}),at(ft)},Yt=[{label:"\u6C38\u4E45\u6709\u6548",value:"forever"},{label:oe?(0,r.jsxs)("div",{className:"custom-title",children:["\u81EA\u5B9A\u4E49",(0,r.jsx)("span",{className:"vip-title",children:"\u56E2\u961F\u7248"})]}):"\u81EA\u5B9A\u4E49",value:"custom"}],gt=ft=>/^([1-9]\d{0,3}|9999)$/.test(ft),Tt=ft=>{const vt=ft.target.value;if(!gt(vt))try{MB.notice({text:"\u8F93\u5165\u503C\u65E0\u6548\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165",type:"warning"});return}catch(ns){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}c({expire_type:vt}),st(vt)},Dt=()=>{const ft=(0,Ds.l)(z,"\u7F16\u8F91\u533A_v8\u539F\u578B\u5206\u4EAB_\u7248\u672C\u8BB0\u5F55\u5F00\u5173","v8proto-share-set-version",!0);if(ft.immediateUse="org_full",Q){const vt="/workspace?payment_param="+(0,Nt._)(ft);(0,dt.JW)(vt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ft)},en=()=>{L?Dt():(c({enable_version_record:!he}),A({type:d.entryKey["sharing:function:track"],payload:{operation:he?"\u5173\u95ED\u67E5\u770B\u7248\u672C\u8BB0\u5F55":"\u6253\u5F00\u67E5\u770B\u7248\u672C\u8BB0\u5F55",viewMode:_,isDefault:!1}}))};return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsxs)(Ns,{children:[l.type==="advanced"&&i&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,r.jsx)(Yn.A,{name:"access",optionList:x,value:l.view_access,onChange:U})]}),(0,r.jsxs)("div",{className:"line-item "+(i?"mt":""),children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,r.jsxs)("div",{className:"password-input-item",children:[k&&(0,r.jsx)(lo,{value:l.password,onSubmit:we}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:k,onChange:xe})]})]}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_link_expired}),(0,r.jsxs)("div",{className:"item-expired",children:[it==="custom"&&(0,r.jsx)(mo.A,{className:"general-input",attr:"width",value:$e,cursorDirection:!1,min:1,max:9999,rightTitle:"\u5929",actionButton:!1,ref:jt,isSelect:!0,onBlur:Tt,disableKeyboardEvents:!0}),(0,r.jsx)(ho.mq,{value:it,attr:"expire_type",placeholder:w==="create"?$e+"\u5929\u540E\u5931\u6548":it,optionList:Yt,onChange:ft=>Bt(ft)})]})]}),(0,r.jsx)(Os,{}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:ie,onChange:Ze})]}),(0,r.jsxs)("div",{className:"line-item mt",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:Le,onChange:Ue})]}),(0,r.jsxs)("div",{className:"line-item version-control mt",children:[(0,r.jsxs)("label",{className:"item-title",children:[I18N.imockSharing.version_control,L&&(0,r.jsx)("span",{className:"vip-title",onClick:Dt,children:I18N.Common.business_plan})]}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:he,readOnly:L,onChange:en})]}),(0,r.jsx)(Os,{}),(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:ge,onChange:be})]}),!Q&&(0,r.jsxs)("div",{className:"line-item",children:[(0,r.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,r.jsx)(Ct.A,{size:"small",isIOS:!0,isChecked:ye,onChange:Pe})]})]}),(0,r.jsx)(Is,{isIframe:Q})]})}var dn=n(95549),yo=n(25582),_t=n.n(yo);const Rs=E.Ay.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-1wxzhto-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_disabled01,e=>e.isCircle?"50%":"2px",e=>e.theme.color_bg_white,e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2);class Qn extends s.PureComponent{constructor(){super(...arguments),(0,dn.A)(this,"onToggle",i=>{const{onChange:l}=this.props;l(i)})}render(){const{className:i,isDisabled:l,readOnly:c,isChecked:w,isCircle:_}=this.props,x=se()(i,{"is-checked":w,"is-disabled":l,readonly:c});return(0,r.jsx)(Rs,{className:x,onClick:this.onToggle,isCircle:_,children:(0,r.jsx)("span",{className:"Check-state",children:(0,r.jsx)(Re.C,{name:"new_replace/box_check"})})})}}(0,dn.A)(Qn,"propTypes",{isChecked:_t().bool,isDisabled:_t().bool,readOnly:_t().bool,onChange:_t().func,label:_t().any,name:_t().string,value:_t().any,className:_t().string,isCircle:_t().bool}),(0,dn.A)(Qn,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var ps=n(61068),hs=n(69246),Fs=n(85584);const xo=E.Ay.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1bmii7a-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:210px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1);class Bs extends s.PureComponent{constructor(i){super(i),(0,dn.A)(this,"handleCheck",x=>{const{onUpdateScreenVisibleList:k,screenVisibleList:j}=this.props,z=new Set(j),Z=(0,Fs.YU)(x),Q=z.has(x.cid);Z.forEach(ae=>{let{cid:oe}=ae;Q?z.delete(oe):z.add(oe)});const A=[];for(const ae of z){const oe=this.screenDataMap[ae];oe&&!(0,Fs.Mo)(oe)&&A.push(oe)}k(Array.from(z))}),(0,dn.A)(this,"onSelectAll",x=>{const{onUpdateScreenVisibleList:k}=this.props;k(x?this.pageKeyList:[])});const{screenMetaList:l}=i,{treeData:c,pageAttrMap:w,pageKeyList:_}=l;this.screenDataMap=w,this.screenTreeData=c,this.pageKeyList=_,this.pageExceptFolderList=(0,W.RF)(w)}componentDidMount(){const i=(0,ut.Yt)("currentJumpingSharingScreenMetaCid",void 0,ut.qW.String);(0,ut.G5)("currentJumpingSharingScreenMetaCid"),i!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+i+'"]').scrollIntoView(),300)}render(){const{theme:i,screenVisibleList:l,isDisplayScreenAll:c}=this.props,w=(l==null?void 0:l.length)===this.pageKeyList.length,_=(0,W.Mj)(c,l,this.pageExceptFolderList);return(0,r.jsxs)(xo,{children:[(0,r.jsxs)("div",{className:se()("screen-config-header",{"is-disabled":c}),children:[(0,r.jsx)(ps.A,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:c,isChecked:w}),(0,r.jsxs)("div",{className:"content-wrapper",children:[(0,r.jsx)("span",{className:"divider",children:"|"}),(0,r.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",_).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,r.jsx)("div",{className:se()("screen-list-content",{"is-disabled":c,dark:i==="dark"}),children:(0,r.jsx)("div",{className:"sm-list",children:(0,r.jsx)(zs,{theme:i,isDisplayScreenAll:c,screenTreeData:this.screenTreeData,screenVisibleList:l,onCheck:this.handleCheck})})})]})}}(0,dn.A)(Bs,"propTypes",{theme:_t().string,screenMetaList:_t().object,screenVisibleList:_t().array,onUpdateScreenVisibleList:_t().func,isDisplayScreenAll:_t().bool});const zs=e=>{let{theme:i,isDisplayScreenAll:l,screenTreeData:c,screenVisibleList:w,onCheck:_}=e;return(0,r.jsx)(r.Fragment,{children:c.children.map(x=>(0,r.jsx)(Jn,{theme:i,treeNode:x,root:!0,depth:0,screenVisibleList:w,isDisplayScreenAll:l,onCheck:_},x.cid))})};zs.propTypes={theme:_t().string,isDisplayScreenAll:_t().bool,screenTreeData:_t().object,screenVisibleList:_t().array,onCheck:_t().func};class Jn extends s.PureComponent{constructor(i){super(i),(0,dn.A)(this,"handleCheck",l=>{l.stopPropagation();const{isDisplayScreenAll:c}=this.props;if(c)return;const{treeNode:w,onCheck:_}=this.props;_(w)}),(0,dn.A)(this,"handleExpand",l=>{const{isDisplayScreenAll:c}=this.props;c||(l.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:i,treeNode:l,root:c,depth:w,screenVisibleList:_,onCheck:x,theme:k}=this.props,{children:j,data:z}=l,Z=j.length!==0,{expand:Q}=this.state,A=_&&_.includes(l.cid);return(0,r.jsxs)("li",{className:se()("content-item"),"data-cid":l.cid,children:[(0,r.jsxs)("div",{className:se()("sm-box",{"is-display":A,"is-disabled":i}),children:[(0,r.jsx)(Qn,{isDisabled:i,className:"sm-check",isChecked:A,onChange:this.handleCheck}),(0,r.jsx)(Us,{isDisabled:i,theme:k,root:c,depth:w,showExpander:Z,data:z,expand:Q,onClick:this.handleCheck,onExpand:this.handleExpand})]}),j.length>0&&Q&&(0,r.jsx)("ol",{className:"sm-child",children:j.map(ae=>(0,r.jsx)(Jn,{theme:k,treeNode:ae,depth:w+1,screenVisibleList:_,isDisplayScreenAll:i,onCheck:x},ae.cid))})]})}}(0,dn.A)(Jn,"propTypes",{theme:_t().string,isDisplayScreenAll:_t().bool,treeNode:_t().object,screenVisibleList:_t().array,depth:_t().number,root:_t().bool,onCheck:_t().func});class Us extends s.PureComponent{render(){const{depth:i,showExpander:l,data:c,expand:w,onExpand:_,onClick:x,theme:k,isDisabled:j}=this.props,z=19*(i+1);return(0,r.jsxs)("div",{className:se()("sm-item"),style:{paddingLeft:z},onClick:x,children:[l&&(0,r.jsx)("a",{className:"expander",onClick:_,children:(0,r.jsx)(Re.C,{className:se()("arrow-icon",{"is-expand":w}),name:"common/expand"})}),(0,r.jsx)(hs.k,{icon:c.icon,theme:k,disabled:j,isExpand:w}),(0,r.jsx)("span",{className:"screen-name",children:c.name})]})}}(0,dn.A)(Us,"propTypes",{theme:_t().string,isDisabled:_t().bool,showExpander:_t().bool,data:_t().object,depth:_t().number,expand:_t().bool,onExpand:_t().func,onClick:_t().func});function bo(e){const i=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:l,updateSharing:c}=e,[w,_]=(0,s.useState)(l.screen_visible_switch?2:1),x=(0,m.d4)(d.query.getTheme),k=(0,m.d4)(d.query.getScreenMetaList),j=Z=>{c({screen_visible_list:Z})},z=Z=>{let{value:Q}=Z;c({screen_visible_switch:Q==="2",screen_visible_list:[]}),_(Q)};return(0,r.jsxs)(kn,{children:[(0,r.jsx)("div",{className:"line-item visible-check",children:(0,r.jsx)(Yn.A,{name:"access",optionList:i,value:w,onChange:z})}),k&&(0,r.jsx)(Bs,{theme:x,screenMetaList:k,screenVisibleList:l.screen_visible_list,isDisplayScreenAll:!l.screen_visible_switch,onUpdateScreenVisibleList:j})]})}var Ws=n(79150);const vo=e=>{let{handleConfirm:i,handleCancel:l}=e;const c=(0,m.d4)(d.query.getCurrentSharing),w=(0,m.d4)(d.query.getTheme),_=(0,m.d4)(d.query.getScreenMetaList),x=c.type==="default"?!1:c.screen_visible_switch&&(0,W.Mb)(_,c).selectedSize===0,k=()=>{x||i()};return(0,r.jsxs)(Hs,{className:"confirm-bar",children:[(0,r.jsx)(hn.jn,{className:se()("confirm",{dark:w==="dark"}),disabled:x,onClick:k,children:I18N.SettingPanel.confirm}),(0,r.jsx)(hn.tA,{className:"cancel",onClick:l,children:I18N.imockSharing.cancel})]})},Hs=E.Ay.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-1m75upe-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:20px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),Vs=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function ms(){const e=(0,m.d4)(d.query.getProject),i=(0,m.d4)(d.query.getSettingPageType),l=(0,m.d4)(d.query.getSubSettingPageType),c=(0,m.d4)(d.query.getCurrentSharing),w=(0,m.d4)(d.query.getAdvancedSharingList),_="recommend",x=(0,m.wA)(),[k,j]=(0,s.useState)(l==="basic"?0:1),[z,Z]=(0,s.useState)(c.link_name),[Q,A]=(0,s.useState)(!1),ae=Ue=>{j(Ue)},oe=(0,s.useCallback)(async(Ue,$e)=>{const{isCustom:st}=$e||{};x({type:d.entryKey["sharing:settingPage:advanced:confirm"],payload:{updatedKV:Ue,...st!==void 0&&{isCustom:st}}})},[x]),L=(0,s.useCallback)(()=>{x({type:d.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),i==="edit"&&Q&&x({type:"sharing:advance:click:track"})},[x,i,Q]),ie=(0,s.useCallback)((Ue,$e)=>{x({type:d.entryKey["sharing:currentSharing:update"],payload:{updatedKV:Ue}}),i==="edit"&&(A(!0),oe(Ue,$e))},[x,i,oe,A]),le=()=>{const Ue=we.current.value;Ue===""?(x({type:d.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),Le(z)):(0,W.it)({value:Ue,currentSharing:c,sharingList:w})?(Le(z),x({type:d.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(Z(Ue),ie({link_name:Ue}))},{isRenaming:ge,setIsRenaming:he,handleKeyDown:ye,handleBlur:U,handleFocus:xe,inputRef:we,handleInput:be,inputName:Pe,setInputName:Le}=Xs({name:c.link_name,fBlur:le}),Ze=()=>{he(!0)};return(0,r.jsxs)(Fn,{children:[i==="create"?(0,r.jsx)("div",{className:"header",children:(0,r.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,r.jsx)(In,{title:I18N.imockSharing.sharing_setting_title,handleClick:L}),(0,r.jsxs)("div",{className:"share-link-title",children:[(0,r.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,r.jsx)("div",{className:se()("name-input",{"is-renaming":ge}),children:ge?(0,r.jsx)("form",{children:(0,r.jsx)("input",{value:Pe,onFocus:xe,onChange:be,ref:we,onBlur:U,onKeyPress:ye})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{onClick:Ze,children:z}),(0,r.jsx)(Ws.A,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:Ze})]})})]}),(0,r.jsx)(As,{sharingData:c,updateSharing:ie}),(0,r.jsxs)("div",{className:"tabs",children:[(0,r.jsx)(us.A,{className:"sharing-nav",activeIndex:k,onTabChange:ae,layoutV9:_,children:Vs().map(Ue=>{let{key:$e,name:st,...it}=Ue;return(0,r.jsx)(us.n,{...it,active:k===$e,className:se()({visible:st==="visible",basic:st==="basic"})},$e)})}),(0,r.jsx)("div",{})]}),k===0?(0,r.jsx)(fo,{isOrgProject:e.is_org_project,sharingData:c,updateSharing:ie,settingPageType:i}):(0,r.jsx)(bo,{sharingData:c,updateSharing:ie}),i==="create"&&(0,r.jsx)(vo,{handleConfirm:oe,handleCancel:L})]})}function _o(){return(0,m.d4)(d.query.getCurrentSharing).type==="default"?(0,r.jsx)(po,{}):(0,r.jsx)(ms,{})}const nn=E.Ay.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-lv8qo5-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),wo=(0,s.memo)(function(){const i=(0,m.d4)(d.query.getSharingToast),l=(0,m.wA)();return(0,s.useEffect)(()=>{setTimeout(()=>{l({type:d.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[l]),i?(0,r.jsxs)(nn,{children:[(0,r.jsx)(Re.C,{name:"sharing/toast_waring",isColorPure:!0}),i]}):null}),Co=E.Ay.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-17am38q-0"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;height:calc(100% - ","px);p{margin-top:16px;color:","}"],fe.gE,e=>e.theme.color_text_L3);var Bn=n(37810);const So=E.Ay.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-1xfoi8f-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:180px;height:180px;filter:",";border:1px solid ",";.qrcode{width:160px;height:160px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],e=>e.theme.color_sharing_qrcode_bg,e=>e.theme.color_sharing_qrcode_filter,e=>e.theme.color_share_del_confirm_border_color);function Ks(e){const{isQRcodePanel:i,text:l,project:c}=e,w=c.icon||null;return i?(0,r.jsxs)(So,{className:"qrcode-and-icon",children:[(0,r.jsx)(Bn.A,{className:"qrcode",text:l,width:160,height:160}),w&&(0,r.jsx)("div",{className:"p-icon-box",children:(0,r.jsx)("img",{src:w})})]}):null}const Mo=()=>{const e=(0,m.wA)(),i=(0,m.d4)(d.query.getCurrentSelectSharing),l=(0,m.d4)(d.query.getProject),c=(0,m.d4)(d.query.getHostCurrentScreen),w=c==null?void 0:c.cid,_=(0,s.useMemo)(()=>(0,W.O8)(l,i,w,!0),[i,l,w]),x=(0,s.useCallback)(()=>{e({type:d.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[e]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(In,{title:I18N.imockSharing.qr_code,handleClick:x}),(0,r.jsxs)(Co,{children:[(0,r.jsx)(Ks,{isQRcodePanel:!0,project:l,text:_}),(0,r.jsx)("p",{children:I18N.imockSharing.qr_tips})]})]})},No=(0,s.memo)(Mo),gs=()=>{var e;const i=(0,m.wA)(),l=(0,m.d4)(d.query.getHostSharingData),c=(0,m.d4)(d.query.getProject),w=c==null?void 0:c.is_org_project,{link_name:_,view_access:x}=l,k=(0,m.d4)(d.query.getUser),j=(0,m.d4)(d.query.getHostType),z=(0,m.d4)(d.query.getIsEditMode),Z=j==="iframe"||z,Q=(0,m.d4)(d.query.getCanEditByUser),A=(0,m.d4)(d.query.getHostCurrentScreen),ae=A==null?void 0:A.cid,{isURLCopied:oe,handleCopyURL:L}=rs({project:c,sharing:l,user:k}),ie=Z&&Q,le=(0,s.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:zt.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:zt.embed,tempDisabled:!1,isBorder:!0}],[]),ge=(0,s.useCallback)(()=>{const ye=(0,W.O8)(c,l,ae);(0,Mn.$)(ye),L(),i({type:d.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:l.device_model,isDefault:!1}})},[i,l,L,ae,c]),he=(0,s.useCallback)((ye,U)=>{if(!(ye!=null&&ye.currentTarget))return;const xe=l,{device_model:we}=l;switch(U){case zt.QRcode:ye.stopPropagation(),i({type:d.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:xe}}),i({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:we,isDefault:!1}});break;case zt.embed:i({type:d.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:xe}}),i({type:d.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:we,isDefault:!1}});break;default:break}},[i,l]);return(0,r.jsxs)(ls,{children:[(0,r.jsxs)("div",{className:"default-top",children:[(0,r.jsx)("div",{className:"switch-content",children:_}),(0,r.jsxs)(fn,{className:se()("item-center","default-link",!ie&&"userNoEdit"),children:[(0,r.jsx)("div",{className:se()("left","sharingV2-click-visible",{"normal-hover":!0},!w&&"can-not-edit"),children:(0,r.jsxs)("div",{className:"view-access-select",children:[(0,r.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,r.jsx)("div",{className:"access-name",children:(e=I18N.imockSharing[fe.nQ[x]])!=null?e:"missing data"}),w&&(0,r.jsx)(Re.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,r.jsxs)(sn,{type:"button",className:se()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(oe)),onClick:ge,children:[(0,r.jsx)("span",{className:"state state-0",children:l.password&&l.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,r.jsx)("span",{className:"state state-1",children:(0,r.jsx)(Re.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,r.jsx)("div",{className:"default-bottom",children:(0,r.jsxs)("div",{className:"bottom-left",children:[(0,r.jsx)("div",{children:I18N.imockSharing.share_mode}),le.map((ye,U)=>(0,r.jsx)(Sn,{className:se()("share-icon",ye.className),name:ye.name,type:ye.className,toolTipName:ye.toolTipName,onClick:he,tempDisabled:ye.tempDisabled,isColorPure:ye.isColorPure,isBorder:ye.isBorder,size:24},U))]})})]})},Io=(0,s.memo)(gs),ko=()=>{const e=(0,m.d4)(d.query.getTopPageIndex),i=(0,m.d4)(d.query.getTabIndex),l=(0,m.d4)(d.query.getSharingToast),c=(0,m.d4)(d.query.getHostSharingData),w=!c||c.type==="default",_=(0,m.d4)(d.query.getProject),x=(0,m.d4)(d.query.getIsEditMode),j=(0,m.d4)(d.query.getHostType)==="iframe"||x,[z,Z]=(0,s.useState)(c);return(0,s.useEffect)(()=>{const{sharing:Q}=(0,O.Y5)(_);Z(Q)},[c,_]),(0,r.jsxs)(io,{children:[e==="edit"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($t,{}),i===0?!j&&!w?(0,r.jsx)(Io,{}):z?(0,r.jsx)(ro,{defaultShare:z}):(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(as,{})]}),e==="embed"&&(0,r.jsx)(Et,{}),e==="setting"&&(0,r.jsx)(_o,{}),e==="qrCode"&&(0,r.jsx)(No,{}),l&&(0,r.jsx)(wo,{})]})},vn=(0,s.memo)(ko),Xn=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,zn=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var fs=n(19249);const ys=async(e,i)=>{try{let c=null;return e?c=await(0,fs.DE)("/api/dashboard/v4/users/search?email="+e):i&&(c=await(0,fs.DE)("/api/dashboard/v4/users/search?mobile="+i)),c}catch(c){var l;return c!=null&&(l=c.message)!=null&&l.includes("failed with 404")?{}:null}};var xs=n(35603);const Eo=(0,E.Ay)(xs.A).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1ofnwys-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],e=>e.theme.color_project_access_tip_hover),bs=(0,E.DU)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:',';margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:',";margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}"],e=>e.isOnlyMemberManager?"66px":"88px",e=>e.isOnlyMemberManager?"68px":"90px");let Un=function(e){return e.OrgSpace="orgspace-permission-tip",e.OrgSpaceLimiter="orgspace-limiter-permission-tip",e.RootFolder="root-folder-permission-tip",e.SubFolder="sub-folder-permission-tip",e.Project="project-permission-tip",e}({});const qn=e=>{const{tipType:i,position:l="center",className:c,isOnlyMemberManager:w=!1}=e,[_,x]=(0,s.useState)({}),k=(0,m.d4)(Ne.il);(0,s.useEffect)(()=>{const z=document.querySelector(".sharingBoxV2 ");if(z){const{left:Z,top:Q}=z.getBoundingClientRect();x({left:Number(Z)+13,top:Number(Q)+29})}},[]);const j=()=>{switch(i){case Un.Project:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,r.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case Un.SubFolder:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,r.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,r.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case Un.RootFolder:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case Un.OrgSpace:return(0,r.jsxs)("section",{className:"multi-line",children:[(0,r.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,r.jsxs)("li",{className:"desc",children:[(0,r.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case Un.OrgSpaceLimiter:return(0,r.jsx)("section",{className:"single-line",children:(0,r.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,r.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Eo,{opener:(0,r.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:l,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:se()("permission-tip",c&&c),menu:j(),menuBaseStyle:_}),(0,r.jsx)(bs,{isOnlyMemberManager:w})]})};var jo=n(79186);const To=E.Ay.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-1j0j1bo-0"})(["min-width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),vs=(0,E.Ay)(jo.Ay).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-1j0j1bo-1"})(["min-width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),Ao=(0,E.DU)([".permission-select.CheckSelectMenu{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";&:lang(en){min-width:136px;}&:not(.is-empty){padding:8px;}.SelectOption{height:24px;margin-bottom:2px;padding:0;color:",";border-radius:4px;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:",";color:",";}&:hover{color:",";}> span.Ellipsis{min-width:80px;padding:0 10px;margin-left:20px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{position:absolute;margin:0 0 0 10px;path{fill:",";}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L1,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1);var Lo=n(46219);const Oo=e=>{let i=[],l={};switch(e){case ke.W.OrgSpace:i=J,l=Se.FU;break;case ke.W.Folder:i=$,l=Se.lY;break;case ke.W.Project:i=me,l=Se.au;break;default:break}return i.map(c=>({...c,permission:(0,I.pf)(c.value,l)}))},Zs=(e,i)=>{let l={};switch(e){case ke.W.OrgSpace:return i;case ke.W.Folder:l=Ee;break;case ke.W.Project:l=Me;break;default:return i}return l[i]||i},Gs=e=>{switch(e){case ke.W.OrgSpace:return I18N.imockSharing.permission_no_right_project;case ke.W.Folder:return I18N.imockSharing.permission_no_right_folder;case ke.W.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},Po=e=>{const{value:i,optionList:l,handleChange:c}=e,w=(0,s.useRef)(null),[_,x]=(0,s.useState)(!0),k=l.filter(z=>z.value===i),j=(0,s.useCallback)(()=>{w.current&&w.current.close()},[]);return(0,s.useEffect)(()=>(document.body.addEventListener("wheel",j),()=>{document.body.removeEventListener("wheel",j)}),[j]),(0,s.useEffect)(()=>{const z=setTimeout(()=>{x(!1)},1e3);return()=>{clearTimeout(z)}},[]),_?(0,r.jsx)(vs,{unstyled:!0,ref:w,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:i,menuX:"right",onChange:c,optionList:k,menuClassName:"permission-select"}):(0,r.jsx)(vs,{unstyled:!0,ref:w,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:i,menuX:"right",onChange:c,optionList:l,menuClassName:"permission-select"})},Do=(0,s.memo)(Po);var Ro=n(46710);const Fo=(e,i)=>{const{isSelf:l,userCurrentSpacePermission:c,userCurrentScopePermisson:w,memberCurrentScopePermisson:_,memberTopScopePermisson:x,memberOrgPermisson:k,memberIsSpaceManager:j}=i;return e.map(Z=>{let{value:Q,label:A,permission:ae}=Z,oe=!1;const L=ae.roleName.includes("ban_viewer");return c.isManager&&l?oe=L:w.isMember?w.level<_.level||w.level<ae.level?oe=!0:(!x.isMember&&x.isViewer&&!k.isMember&&ae.isMember&&(oe=!0),L&&(oe=!w.isManager||l||j)):oe=!0,Object.assign({},{value:Q,label:I18N.imockSharing[A]||A},{isDisabled:oe})})},Bo=e=>{const{readOnlyTooltip:i,isReset:l=!1,member:c,isOnlyOneManager:w,permissionScope:_,onPermissionChange:x,currentOrg:k}=e;let{readOnly:j}=e,z=j,Z=i;const Q=Oo(_),{permissionMap:A}=c,{memberCurrentScopePermisson:ae,userCurrentScopePermisson:oe,userCurrentSpacePermission:L,currentScopeRoleName:ie,isSelf:le,userIsSpaceLimiter:ge,memberIsSpaceLimiter:he}=A;let ye=Fo(Q,A);_===ke.W.OrgSpace&&!he&&(ye=ye.filter(we=>we.value!=="space_limiter")),(_===ke.W.OrgSpace||he)&&!ae.isUnknown&&!ae.isInherited&&!l&&(le&&!ae.isUnknown||oe.isManager&&ye.push({value:mt,label:I18N.imockSharing.remove,isDisabled:!1})),!z&&_===ke.W.OrgSpace&&ge&&!l&&(j=!0,z=!0),!z&&([ke.W.Project,ke.W.Folder].includes(_)||ae.isViewer)&&!l&&(oe.isMember?oe.level<ae.level?(z=!0,Z="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):ae.isManager&&w?(z=!0,Z=Gs(_)):(_===ke.W.OrgSpace&&!oe.isManager||[ke.W.Project,ke.W.Folder].includes(_)&&!oe.isManager&&ae.isBanned)&&(z=!0):L!=null&&L.isManager&&le||(z=!0));let U=Zs(_,ie);l&&(U="");const xe=we=>{z||x(c,we)};if(k){const{protoSeat:we}=(0,Ro.rA)(k,Number(c.user_id)),Pe=we?"":"(\u65E0\u5E2D\u4F4D)";ye.map(Le=>{(Le.value==="project_manager"||Le.value==="project_member")&&(Le.label+=Pe)})}if(z||j){const we=ye.find(be=>be.value===U);return we?(0,r.jsx)(To,{className:se()("read-only-option",!j&&z&&"disabled"),children:(0,r.jsx)(Lo.A,{content:Z,position:"bottom",children:(0,r.jsx)("span",{className:"label",children:we.label})})}):null}return(0,r.jsx)(Do,{value:U,handleChange:xe,optionList:ye})},zo=(0,s.memo)(Bo),es=(0,E.DU)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),En=E.Ay.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-188anjy-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.invite-item{display:flex;align-items:center;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;color:",";cursor:pointer;position:absolute;right:20px;z-index:1;&:hover{color:",";}&:active{color:",";}.svg-icon{width:32px;color:inherit;& > *{fill:currentColor;}}}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:100px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_link_hover,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_share_member__border_color,e=>e.theme.color_AI_Text_Auto_fill_path_hover);var Ys=n(94586),ts=n(94827),a=n(18941),t=Number.isNaN||function(i){return typeof i=="number"&&i!==i};function o(e,i){return!!(e===i||t(e)&&t(i))}function g(e,i){if(e.length!==i.length)return!1;for(var l=0;l<e.length;l++)if(!o(e[l],i[l]))return!1;return!0}function F(e,i){i===void 0&&(i=g);var l,c=[],w,_=!1;function x(){for(var k=[],j=0;j<arguments.length;j++)k[j]=arguments[j];return _&&l===this&&i(k,c)||(w=e.apply(this,k),_=!0,l=this,c=k),w}return x}const re=F;var Ae=typeof performance=="object"&&typeof performance.now=="function",Te=Ae?function(){return performance.now()}:function(){return Date.now()};function Fe(e){cancelAnimationFrame(e.id)}function Ke(e,i){var l=Te();function c(){Te()-l>=i?e.call(null):w.id=requestAnimationFrame(c)}var w={id:requestAnimationFrame(c)};return w}var Be=-1;function Je(e){if(e===void 0&&(e=!1),Be===-1||e){var i=document.createElement("div"),l=i.style;l.width="50px",l.height="50px",l.overflow="scroll",document.body.appendChild(i),Be=i.offsetWidth-i.clientWidth,document.body.removeChild(i)}return Be}var _e=null;function Ie(e){if(e===void 0&&(e=!1),_e===null||e){var i=document.createElement("div"),l=i.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";var c=document.createElement("div"),w=c.style;return w.width="100px",w.height="100px",i.appendChild(c),document.body.appendChild(i),i.scrollLeft>0?_e="positive-descending":(i.scrollLeft=1,i.scrollLeft===0?_e="negative":_e="positive-ascending"),document.body.removeChild(i),_e}return _e}var ze=150,Qe=function(i){var l=i.columnIndex,c=i.data,w=i.rowIndex;return w+":"+l},lt=null,It=null,Ot=null;function Kt(e){var i,l=e.getColumnOffset,c=e.getColumnStartIndexForOffset,w=e.getColumnStopIndexForStartIndex,_=e.getColumnWidth,x=e.getEstimatedTotalHeight,k=e.getEstimatedTotalWidth,j=e.getOffsetForColumnAndAlignment,z=e.getOffsetForRowAndAlignment,Z=e.getRowHeight,Q=e.getRowOffset,A=e.getRowStartIndexForOffset,ae=e.getRowStopIndexForStartIndex,oe=e.initInstanceProps,L=e.shouldResetStyleCacheOnItemSizeChange,ie=e.validateProps;return i=function(le){(0,a.A)(ge,le);function ge(ye){var U;return U=le.call(this,ye)||this,U._instanceProps=oe(U.props,(0,ts.A)(U)),U._resetIsScrollingTimeoutId=null,U._outerRef=void 0,U.state={instance:(0,ts.A)(U),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof U.props.initialScrollLeft=="number"?U.props.initialScrollLeft:0,scrollTop:typeof U.props.initialScrollTop=="number"?U.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},U._callOnItemsRendered=void 0,U._callOnItemsRendered=re(function(xe,we,be,Pe,Le,Ze,Ue,$e){return U.props.onItemsRendered({overscanColumnStartIndex:xe,overscanColumnStopIndex:we,overscanRowStartIndex:be,overscanRowStopIndex:Pe,visibleColumnStartIndex:Le,visibleColumnStopIndex:Ze,visibleRowStartIndex:Ue,visibleRowStopIndex:$e})}),U._callOnScroll=void 0,U._callOnScroll=re(function(xe,we,be,Pe,Le){return U.props.onScroll({horizontalScrollDirection:be,scrollLeft:xe,scrollTop:we,verticalScrollDirection:Pe,scrollUpdateWasRequested:Le})}),U._getItemStyle=void 0,U._getItemStyle=function(xe,we){var be=U.props,Pe=be.columnWidth,Le=be.direction,Ze=be.rowHeight,Ue=U._getItemStyleCache(L&&Pe,L&&Le,L&&Ze),$e=xe+":"+we,st;if(Ue.hasOwnProperty($e))st=Ue[$e];else{var it=l(U.props,we,U._instanceProps),at=Le==="rtl";Ue[$e]=st={position:"absolute",left:at?void 0:it,right:at?it:void 0,top:Q(U.props,xe,U._instanceProps),height:Z(U.props,xe,U._instanceProps),width:_(U.props,we,U._instanceProps)}}return st},U._getItemStyleCache=void 0,U._getItemStyleCache=re(function(xe,we,be){return{}}),U._onScroll=function(xe){var we=xe.currentTarget,be=we.clientHeight,Pe=we.clientWidth,Le=we.scrollLeft,Ze=we.scrollTop,Ue=we.scrollHeight,$e=we.scrollWidth;U.setState(function(st){if(st.scrollLeft===Le&&st.scrollTop===Ze)return null;var it=U.props.direction,at=Le;if(it==="rtl")switch(Ie()){case"negative":at=-Le;break;case"positive-descending":at=$e-Pe-Le;break}at=Math.max(0,Math.min(at,$e-Pe));var St=Math.max(0,Math.min(Ze,Ue-be));return{isScrolling:!0,horizontalScrollDirection:st.scrollLeft<Le?"forward":"backward",scrollLeft:at,scrollTop:St,verticalScrollDirection:st.scrollTop<Ze?"forward":"backward",scrollUpdateWasRequested:!1}},U._resetIsScrollingDebounced)},U._outerRefSetter=function(xe){var we=U.props.outerRef;U._outerRef=xe,typeof we=="function"?we(xe):we!=null&&typeof we=="object"&&we.hasOwnProperty("current")&&(we.current=xe)},U._resetIsScrollingDebounced=function(){U._resetIsScrollingTimeoutId!==null&&Fe(U._resetIsScrollingTimeoutId),U._resetIsScrollingTimeoutId=Ke(U._resetIsScrolling,ze)},U._resetIsScrolling=function(){U._resetIsScrollingTimeoutId=null,U.setState({isScrolling:!1},function(){U._getItemStyleCache(-1)})},U}ge.getDerivedStateFromProps=function(U,xe){return kt(U,xe),ie(U),null};var he=ge.prototype;return he.scrollTo=function(U){var xe=U.scrollLeft,we=U.scrollTop;xe!==void 0&&(xe=Math.max(0,xe)),we!==void 0&&(we=Math.max(0,we)),this.setState(function(be){return xe===void 0&&(xe=be.scrollLeft),we===void 0&&(we=be.scrollTop),be.scrollLeft===xe&&be.scrollTop===we?null:{horizontalScrollDirection:be.scrollLeft<xe?"forward":"backward",scrollLeft:xe,scrollTop:we,scrollUpdateWasRequested:!0,verticalScrollDirection:be.scrollTop<we?"forward":"backward"}},this._resetIsScrollingDebounced)},he.scrollToItem=function(U){var xe=U.align,we=xe===void 0?"auto":xe,be=U.columnIndex,Pe=U.rowIndex,Le=this.props,Ze=Le.columnCount,Ue=Le.height,$e=Le.rowCount,st=Le.width,it=this.state,at=it.scrollLeft,St=it.scrollTop,jt=Je();be!==void 0&&(be=Math.max(0,Math.min(be,Ze-1))),Pe!==void 0&&(Pe=Math.max(0,Math.min(Pe,$e-1)));var Pt=x(this.props,this._instanceProps),Bt=k(this.props,this._instanceProps),Yt=Bt>st?jt:0,gt=Pt>Ue?jt:0;this.scrollTo({scrollLeft:be!==void 0?j(this.props,be,we,at,this._instanceProps,gt):at,scrollTop:Pe!==void 0?z(this.props,Pe,we,St,this._instanceProps,Yt):St})},he.componentDidMount=function(){var U=this.props,xe=U.initialScrollLeft,we=U.initialScrollTop;if(this._outerRef!=null){var be=this._outerRef;typeof xe=="number"&&(be.scrollLeft=xe),typeof we=="number"&&(be.scrollTop=we)}this._callPropsCallbacks()},he.componentDidUpdate=function(){var U=this.props.direction,xe=this.state,we=xe.scrollLeft,be=xe.scrollTop,Pe=xe.scrollUpdateWasRequested;if(Pe&&this._outerRef!=null){var Le=this._outerRef;if(U==="rtl")switch(Ie()){case"negative":Le.scrollLeft=-we;break;case"positive-ascending":Le.scrollLeft=we;break;default:var Ze=Le.clientWidth,Ue=Le.scrollWidth;Le.scrollLeft=Ue-Ze-we;break}else Le.scrollLeft=Math.max(0,we);Le.scrollTop=Math.max(0,be)}this._callPropsCallbacks()},he.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Fe(this._resetIsScrollingTimeoutId)},he.render=function(){var U=this.props,xe=U.children,we=U.className,be=U.columnCount,Pe=U.direction,Le=U.height,Ze=U.innerRef,Ue=U.innerElementType,$e=U.innerTagName,st=U.itemData,it=U.itemKey,at=it===void 0?Qe:it,St=U.outerElementType,jt=U.outerTagName,Pt=U.rowCount,Bt=U.style,Yt=U.useIsScrolling,gt=U.width,Tt=this.state.isScrolling,Dt=this._getHorizontalRangeToRender(),en=Dt[0],ft=Dt[1],vt=this._getVerticalRangeToRender(),an=vt[0],ns=vt[1],ss=[];if(be>0&&Pt)for(var Cn=an;Cn<=ns;Cn++)for(var ln=en;ln<=ft;ln++)ss.push((0,s.createElement)(xe,{columnIndex:ln,data:st,isScrolling:Yt?Tt:void 0,key:at({columnIndex:ln,data:st,rowIndex:Cn}),rowIndex:Cn,style:this._getItemStyle(Cn,ln)}));var Jt=x(this.props,this._instanceProps),ot=k(this.props,this._instanceProps);return(0,s.createElement)(St||jt||"div",{className:we,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,Ys.A)({position:"relative",height:Le,width:gt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Pe},Bt)},(0,s.createElement)(Ue||$e||"div",{children:ss,ref:Ze,style:{height:Jt,pointerEvents:Tt?"none":void 0,width:ot}}))},he._callPropsCallbacks=function(){var U=this.props,xe=U.columnCount,we=U.onItemsRendered,be=U.onScroll,Pe=U.rowCount;if(typeof we=="function"&&xe>0&&Pe>0){var Le=this._getHorizontalRangeToRender(),Ze=Le[0],Ue=Le[1],$e=Le[2],st=Le[3],it=this._getVerticalRangeToRender(),at=it[0],St=it[1],jt=it[2],Pt=it[3];this._callOnItemsRendered(Ze,Ue,at,St,$e,st,jt,Pt)}if(typeof be=="function"){var Bt=this.state,Yt=Bt.horizontalScrollDirection,gt=Bt.scrollLeft,Tt=Bt.scrollTop,Dt=Bt.scrollUpdateWasRequested,en=Bt.verticalScrollDirection;this._callOnScroll(gt,Tt,Yt,en,Dt)}},he._getHorizontalRangeToRender=function(){var U=this.props,xe=U.columnCount,we=U.overscanColumnCount,be=U.overscanColumnsCount,Pe=U.overscanCount,Le=U.rowCount,Ze=this.state,Ue=Ze.horizontalScrollDirection,$e=Ze.isScrolling,st=Ze.scrollLeft,it=we||be||Pe||1;if(xe===0||Le===0)return[0,0,0,0];var at=c(this.props,st,this._instanceProps),St=w(this.props,at,st,this._instanceProps),jt=!$e||Ue==="backward"?Math.max(1,it):1,Pt=!$e||Ue==="forward"?Math.max(1,it):1;return[Math.max(0,at-jt),Math.max(0,Math.min(xe-1,St+Pt)),at,St]},he._getVerticalRangeToRender=function(){var U=this.props,xe=U.columnCount,we=U.overscanCount,be=U.overscanRowCount,Pe=U.overscanRowsCount,Le=U.rowCount,Ze=this.state,Ue=Ze.isScrolling,$e=Ze.verticalScrollDirection,st=Ze.scrollTop,it=be||Pe||we||1;if(xe===0||Le===0)return[0,0,0,0];var at=A(this.props,st,this._instanceProps),St=ae(this.props,at,st,this._instanceProps),jt=!Ue||$e==="backward"?Math.max(1,it):1,Pt=!Ue||$e==="forward"?Math.max(1,it):1;return[Math.max(0,at-jt),Math.max(0,Math.min(Le-1,St+Pt)),at,St]},ge}(s.PureComponent),i.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},i}var kt=function(i,l){var c=i.children,w=i.direction,_=i.height,x=i.innerTagName,k=i.outerTagName,j=i.overscanColumnsCount,z=i.overscanCount,Z=i.overscanRowsCount,Q=i.width,A=l.instance},Qt=50,ct=function(i,l){var c=i.rowCount,w=l.rowMetadataMap,_=l.estimatedRowHeight,x=l.lastMeasuredRowIndex,k=0;if(x>=c&&(x=c-1),x>=0){var j=w[x];k=j.offset+j.size}var z=c-x-1,Z=z*_;return k+Z},He=function(i,l){var c=i.columnCount,w=l.columnMetadataMap,_=l.estimatedColumnWidth,x=l.lastMeasuredColumnIndex,k=0;if(x>=c&&(x=c-1),x>=0){var j=w[x];k=j.offset+j.size}var z=c-x-1,Z=z*_;return k+Z},qe=function(i,l,c,w){var _,x,k;if(i==="column"?(_=w.columnMetadataMap,x=l.columnWidth,k=w.lastMeasuredColumnIndex):(_=w.rowMetadataMap,x=l.rowHeight,k=w.lastMeasuredRowIndex),c>k){var j=0;if(k>=0){var z=_[k];j=z.offset+z.size}for(var Z=k+1;Z<=c;Z++){var Q=x(Z);_[Z]={offset:j,size:Q},j+=Q}i==="column"?w.lastMeasuredColumnIndex=c:w.lastMeasuredRowIndex=c}return _[c]},tt=function(i,l,c,w){var _,x;i==="column"?(_=c.columnMetadataMap,x=c.lastMeasuredColumnIndex):(_=c.rowMetadataMap,x=c.lastMeasuredRowIndex);var k=x>0?_[x].offset:0;return k>=w?rt(i,l,c,x,0,w):pt(i,l,c,Math.max(0,x),w)},rt=function(i,l,c,w,_,x){for(;_<=w;){var k=_+Math.floor((w-_)/2),j=qe(i,l,k,c).offset;if(j===x)return k;j<x?_=k+1:j>x&&(w=k-1)}return _>0?_-1:0},pt=function(i,l,c,w,_){for(var x=i==="column"?l.columnCount:l.rowCount,k=1;w<x&&qe(i,l,w,c).offset<_;)w+=k,k*=2;return rt(i,l,c,Math.min(w,x-1),Math.floor(w/2),_)},At=function(i,l,c,w,_,x,k){var j=i==="column"?l.width:l.height,z=qe(i,l,c,x),Z=i==="column"?He(l,x):ct(l,x),Q=Math.max(0,Math.min(Z-j,z.offset)),A=Math.max(0,z.offset-j+k+z.size);switch(w==="smart"&&(_>=A-j&&_<=Q+j?w="auto":w="center"),w){case"start":return Q;case"end":return A;case"center":return Math.round(A+(Q-A)/2);case"auto":default:return _>=A&&_<=Q?_:A>Q||_<A?A:Q}},Gt=Kt({getColumnOffset:function(i,l,c){return qe("column",i,l,c).offset},getColumnStartIndexForOffset:function(i,l,c){return tt("column",i,c,l)},getColumnStopIndexForStartIndex:function(i,l,c,w){for(var _=i.columnCount,x=i.width,k=qe("column",i,l,w),j=c+x,z=k.offset+k.size,Z=l;Z<_-1&&z<j;)Z++,z+=qe("column",i,Z,w).size;return Z},getColumnWidth:function(i,l,c){return c.columnMetadataMap[l].size},getEstimatedTotalHeight:ct,getEstimatedTotalWidth:He,getOffsetForColumnAndAlignment:function(i,l,c,w,_,x){return At("column",i,l,c,w,_,x)},getOffsetForRowAndAlignment:function(i,l,c,w,_,x){return At("row",i,l,c,w,_,x)},getRowOffset:function(i,l,c){return qe("row",i,l,c).offset},getRowHeight:function(i,l,c){return c.rowMetadataMap[l].size},getRowStartIndexForOffset:function(i,l,c){return tt("row",i,c,l)},getRowStopIndexForStartIndex:function(i,l,c,w){for(var _=i.rowCount,x=i.height,k=qe("row",i,l,w),j=c+x,z=k.offset+k.size,Z=l;Z<_-1&&z<j;)Z++,z+=qe("row",i,Z,w).size;return Z},initInstanceProps:function(i,l){var c=i,w=c.estimatedColumnWidth,_=c.estimatedRowHeight,x={columnMetadataMap:{},estimatedColumnWidth:w||Qt,estimatedRowHeight:_||Qt,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return l.resetAfterColumnIndex=function(k,j){j===void 0&&(j=!0),l.resetAfterIndices({columnIndex:k,shouldForceUpdate:j})},l.resetAfterRowIndex=function(k,j){j===void 0&&(j=!0),l.resetAfterIndices({rowIndex:k,shouldForceUpdate:j})},l.resetAfterIndices=function(k){var j=k.columnIndex,z=k.rowIndex,Z=k.shouldForceUpdate,Q=Z===void 0?!0:Z;typeof j=="number"&&(x.lastMeasuredColumnIndex=Math.min(x.lastMeasuredColumnIndex,j-1)),typeof z=="number"&&(x.lastMeasuredRowIndex=Math.min(x.lastMeasuredRowIndex,z-1)),l._getItemStyleCache(-1),Q&&l.forceUpdate()},x},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(i){var l=i.columnWidth,c=i.rowHeight}}),Lt=150,Rt=function(i,l){return i},Wt=null,un=null;function We(e){var i,l=e.getItemOffset,c=e.getEstimatedTotalSize,w=e.getItemSize,_=e.getOffsetForIndexAndAlignment,x=e.getStartIndexForOffset,k=e.getStopIndexForStartIndex,j=e.initInstanceProps,z=e.shouldResetStyleCacheOnItemSizeChange,Z=e.validateProps;return i=function(Q){(0,a.A)(A,Q);function A(oe){var L;return L=Q.call(this,oe)||this,L._instanceProps=j(L.props,(0,ts.A)(L)),L._outerRef=void 0,L._resetIsScrollingTimeoutId=null,L.state={instance:(0,ts.A)(L),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof L.props.initialScrollOffset=="number"?L.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},L._callOnItemsRendered=void 0,L._callOnItemsRendered=re(function(ie,le,ge,he){return L.props.onItemsRendered({overscanStartIndex:ie,overscanStopIndex:le,visibleStartIndex:ge,visibleStopIndex:he})}),L._callOnScroll=void 0,L._callOnScroll=re(function(ie,le,ge){return L.props.onScroll({scrollDirection:ie,scrollOffset:le,scrollUpdateWasRequested:ge})}),L._getItemStyle=void 0,L._getItemStyle=function(ie){var le=L.props,ge=le.direction,he=le.itemSize,ye=le.layout,U=L._getItemStyleCache(z&&he,z&&ye,z&&ge),xe;if(U.hasOwnProperty(ie))xe=U[ie];else{var we=l(L.props,ie,L._instanceProps),be=w(L.props,ie,L._instanceProps),Pe=ge==="horizontal"||ye==="horizontal",Le=ge==="rtl",Ze=Pe?we:0;U[ie]=xe={position:"absolute",left:Le?void 0:Ze,right:Le?Ze:void 0,top:Pe?0:we,height:Pe?"100%":be,width:Pe?be:"100%"}}return xe},L._getItemStyleCache=void 0,L._getItemStyleCache=re(function(ie,le,ge){return{}}),L._onScrollHorizontal=function(ie){var le=ie.currentTarget,ge=le.clientWidth,he=le.scrollLeft,ye=le.scrollWidth;L.setState(function(U){if(U.scrollOffset===he)return null;var xe=L.props.direction,we=he;if(xe==="rtl")switch(Ie()){case"negative":we=-he;break;case"positive-descending":we=ye-ge-he;break}return we=Math.max(0,Math.min(we,ye-ge)),{isScrolling:!0,scrollDirection:U.scrollOffset<we?"forward":"backward",scrollOffset:we,scrollUpdateWasRequested:!1}},L._resetIsScrollingDebounced)},L._onScrollVertical=function(ie){var le=ie.currentTarget,ge=le.clientHeight,he=le.scrollHeight,ye=le.scrollTop;L.setState(function(U){if(U.scrollOffset===ye)return null;var xe=Math.max(0,Math.min(ye,he-ge));return{isScrolling:!0,scrollDirection:U.scrollOffset<xe?"forward":"backward",scrollOffset:xe,scrollUpdateWasRequested:!1}},L._resetIsScrollingDebounced)},L._outerRefSetter=function(ie){var le=L.props.outerRef;L._outerRef=ie,typeof le=="function"?le(ie):le!=null&&typeof le=="object"&&le.hasOwnProperty("current")&&(le.current=ie)},L._resetIsScrollingDebounced=function(){L._resetIsScrollingTimeoutId!==null&&Fe(L._resetIsScrollingTimeoutId),L._resetIsScrollingTimeoutId=Ke(L._resetIsScrolling,Lt)},L._resetIsScrolling=function(){L._resetIsScrollingTimeoutId=null,L.setState({isScrolling:!1},function(){L._getItemStyleCache(-1,null)})},L}A.getDerivedStateFromProps=function(L,ie){return ht(L,ie),Z(L),null};var ae=A.prototype;return ae.scrollTo=function(L){L=Math.max(0,L),this.setState(function(ie){return ie.scrollOffset===L?null:{scrollDirection:ie.scrollOffset<L?"forward":"backward",scrollOffset:L,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},ae.scrollToItem=function(L,ie){ie===void 0&&(ie="auto");var le=this.props,ge=le.itemCount,he=le.layout,ye=this.state.scrollOffset;L=Math.max(0,Math.min(L,ge-1));var U=0;if(this._outerRef){var xe=this._outerRef;he==="vertical"?U=xe.scrollWidth>xe.clientWidth?Je():0:U=xe.scrollHeight>xe.clientHeight?Je():0}this.scrollTo(_(this.props,L,ie,ye,this._instanceProps,U))},ae.componentDidMount=function(){var L=this.props,ie=L.direction,le=L.initialScrollOffset,ge=L.layout;if(typeof le=="number"&&this._outerRef!=null){var he=this._outerRef;ie==="horizontal"||ge==="horizontal"?he.scrollLeft=le:he.scrollTop=le}this._callPropsCallbacks()},ae.componentDidUpdate=function(){var L=this.props,ie=L.direction,le=L.layout,ge=this.state,he=ge.scrollOffset,ye=ge.scrollUpdateWasRequested;if(ye&&this._outerRef!=null){var U=this._outerRef;if(ie==="horizontal"||le==="horizontal")if(ie==="rtl")switch(Ie()){case"negative":U.scrollLeft=-he;break;case"positive-ascending":U.scrollLeft=he;break;default:var xe=U.clientWidth,we=U.scrollWidth;U.scrollLeft=we-xe-he;break}else U.scrollLeft=he;else U.scrollTop=he}this._callPropsCallbacks()},ae.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Fe(this._resetIsScrollingTimeoutId)},ae.render=function(){var L=this.props,ie=L.children,le=L.className,ge=L.direction,he=L.height,ye=L.innerRef,U=L.innerElementType,xe=L.innerTagName,we=L.itemCount,be=L.itemData,Pe=L.itemKey,Le=Pe===void 0?Rt:Pe,Ze=L.layout,Ue=L.outerElementType,$e=L.outerTagName,st=L.style,it=L.useIsScrolling,at=L.width,St=this.state.isScrolling,jt=ge==="horizontal"||Ze==="horizontal",Pt=jt?this._onScrollHorizontal:this._onScrollVertical,Bt=this._getRangeToRender(),Yt=Bt[0],gt=Bt[1],Tt=[];if(we>0)for(var Dt=Yt;Dt<=gt;Dt++)Tt.push((0,s.createElement)(ie,{data:be,key:Le(Dt,be),index:Dt,isScrolling:it?St:void 0,style:this._getItemStyle(Dt)}));var en=c(this.props,this._instanceProps);return(0,s.createElement)(Ue||$e||"div",{className:le,onScroll:Pt,ref:this._outerRefSetter,style:(0,Ys.A)({position:"relative",height:he,width:at,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:ge},st)},(0,s.createElement)(U||xe||"div",{children:Tt,ref:ye,style:{height:jt?"100%":en,pointerEvents:St?"none":void 0,width:jt?en:"100%"}}))},ae._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var L=this.props.itemCount;if(L>0){var ie=this._getRangeToRender(),le=ie[0],ge=ie[1],he=ie[2],ye=ie[3];this._callOnItemsRendered(le,ge,he,ye)}}if(typeof this.props.onScroll=="function"){var U=this.state,xe=U.scrollDirection,we=U.scrollOffset,be=U.scrollUpdateWasRequested;this._callOnScroll(xe,we,be)}},ae._getRangeToRender=function(){var L=this.props,ie=L.itemCount,le=L.overscanCount,ge=this.state,he=ge.isScrolling,ye=ge.scrollDirection,U=ge.scrollOffset;if(ie===0)return[0,0,0,0];var xe=x(this.props,U,this._instanceProps),we=k(this.props,xe,U,this._instanceProps),be=!he||ye==="backward"?Math.max(1,le):1,Pe=!he||ye==="forward"?Math.max(1,le):1;return[Math.max(0,xe-be),Math.max(0,Math.min(ie-1,we+Pe)),xe,we]},A}(s.PureComponent),i.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},i}var ht=function(i,l){var c=i.children,w=i.direction,_=i.height,x=i.layout,k=i.innerTagName,j=i.outerTagName,z=i.width,Z=l.instance;if(0)var Q},Zt=50,Ft=function(i,l,c){var w=i,_=w.itemSize,x=c.itemMetadataMap,k=c.lastMeasuredIndex;if(l>k){var j=0;if(k>=0){var z=x[k];j=z.offset+z.size}for(var Z=k+1;Z<=l;Z++){var Q=_(Z);x[Z]={offset:j,size:Q},j+=Q}c.lastMeasuredIndex=l}return x[l]},_n=function(i,l,c){var w=l.itemMetadataMap,_=l.lastMeasuredIndex,x=_>0?w[_].offset:0;return x>=c?yn(i,l,_,0,c):wn(i,l,Math.max(0,_),c)},yn=function(i,l,c,w,_){for(;w<=c;){var x=w+Math.floor((c-w)/2),k=Ft(i,x,l).offset;if(k===_)return x;k<_?w=x+1:k>_&&(c=x-1)}return w>0?w-1:0},wn=function(i,l,c,w){for(var _=i.itemCount,x=1;c<_&&Ft(i,c,l).offset<w;)c+=x,x*=2;return yn(i,l,Math.min(c,_-1),Math.floor(c/2),w)},jn=function(i,l){var c=i.itemCount,w=l.itemMetadataMap,_=l.estimatedItemSize,x=l.lastMeasuredIndex,k=0;if(x>=c&&(x=c-1),x>=0){var j=w[x];k=j.offset+j.size}var z=c-x-1,Z=z*_;return k+Z},$o=We({getItemOffset:function(i,l,c){return Ft(i,l,c).offset},getItemSize:function(i,l,c){return c.itemMetadataMap[l].size},getEstimatedTotalSize:jn,getOffsetForIndexAndAlignment:function(i,l,c,w,_,x){var k=i.direction,j=i.height,z=i.layout,Z=i.width,Q=k==="horizontal"||z==="horizontal",A=Q?Z:j,ae=Ft(i,l,_),oe=jn(i,_),L=Math.max(0,Math.min(oe-A,ae.offset)),ie=Math.max(0,ae.offset-A+ae.size+x);switch(c==="smart"&&(w>=ie-A&&w<=L+A?c="auto":c="center"),c){case"start":return L;case"end":return ie;case"center":return Math.round(ie+(L-ie)/2);case"auto":default:return w>=ie&&w<=L?w:w<ie?ie:L}},getStartIndexForOffset:function(i,l,c){return _n(i,c,l)},getStopIndexForStartIndex:function(i,l,c,w){for(var _=i.direction,x=i.height,k=i.itemCount,j=i.layout,z=i.width,Z=_==="horizontal"||j==="horizontal",Q=Z?z:x,A=Ft(i,l,w),ae=c+Q,oe=A.offset+A.size,L=l;L<k-1&&oe<ae;)L++,oe+=Ft(i,L,w).size;return L},initInstanceProps:function(i,l){var c=i,w=c.estimatedItemSize,_={itemMetadataMap:{},estimatedItemSize:w||Zt,lastMeasuredIndex:-1};return l.resetAfterIndex=function(x,k){k===void 0&&(k=!0),_.lastMeasuredIndex=Math.min(_.lastMeasuredIndex,x-1),l._getItemStyleCache(-1),k&&l.forceUpdate()},_},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(i){var l=i.itemSize}}),_s=Kt({getColumnOffset:function(i,l){var c=i.columnWidth;return l*c},getColumnWidth:function(i,l){var c=i.columnWidth;return c},getRowOffset:function(i,l){var c=i.rowHeight;return l*c},getRowHeight:function(i,l){var c=i.rowHeight;return c},getEstimatedTotalHeight:function(i){var l=i.rowCount,c=i.rowHeight;return c*l},getEstimatedTotalWidth:function(i){var l=i.columnCount,c=i.columnWidth;return c*l},getOffsetForColumnAndAlignment:function(i,l,c,w,_,x){var k=i.columnCount,j=i.columnWidth,z=i.width,Z=Math.max(0,k*j-z),Q=Math.min(Z,l*j),A=Math.max(0,l*j-z+x+j);switch(c==="smart"&&(w>=A-z&&w<=Q+z?c="auto":c="center"),c){case"start":return Q;case"end":return A;case"center":var ae=Math.round(A+(Q-A)/2);return ae<Math.ceil(z/2)?0:ae>Z+Math.floor(z/2)?Z:ae;case"auto":default:return w>=A&&w<=Q?w:A>Q||w<A?A:Q}},getOffsetForRowAndAlignment:function(i,l,c,w,_,x){var k=i.rowHeight,j=i.height,z=i.rowCount,Z=Math.max(0,z*k-j),Q=Math.min(Z,l*k),A=Math.max(0,l*k-j+x+k);switch(c==="smart"&&(w>=A-j&&w<=Q+j?c="auto":c="center"),c){case"start":return Q;case"end":return A;case"center":var ae=Math.round(A+(Q-A)/2);return ae<Math.ceil(j/2)?0:ae>Z+Math.floor(j/2)?Z:ae;case"auto":default:return w>=A&&w<=Q?w:A>Q||w<A?A:Q}},getColumnStartIndexForOffset:function(i,l){var c=i.columnWidth,w=i.columnCount;return Math.max(0,Math.min(w-1,Math.floor(l/c)))},getColumnStopIndexForStartIndex:function(i,l,c){var w=i.columnWidth,_=i.columnCount,x=i.width,k=l*w,j=Math.ceil((x+c-k)/w);return Math.max(0,Math.min(_-1,l+j-1))},getRowStartIndexForOffset:function(i,l){var c=i.rowHeight,w=i.rowCount;return Math.max(0,Math.min(w-1,Math.floor(l/c)))},getRowStopIndexForStartIndex:function(i,l,c){var w=i.rowHeight,_=i.rowCount,x=i.height,k=l*w,j=Math.ceil((x+c-k)/w);return Math.max(0,Math.min(_-1,l+j-1))},initInstanceProps:function(i){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(i){var l=i.columnWidth,c=i.rowHeight}}),$s=We({getItemOffset:function(i,l){var c=i.itemSize;return l*c},getItemSize:function(i,l){var c=i.itemSize;return c},getEstimatedTotalSize:function(i){var l=i.itemCount,c=i.itemSize;return c*l},getOffsetForIndexAndAlignment:function(i,l,c,w,_,x){var k=i.direction,j=i.height,z=i.itemCount,Z=i.itemSize,Q=i.layout,A=i.width,ae=k==="horizontal"||Q==="horizontal",oe=ae?A:j,L=Math.max(0,z*Z-oe),ie=Math.min(L,l*Z),le=Math.max(0,l*Z-oe+Z+x);switch(c==="smart"&&(w>=le-oe&&w<=ie+oe?c="auto":c="center"),c){case"start":return ie;case"end":return le;case"center":{var ge=Math.round(le+(ie-le)/2);return ge<Math.ceil(oe/2)?0:ge>L+Math.floor(oe/2)?L:ge}case"auto":default:return w>=le&&w<=ie?w:w<le?le:ie}},getStartIndexForOffset:function(i,l){var c=i.itemCount,w=i.itemSize;return Math.max(0,Math.min(c-1,Math.floor(l/w)))},getStopIndexForStartIndex:function(i,l,c){var w=i.direction,_=i.height,x=i.itemCount,k=i.itemSize,j=i.layout,z=i.width,Z=w==="horizontal"||j==="horizontal",Q=l*k,A=Z?z:_,ae=Math.ceil((A+c-Q)/k);return Math.max(0,Math.min(x-1,l+ae-1))},initInstanceProps:function(i){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(i){var l=i.itemSize}});function ws(e,i){for(var l in e)if(!(l in i))return!0;for(var c in i)if(e[c]!==i[c])return!0;return!1}var Uo=null,Wo=null;function ir(e,i){var l=e.style,c=_objectWithoutPropertiesLoose(e,Uo),w=i.style,_=_objectWithoutPropertiesLoose(i,Wo);return!ws(l,w)&&!ws(c,_)}function Fr(e,i){return!ir(this.props,e)||ws(this.state,i)}let pn;typeof window<"u"?pn=window:typeof self<"u"?pn=self:pn=n.g;let Ho=null,Vo=null;const Qo=20,Ko=pn.clearTimeout,Jo=pn.setTimeout,Zo=pn.cancelAnimationFrame||pn.mozCancelAnimationFrame||pn.webkitCancelAnimationFrame,Xo=pn.requestAnimationFrame||pn.mozRequestAnimationFrame||pn.webkitRequestAnimationFrame;Zo==null||Xo==null?(Ho=Ko,Vo=function(i){return Jo(i,Qo)}):(Ho=function(i){let[l,c]=i;Zo(l),Ko(c)},Vo=function(i){const l=Xo(function(){Ko(c),i()}),c=Jo(function(){Zo(l),i()},Qo);return[l,c]});function ar(e){let i,l,c,w,_,x,k;const j=typeof document<"u"&&document.attachEvent;if(!j){x=function(le){const ge=le.__resizeTriggers__,he=ge.firstElementChild,ye=ge.lastElementChild,U=he.firstElementChild;ye.scrollLeft=ye.scrollWidth,ye.scrollTop=ye.scrollHeight,U.style.width=he.offsetWidth+1+"px",U.style.height=he.offsetHeight+1+"px",he.scrollLeft=he.scrollWidth,he.scrollTop=he.scrollHeight},_=function(le){return le.offsetWidth!==le.__resizeLast__.width||le.offsetHeight!==le.__resizeLast__.height},k=function(le){if(le.target.className&&typeof le.target.className.indexOf=="function"&&le.target.className.indexOf("contract-trigger")<0&&le.target.className.indexOf("expand-trigger")<0)return;const ge=this;x(this),this.__resizeRAF__&&Ho(this.__resizeRAF__),this.__resizeRAF__=Vo(function(){_(ge)&&(ge.__resizeLast__.width=ge.offsetWidth,ge.__resizeLast__.height=ge.offsetHeight,ge.__resizeListeners__.forEach(function(U){U.call(ge,le)}))})};let A=!1,ae="";c="animationstart";const oe="Webkit Moz O ms".split(" ");let L="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),ie="";{const le=document.createElement("fakeelement");if(le.style.animationName!==void 0&&(A=!0),A===!1){for(let ge=0;ge<oe.length;ge++)if(le.style[oe[ge]+"AnimationName"]!==void 0){ie=oe[ge],ae="-"+ie.toLowerCase()+"-",c=L[ge],A=!0;break}}}l="resizeanim",i="@"+ae+"keyframes "+l+" { from { opacity: 0; } to { opacity: 0; } } ",w=ae+"animation: 1ms "+l+"; "}const z=function(A){if(!A.getElementById("detectElementResize")){const ae=(i||"")+".resize-triggers { "+(w||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',oe=A.head||A.getElementsByTagName("head")[0],L=A.createElement("style");L.id="detectElementResize",L.type="text/css",e!=null&&L.setAttribute("nonce",e),L.styleSheet?L.styleSheet.cssText=ae:L.appendChild(A.createTextNode(ae)),oe.appendChild(L)}};return{addResizeListener:function(A,ae){if(j)A.attachEvent("onresize",ae);else{if(!A.__resizeTriggers__){const oe=A.ownerDocument,L=pn.getComputedStyle(A);L&&L.position==="static"&&(A.style.position="relative"),z(oe),A.__resizeLast__={},A.__resizeListeners__=[],(A.__resizeTriggers__=oe.createElement("div")).className="resize-triggers";const ie=oe.createElement("div");ie.className="expand-trigger",ie.appendChild(oe.createElement("div"));const le=oe.createElement("div");le.className="contract-trigger",A.__resizeTriggers__.appendChild(ie),A.__resizeTriggers__.appendChild(le),A.appendChild(A.__resizeTriggers__),x(A),A.addEventListener("scroll",k,!0),c&&(A.__resizeTriggers__.__animationListener__=function(he){he.animationName===l&&x(A)},A.__resizeTriggers__.addEventListener(c,A.__resizeTriggers__.__animationListener__))}A.__resizeListeners__.push(ae)}},removeResizeListener:function(A,ae){if(j)A.detachEvent("onresize",ae);else if(A.__resizeListeners__.splice(A.__resizeListeners__.indexOf(ae),1),!A.__resizeListeners__.length){A.removeEventListener("scroll",k,!0),A.__resizeTriggers__.__animationListener__&&(A.__resizeTriggers__.removeEventListener(c,A.__resizeTriggers__.__animationListener__),A.__resizeTriggers__.__animationListener__=null);try{A.__resizeTriggers__=!A.removeChild(A.__resizeTriggers__)}catch(oe){}}}}}class lr extends s.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:i,disableWidth:l,onResize:c}=this.props;if(this._parentNode){const w=window.getComputedStyle(this._parentNode)||{},_=parseFloat(w.paddingLeft||"0"),x=parseFloat(w.paddingRight||"0"),k=parseFloat(w.paddingTop||"0"),j=parseFloat(w.paddingBottom||"0"),z=this._parentNode.getBoundingClientRect(),Z=z.height-k-j,Q=z.width-_-x;if(!i&&this.state.height!==Z||!l&&this.state.width!==Q){this.setState({height:Z,width:Q});const A=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof c=="function"&&c({height:Z,width:Q,get scaledHeight(){return A(),Z},get scaledWidth(){return A(),Q}})}}},this._setRef=i=>{this._autoSizer=i}}componentDidMount(){const{nonce:i}=this.props,l=this._autoSizer?this._autoSizer.parentNode:null;if(l!=null&&l.ownerDocument&&l.ownerDocument.defaultView&&l instanceof l.ownerDocument.defaultView.HTMLElement){this._parentNode=l;const c=l.ownerDocument.defaultView.ResizeObserver;c!=null?(this._resizeObserver=new c(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(l)):(this._detectElementResize=ar(i),this._detectElementResize.addResizeListener(l,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:i,defaultHeight:l,defaultWidth:c,disableHeight:w=!1,disableWidth:_=!1,doNotBailOutOnEmptyChildren:x=!1,nonce:k,onResize:j,style:z={},tagName:Z="div",...Q}=this.props,{height:A,width:ae}=this.state,oe={overflow:"visible"},L={};let ie=!1;return w||(A===0&&(ie=!0),oe.height=0,L.height=A,L.scaledHeight=A),_||(ae===0&&(ie=!0),oe.width=0,L.width=ae,L.scaledWidth=ae),x&&(ie=!1),(0,s.createElement)(Z,{ref:this._setRef,style:{...oe,...z},...Q},!ie&&i(L))}}function Br(e){return e&&e.disableHeight!==!0&&e.disableWidth!==!0}function zr(e){return e&&e.disableHeight!==!0&&e.disableWidth===!0}function Ur(e){return e&&e.disableHeight===!0&&e.disableWidth!==!0}const cr=(0,s.memo)(e=>{let{className:i,itemCount:l,itemSize:c,itemData:w,renderItem:_,onItemCountChange:x,onListRef:k}=e;const j=s.createRef();return(0,s.useEffect)(()=>{j.current&&x&&x(j)},[l,j,x]),(0,s.useEffect)(()=>{j.current&&k&&k(j)},[j,k]),(0,r.jsx)(lr,{children:z=>{let{width:Z,height:Q=0}=z;return(0,r.jsx)($s,{ref:j,className:i,itemCount:l,itemSize:c,itemData:w,height:Q,width:Z,children:_})}})}),dr=e=>{const{theme:i,caption:l,captionExtra:c,className:w,permissionScope:_,memberList:x,isOnlyOneManager:k,readOnly:j,readOnlyTooltip:z,expandable:Z,defaultExpanded:Q=!0,isResetPermission:A=!1,children:ae,onPermissionChange:oe,onChangeHeight:L,isMemberList:ie,onlyTitle:le,isUseVirtualizedRender:ge=!1,onClickInviteButton:he,isShowInviteButton:ye=!1,currentOrg:U}=e,[xe,we]=(0,s.useState)(Q),be=(0,s.useCallback)(()=>{we(Ue=>!Ue),L&&L()},[L]),Pe=(0,s.useCallback)(Ue=>{var $e;const{avatar:st,name:it}=Ue;return st&&!st.includes("/images/avatar.png")?(0,r.jsx)("img",{className:"avatar",src:Ue.avatar,alt:Ue.name}):(0,r.jsx)("div",{className:"avatar avater-name",children:it==null||($e=it.slice(0,1))==null?void 0:$e.toUpperCase()})},[]),Le=(Ue,$e)=>(0,r.jsxs)("div",{className:"item",style:$e,children:[(0,r.jsxs)("span",{className:"title",children:[Pe(Ue),(0,r.jsx)("span",{className:"name",children:Ue.name})]}),(0,r.jsx)("span",{className:"account",children:Ue.email||Ue.mobile}),(0,r.jsx)(zo,{readOnly:j,readOnlyTooltip:z,member:Ue,isReset:A,isOnlyOneManager:k,permissionScope:_,currentOrg:U,onPermissionChange:oe})]},Ue.user_cid),Ze=Ue=>{let{data:$e,index:st,style:it}=Ue;const{memberList:at}=$e;return Le(at[st],it)};return(0,r.jsxs)(En,{className:se()("member-list",i,w&&w,ge&&"use-virtualized-list"),"data-expanded":xe,children:[Z&&(0,r.jsxs)("h5",{className:"caption",children:[(0,r.jsx)("span",{children:l}),ye&&!(!le&&Z&&!ie)&&(0,r.jsxs)("div",{className:"invite-item",onClick:he,children:[(0,r.jsx)(Re.C,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]}),!le&&Z&&!ie&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:x.length>0&&"\xB7"+x.length}),(0,r.jsx)("span",{className:se()("btn-toggle-expand"),onClick:be,children:xe?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),c]}),ae,!!x.length&&(0,r.jsx)("div",{className:"members",children:ge?(0,r.jsx)(cr,{className:"virtualized-list",itemSize:48,itemCount:x.length,itemData:{memberList:x},renderItem:Ze}):x.map(Ue=>Le(Ue))})]})},Go=(0,s.memo)(dr),ur=E.Ay.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-f6syk1-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02),pr=e=>{const{value:i,onChange:l,onKeyPress:c}=e,w=x=>{l(x.currentTarget.value)},_=x=>{x.key==="Enter"&&c(x.currentTarget.value)};return(0,r.jsx)(ur,{className:"search-box",children:(0,r.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:i,onChange:w,onKeyPress:_})})},hr=(0,s.memo)(pr);var mr=n(15628),qo=n(51582);function gr(e){const{theme:i,caption:l,outerMembers:c,canInvite:w,isSharing:_,handleClickInviteMember:x}=e,k=()=>{const Z="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(c[0].mobile||c[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+l+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,Mn.$)(Z)},j=!c||c.length<1;return _?(0,r.jsxs)(En,{className:"member-list sharing "+i,children:[(0,r.jsxs)("div",{className:"members invite",children:[!j&&c.map(z=>(0,r.jsxs)("div",{className:"item",children:[(0,r.jsxs)("span",{className:"title",children:[(0,r.jsx)("img",{className:"avatar",src:z.avatar,alt:z.name}),(0,r.jsxs)("span",{className:"name",children:[z.name,(0,r.jsx)("span",{className:"register",children:z.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,r.jsx)("span",{className:"account",children:z.email||z.mobile}),!n.g.ENV.IS_ON_PREMISES&&(w?(0,r.jsx)("span",{className:"inviteJoin",onClick:x,children:I18N.imockSharing.invite_h}):(0,r.jsxs)("div",{className:"addOuter",children:[(0,r.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,r.jsx)(xs.A,{opener:(0,r.jsx)(qo.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,r.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,r.jsx)("a",{className:"copy-text",onClick:k,children:I18N.imockSharing.copy})]})})]}))]},z.cid)),j&&(0,r.jsx)("div",{className:"enterTip",children:(0,r.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,r.jsx)(es,{})]}):(r.Fragment,(0,r.jsxs)(En,{className:"member-list "+i,children:[(0,r.jsxs)("div",{className:"members invite",children:[!j&&c.map(z=>(0,r.jsxs)("div",{className:"item",children:[(0,r.jsxs)("span",{className:"title",children:[(0,r.jsx)("img",{className:"avatar",src:z.avatar,alt:z.name}),(0,r.jsxs)("span",{className:"name",children:[z.name,(0,r.jsx)("span",{className:"register",children:z.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,r.jsx)("span",{className:"account",children:z.email||z.mobile}),!n.g.ENV.IS_ON_PREMISES&&(w?(0,r.jsx)("span",{className:"inviteJoin",onClick:x,children:I18N.imockSharing.invite_h}):(0,r.jsxs)("div",{className:"addOuter",children:[(0,r.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,r.jsx)(xs.A,{opener:(0,r.jsx)(qo.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,r.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,r.jsx)("a",{className:"copy-text",onClick:k,children:I18N.imockSharing.copy})]})})]}))]},z.cid)),j&&(0,r.jsx)("div",{className:"enterTip",children:(0,r.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,r.jsx)(es,{})]}))}const fr=(0,s.memo)(gr),er=()=>!!Number(sessionStorage.getItem("inClowdz"));function yr(e){let i="file_editarea-proto-v8-add",l="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return i=e?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",l=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:i,trackSource:l}}function xr(e,i){i===void 0&&(i=!1);let l="file_editarea-proto-v8-invite",c="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return i?(l="file_editarea-proto-v8-input-inviteTA",c="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(l=e?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",c=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:l,trackSource:c}}function tr(e){if(!e)return"";let i="";return e==="org_owner"?i="\u4F01\u4E1A\u6240\u6709\u8005":e==="org_manager"?i="\u8D85\u7EA7\u7BA1\u7406\u5458":e==="org_admin"||e!=null&&e.includes("manager")?i="\u7BA1\u7406\u5458":e!=null&&e.includes("member")?i="\u534F\u4F5C\u6210\u5458":e!=null&&e.includes("viewer")&&(i="\u5BA1\u9605\u6210\u5458"),i}const nr=(e,i,l)=>{try{const{source_id:c,source:w,step:_,option:x=null}=l;if(!i||!e||ENV.IS_ON_PREMISES||ENV.IS_MO)return;if((!x||(x==null?void 0:x.results)!==!1)&&c)try{(0,fs.Ds)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:e,org_cid:i,source:c,step:_}})}catch(k){console.log(k.message)}if(_===0)(0,G.kH)("invite_members_entrance",{source:w});else if(_===2&&x){const k=tr(x==null?void 0:x.invitor_role),j=tr(x==null?void 0:x.invitee_role);(0,G.kH)("invite_members_via_add",{source:w,join_space_num:1,has_department:!1,invitor_role:k,invitee_role:j,results:(x==null?void 0:x.results)||!0,error_type:(x==null?void 0:x.error_type)||""})}}catch(c){console.log(c.message)}},Qs=function(e,i,l,c,w){w===void 0&&(w=null);const{trackSourceId:_,trackSource:x}=yr(l);nr(e,i,{source_id:_,source:x,step:c,option:w})},br=function(e,i,l,c){c===void 0&&(c=!1);const{trackSourceId:w,trackSource:_}=xr(l,c),x={trackSourceId:w,trackSource:_},k="/workspace/"+i+"/admin/member?openInviteByLinkModal=true&invite_track="+(0,Nt._)(x);if(nr(e,i,{source_id:w,source:_,step:0}),er()){location.pathname=k;return}(0,dt.JW)(k)},vr=(e,i,l)=>{const[c]=(0,s.useState)(l),w=(0,s.useRef)(0);return(0,s.useEffect)(()=>{c&&w.current>=1||w.current>=2||(Qs(e,i,l,0),w.current+=1)},[!!l]),c||l},_r=E.Ay.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-six6tj-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);overflow-x:hidden;&::-webkit-scrollbar{display:block;width:4px;height:4px;}.member-list.use-virtualized-list{height:calc(100% - 10px);width:410px;.members{height:100%;.virtualized-list{&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}}}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],fe.gE,fe.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1),wr=e=>{const{theme:i,keyword:l,source:c,caption:w,permissionScope:_,assignedMembers:x,unassignedMembers:k,outerMember:j,onPermissionChange:z,hostType:Z,handleClose:Q}=e,A=(0,m.d4)(Ne.wA),ae=(0,m.d4)(Ne.cb),oe=(0,m.d4)(Ne.WR),{settings:L,cid:ie}=A,{seatsTaken:le,totalSeats:ge}=(0,mr.TF)(A)||{},he=vr(oe,ie,l);let ye=!1;(L.invite_permission&&L.invite_permission[0]==="all"||ae.isManager)&&(ye=!0);const U=()=>{const Ze={mode:"org",orgCid:A.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if(Z==="proto")MB.global.popupHelper.chargeAsync(Ze),Q&&Q();else{const Ue="/workspace/"+A.cid+"/admin/order?payment_param="+(0,Nt._)(Ze);if(er()){location.pathname=Ue;return}(0,dt.JW)(Ue)}},xe=(0,s.useMemo)(()=>k.filter(Ze=>Ze.name&&Ze.name.includes(l)||Ze.mobile&&Ze.mobile.includes(l)||Ze.email&&Ze.email.includes(l)),[l,k]),we=()=>{ye&&br(oe,ie,he,!0)},be=(Ze,Ue)=>{z(Ze,Ue),Qs(oe,ie,he,1),j&&Qs(oe,ie,he,2,{invitor_role:ae==null?void 0:ae.roleName,invitee_role:Ue}),Qs(oe,ie,he,3)},Pe=!xe||xe.length<1,Le=j?[j]:[];return(0,r.jsxs)(_r,{className:"overlay-adding-member sharing",children:[(0,r.jsxs)("div",{className:se()("overlay-content",!j&&Pe&&"no-members"),children:[!Pe&&(0,r.jsx)(Go,{theme:i,caption:l?null:I18N.imockSharing.unjoined,expandable:!1,className:se()(l&&"invite"),permissionScope:_,currentOrg:A,memberList:xe,isResetPermission:!0,onPermissionChange:be,isUseVirtualizedRender:!0},"filtered-unassigned-members"),Pe&&(0,r.jsx)(fr,{theme:i,caption:w,outerMembers:Le,canInvite:ye,isSharing:!0,handleClickInviteMember:we})]}),(0,r.jsxs)("footer",{className:"overlay-footer",children:[(0,r.jsxs)("span",{className:"seats",children:["\u5DF2\u5360\u7528\u5E2D\u4F4D/\u4F01\u4E1A\u603B\u5E2D\u4F4D\u6570\uFF1A",le,"/",ge]}),!n.g.ENV.IS_ON_PREMISES&&(0,r.jsx)(hn.Oc,{type:"primary",size:"tiny",corner:"soft",onClick:U,children:I18N.imockSharing.add_team_seat})]})]})},Cr=(0,s.memo)(wr),Sr=E.Ay.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-th5siy-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}.member-manager{cursor:default;margin-left:10px;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.title-close{margin-right:20px;cursor:pointer;.svg-icon{color:",";&:hover{color:",";}&:active{color:",";}}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_L1,fe.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,fe.gE),Mr=e=>{const{theme:i,from:l,caption:c,targetCid:w,permissionScope:_,captionTipType:x,isFolder:k=!1,isAllowSetCollaborators:j,isShowInheritedCollaborators:z=!1,handleBackSharingHandel:Z,onChangeMembersAccess:Q,handleClose:A,hostType:ae,isOnlyMemberManager:oe=!1,currentOrg:L}=e,[ie,le]=(0,s.useState)(""),[ge,he]=(0,s.useState)(null),[ye,U]=(0,s.useState)(!1),{currentMembers:xe,inheritedMembers:we,joinedMembers:be,unjoinedMembers:Pe,assignedMembers:Le,unassignedMembers:Ze,userCurrentScopePermisson:Ue,isOnlyOneManager:$e}=bt(_,w),st=xt(_,w,l),it=async(vt,an)=>{await st(vt,an),Q&&Q(vt,an)};let at=xe,St=Le,jt=Ze;const Pt=Ue.isMember,Bt=j&&Pt,Yt=!ye&&Pt;j&&!z&&(at=be,St=be,jt=Pe);const gt=(0,s.useCallback)(()=>{U(!1),le(""),he(null)},[]),Tt=(0,s.useCallback)(vt=>{le(vt),he(null),vt&&U(!0)},[]),Dt=(0,s.useCallback)(async vt=>{if(!n.g.ENV.IS_ON_PREMISES&&(le(vt),vt)){const an=jt.find(Jt=>Jt.email===vt.trim()||Jt.mobile===vt.trim()),ns=St.find(Jt=>Jt.email===vt.trim()||Jt.mobile===vt.trim());if(an||ns)return;const ss=Xn.test(vt.trim()),Cn=zn.test(vt.trim());let ln=null;if(ss?ln=await ys(vt.trim()):Cn&&(ln=await ys(null,vt.trim())),ln){let Jt=null;ln.user?(Jt=ln.user,Jt.name=I18N.imockSharing.to_be_invited,Jt.cid="outer"):Jt={avatar:"/images/avatar.png",cid:vt,email:vt,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},he(Jt)}}},[]),en=(0,s.useCallback)(()=>{if(!(oe&&!ye)){if(le(""),he(null),ye){U(!1);return}Z()}},[ye,U,Z]),ft=(0,s.useCallback)(()=>{U(!0)},[U]);return(0,r.jsxs)(Sr,{className:se()("ProjectCollaborators sharing",""+i,{isInviteOverlayOpen:!0}),children:[(0,r.jsxs)("div",{className:"nav-header",children:[(0,r.jsxs)("div",{className:"title-left",children:[(0,r.jsxs)("div",{className:se()("title-left-back",{"member-manager":oe&&!ye}),onClick:en,children:[oe?ye&&(0,r.jsx)(Re.C,{name:"sharing/nav_back",size:32}):(0,r.jsx)(Re.C,{name:"sharing/nav_back",size:32}),(0,r.jsx)("div",{className:"nav-title",children:ye?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!ye&&(0,r.jsx)(qn,{tipType:x,position:"left",isOnlyMemberManager:oe})]}),oe&&(0,r.jsx)("div",{className:"title-close",onClick:A,children:(0,r.jsx)(Re.C,{size:24,name:"sharing/close"})})]}),Bt&&(0,r.jsx)("div",{className:se()("search"),children:(0,r.jsx)(hr,{value:ie,onChange:Tt,onKeyPress:Dt})}),(0,r.jsx)("div",{className:se()("modal-content",Bt&&"modal-content-show-search"),children:ye?(0,r.jsx)(Cr,{theme:i,permissionScope:_,currentOrg:L,unassignedMembers:jt,assignedMembers:St,outerMember:ge,keyword:ie,caption:c,onClose:gt,onPermissionChange:it,handleClose:A,hostType:ae}):(0,r.jsxs)("div",{className:se()("collaborators",ye&&"in-invite-overlay"),children:[j&&(0,r.jsx)(Go,{theme:i,caption:I18N.imockSharing.project_collaborators,permissionScope:_,currentOrg:L,memberList:at,isOnlyOneManager:$e,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:it,onClickInviteButton:ft,isShowInviteButton:Yt},"current-collaborators"),z&&(0,r.jsx)(Go,{theme:i,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:k,readOnly:!0,permissionScope:_,currentOrg:L,memberList:we,onPermissionChange:it,className:"inherited-members",onClickInviteButton:ft,isShowInviteButton:Yt},"inherited-collaborators")]})}),(0,r.jsx)(Ao,{})]})},Nr=(0,s.memo)(Mr);function Ir(e){const{theme:i,targetCid:l,isSharing:c,handleBackSharingHandel:w,onChangeMembersAccess:_,handleClose:x,hostType:k,isOnlyMemberManager:j,currentOrg:z}=e,Q=(0,m.d4)(Ne._B).get(l),A=nt(Q==null?void 0:Q.team_cid);return!Q||A<0?null:(0,r.jsx)(Nr,{theme:i,targetCid:l,caption:Q.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:A>=1,captionTipType:ke.p.Project,currentOrg:z,permissionScope:ke.W.Project,isSharing:c,handleBackSharingHandel:w,onChangeMembersAccess:_,handleClose:x,hostType:k,isOnlyMemberManager:j})}const kr=(0,s.memo)(Ir);var Er=n(12211);const jr=e=>{const{user:i,initData:l,currentProject:c,members:w,dispatch:_}=e,x=c==null?void 0:c.cid;return(0,s.useEffect)(()=>{(async j=>{_({type:"entry:projectAccess:initProjectData",payload:{initData:l,members:w}})})(x)},[_,l,w,x,i]),i!=null&&i.id?(0,r.jsx)(kr,{targetCid:x,isSharing:!0,...e}):null},Tr=(0,Er.Mz)([],()=>({})),Ar=(0,m.Ng)(e=>Tr(e))(jr);var Lr=n(65825),sr=n(5743),Or=n(33236);function Pr(e){const{getIframeContentHeight:i,handleChangeMembersAccess:l,handleClose:c}=e,w=(0,m.wA)(),_=(0,m.d4)(d.query.getProject),x=(0,m.d4)(d.query.getMembers),k=(0,m.d4)(d.query.getTheme),j=(0,m.d4)(d.query.getTopPageIndex),z=(0,m.d4)(d.query.getHostType),Z=(0,m.d4)(d.query.getTabIndex),Q=(0,m.d4)(d.query.getMainPage),A=(0,m.d4)(d.query.getLoading),ae=(0,m.d4)(d.query.getInitData),oe=(0,m.d4)(d.query.getOrg),L=(0,m.d4)(d.query.getUser),ie=(0,m.d4)(d.query.getIsEditMode),le=(0,m.d4)(d.query.getIsOnlyMemberManager),[ge,he]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const be=(0,rn.fV)();if(be){const{mdWMMktList:Pe,mtWMMktList:Le,noWMMktList:Ze}=be,Ue=[...Pe,...Le,...Ze];Ue.length&&(0,Ms.q)(Ue).then($e=>{if($e.mdWMMktList.length>0||$e.mtWMMktList.length>0){if(!(0,Zn._5)())return;he(!0)}})}},[]);const[ye,U]=(0,s.useState)(282);(0,s.useEffect)(()=>{let be=619;Q!=="access"&&(Z===0&&j==="edit"?be=212:(j==="embed"||j==="qrCode"||Z===0&&j==="setting")&&(be=380)),ge&&(be+=37),U(be),z!=="proto"&&i(be)},[z,Z,j,Q,i,ie,ge]);const xe=(0,s.useCallback)(()=>{w({type:d.entryKey["sharing:init"],payload:{mainPage:"share"}})},[w]);(0,s.useEffect)(()=>{w({type:d.entryKey["sharing:projectAccess:init"]})},[Q,w]);const we=(0,s.useCallback)(async(be,Pe)=>{l&&l(be,Pe)},[l]);return A?(0,r.jsx)(sr.A,{className:se()("sharingBoxV2",""+k,"loading"),children:(0,r.jsx)(Lr.A,{})}):(0,r.jsxs)(sr.A,{className:se()("sharingBoxV2",""+k,z==="iframe"&&"in-iframe"),style:{height:ye+"px"},id:"v8-share-page",children:[Q==="share"?(0,r.jsx)(vn,{}):(0,r.jsx)(Ar,{theme:k,user:L,currentProject:_,members:x,initData:ae,currentOrg:oe,handleBackSharingHandel:xe,onChangeMembersAccess:we,hostType:z,handleClose:c,isOnlyMemberManager:le}),(0,r.jsx)(Or.r,{})]})}var Dr=n(34860);const Rr=e=>{let{theme:i,org:l=null,user:c,project:w,flatKey:_,members:x=[],hostType:k="proto",screenMetaList:j,hostSharingData:z,projShareToEdit:Z="",handleClose:Q,isOnlyMemberManager:A=!1,hostCurrentScreen:ae}=e;const oe=H();let L=!0;k!=="iframe"&&(L=(0,Dr.OB)());const ie=Z?1:0;oe.dispatch({type:d.entryKey["sharing:init"],payload:{project:w,theme:i,user:c,org:l,flatKey:_,hostType:k,members:x,screenMetaList:j,hostSharingData:z,isEditMode:L,tabIndex:ie,projShareToEdit:Z,hostCurrentScreen:ae}});const le=(0,s.useCallback)(he=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:he}}),"*")},[]),ge=(0,s.useCallback)((he,ye)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:he,value:ye}}),"*")},[]);return k==="iframe"&&A&&(oe.dispatch({type:d.entryKey["sharing:init"],payload:{mainPage:"access",isOnlyMemberManager:!0}}),le(585)),(0,s.useEffect)(()=>{if(k==="iframe"&&!A&&le(212),!w)return;const{cid:he}=w;(async()=>{if(!w)return;const{result:{result:U},statusOk:xe}=await(0,O.QC)(he);xe&&oe.dispatch({type:d.entryKey["sharing:init"],payload:{canEditByUser:U}})})()},[k,le,w,oe]),(0,r.jsx)(m.Kq,{store:oe,children:(0,r.jsx)(E.NP,{theme:te.A[i],children:(0,r.jsx)(q.$,{children:(0,r.jsx)(Pr,{getIframeContentHeight:le,handleChangeMembersAccess:ge,handleClose:Q})})})})}},76844:(Ce,ce,n)=>{"use strict";n.d(ce,{CF:()=>I,CZ:()=>u,Cj:()=>M,Rc:()=>G,Sc:()=>V,oE:()=>R,ox:()=>ee,pf:()=>W,sq:()=>de});var s=n(19481),p=n(12603);const N=function(v,C,f){return f===void 0&&(f=!1),{level:v,roleName:C,isInherited:f,isOwner:v>=s.zB.OWNER,isSuperManager:v>=s.zB.SUPERMANAGER,isManager:v>=s.zB.MANAGER,isMember:v>=s.zB.MEMBER,isViewer:v>=s.zB.VIEWER,isLimiter:v===s.zB.LIMITER,isBanned:v===s.zB.BANNED,isUnknown:v===s.zB.UNKNOWN}},u=N(s.zB.UNKNOWN),B=N(s.zB.UNJOINED),ee=(v,C)=>{if(!C||C.length<=0)return null;const f=C.find(y=>{let{user_id:h,unsign_remark:b}=y;return Number(h)===Number(v)||b===v});return f||null},V=v=>v?N(s.p_[v.role],v.role):N(s.zB.UNKNOWN),D=(v,C)=>{if(!v)return[];let f=[],y=v,h=C.get(y);for(;h&&!h.root_project;)f=f.concat(h.permissions),y=h.parent_cid,h=C.get(y);return f},X=(v,C,f)=>{let y=D(v,C);return y=y.concat(f).reverse(),y=y.filter(h=>h.role!=="space_limiter"),y.map(h=>{const b=folderInheritePermissionRoleFixMap[h.role];return b?{...h,role:b,inherited:!0}:{...h,inherited:!0}})},M=(v,C,f)=>{let y=D(v,C);return y=y.concat(f).reverse(),y=y.filter(h=>h.role!=="space_limiter"),y.map(h=>{const b=s.OO[h.role];return b?{...h,role:b,inherited:!0}:{...h,inherited:!0}})},R=v=>{const{orgPermissions:C,userId:f}=v;if(!f||!C||C.length<1)return N(s.zB.UNKNOWN);const y=ee(f,C);return y?N(s.p_[y.role],y.role):N(s.zB.UNKNOWN)},de=v=>{const{spacePermissions:C,userId:f}=v;if(!f||!C||C.length<1)return N(s.zB.UNKNOWN);const y=ee(f,C);return y?N(s.FU[y.role],y.role):N(s.zB.UNKNOWN)},O=v=>{const{userId:C,orgPermissions:f,spacePermissions:y,currentFolder:h,folderListMap:b}=v;if(!C||!h)return N(permissionLevels.UNKNOWN);const{org_cid:S,space_cid:T}=h;if(!S&&!T)return N(permissionLevels.OWNER,"team_owner");if(!y||y.length<1)return N(permissionLevels.UNKNOWN);const{isRoot:Y,root_project:d}=h;if(Y||d){const E=de({spacePermissions:y,userId:C});return E.roleName==="space_limiter"?{...R({orgPermissions:f,userId:C}),isLimiter:!0}:E}const K=h.permissions||[],P=X(h.parent_cid,b,y),H=Object.values(Object.fromEntries([...P,...K].map(E=>[E.user_id,E]))),m=ee(C,H);return m?N(folderPermissionLevelsMap[m.role],m.role,m.inherited):N(permissionLevels.UNKNOWN)},ue=v=>{const{userId:C,spacePermissions:f,currentProject:y,folderListMap:h}=v;if(!C||!y)return N(permissionLevels.UNKNOWN);const{space_cid:b}=y;if(!b)return N(permissionLevels.OWNER,"project_owner");if(!f||f.length<1)return N(permissionLevels.UNKNOWN);const S=y.permissions||[],T=M(y.team_cid,h,f),Y=Object.values(Object.fromEntries([...T,...S].map(K=>[K.user_id,K]))),d=ee(C,Y);return d?N(projectPermissionLevelsMap[d.role],d.role,d.inherited):N(permissionLevels.UNKNOWN)},W=function(v,C,f){return f===void 0&&(f=!1),C?typeof C[v]<"u"?N(C[v],v,f):N(s.zB.UNJOINED):N(s.zB.UNKNOWN)},G=v=>!v||v.length<1?new Map:v.reduce((C,f)=>C.set(Number(f.user_id),f),new Map),I=v=>{const{permissionsMap:C,userId:f,permissionScope:y}=v;if(!f||!C||C.size<1)return N(s.zB.UNKNOWN);const{role:h,inherited:b}=C.get(Number(f))||{};if(!h)return N(s.zB.UNKNOWN);let S=null;switch(y){case p.W.Org:S=s.p_;break;case p.W.OrgSpace:S=s.FU;break;case p.W.Folder:S=s.lY;break;case p.W.Project:S=s.au;break;default:break}return W(h,S,b)}},79186:(Ce,ce,n)=>{"use strict";n.d(ce,{eB:()=>m,Ay:()=>H});var s=n(38502),p=n(69623),N=n(25582),u=n.n(N),B=n(27992),ee=n(28322),V=n.n(ee),D=n(89775),X=n.n(D),M=n(63986),R=n.n(M),de=n(37862),O=n.n(de),ue=n(51582),W=n(68677),G=n(69368),I=n(35603),v=n(67787);const C=v.Ay.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-grbgid-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),f=v.Ay.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-grbgid-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),y=v.Ay.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-grbgid-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var h=n(72214);function b(te,ne,se){return(ne=S(ne))in te?Object.defineProperty(te,ne,{value:se,enumerable:!0,configurable:!0,writable:!0}):te[ne]=se,te}function S(te){var ne=T(te,"string");return typeof ne=="symbol"?ne:ne+""}function T(te,ne){if(typeof te!="object"||!te)return te;var se=te[Symbol.toPrimitive];if(se!==void 0){var fe=se.call(te,ne||"default");if(typeof fe!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ne==="string"?String:Number)(te)}const Y="IBOT_SELECT_MENU_ROOT",d={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},K=document.getElementById(Y)||Object.assign(document.createElement("div"),{id:Y}),P=document.body;P.contains(K)||P.appendChild(K);class H extends s.PureComponent{constructor(){super(...arguments),b(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),b(this,"set$select",ne=>this.setState({$select:ne})),b(this,"open",()=>this.setState({isOpen:!0})),b(this,"close",()=>this.setState({isOpen:!1})),b(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),b(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),b(this,"onChange",async ne=>{const{onChange:se,beforeOnChange:fe}=this.props,Oe=()=>{this.close(),se(ne)};if(!fe){this.setState({value:ne},Oe);return}if(await fe(ne)){this.setState({value:ne},Oe);return}Oe()}),b(this,"onSelect",async ne=>{let{currentTarget:se}=ne;const{value:fe}=this.props,{canSelect:Oe}=this;await this.onChange(Oe?se.dataset.value:fe)})}static getDerivedStateFromProps(ne,se){let{prevProps:fe,value:Oe}=se;return R()(fe,ne)?null:{prevProps:ne,value:ne.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}componentWillUnmount(){window.removeEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:ne,disabled:se}=this.props;return ne||se}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:ne,readOnly:se}=this;return!ne&&!se}get displayText(){const{optionList:ne,placeholder:se,optionLabelProp:fe}=this.props,{value:Oe}=this.state,ke=(ne.find(Re=>X()(Re)&&Re.slice(0).some(mt=>(0,G.o3)(mt,Oe)))||ne).find(Re=>!X()(Re)&&(0,G.o3)(Re,Oe));return ke?(0,G.Oi)(ke,fe):se||d[this.props.lang].select_placeholder}render(){const{size:ne,theme:se,unstyled:fe,className:Oe,menuX:Ye}=this.props,{isOpen:ke,$select:Re,value:mt}=this.state,{isDisabled:De,readOnly:J,canSelect:$}=this,me=(0,G.Hn)([se==="core"?"CoreSelect":"Select",ne,fe&&"unstyled",Oe,ke&&"is-open",De&&"is-disabled",J&&"readonly"]);return(0,h.jsxs)(C,{className:me,role:"listbox",ref:this.set$select,children:[(0,h.jsx)("button",{type:"button",onClick:this.toggle,disabled:De,children:(0,h.jsx)(W.A,{children:this.displayText})}),typeof this.props.arrowSvg=="string"?(0,h.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:this.props.arrowSvg}}):(0,h.jsx)("span",{className:"caret",children:this.props.arrowSvg}),(0,h.jsx)(m,{isOpen:ke,...this.props,value:mt,$select:Re,canSelect:$,onChange:this.onSelect,onClose:this.close,menuX:Ye})]})}}b(H,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),menuTheme:u().oneOf(["core","plain","check"]),unstyled:u().bool,className:u().string,menuClassName:u().string,lang:u().string,placeholder:u().string,optionList:u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,value:u().any,isDisabled:u().bool}),u().arrayOf(u().oneOfType([u().node,u().shape({label:u().node,value:u().any,isDisabled:u().bool})]))])).isRequired,value:u().oneOfType([u().number,u().string]),isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func,menuX:u().oneOf(["left","center","right"]),optionLabelProp:u().string,arrowSvg:u().oneOfType([u().string,u().node])}),b(H,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left",arrowSvg:G.t4.rH});class m extends s.PureComponent{constructor(){super(...arguments),b(this,"state",{isDownward:!0}),b(this,"portal",(0,G.ep)(K,"SelectMenuPortal")),b(this,"menuBaseRef",(0,s.createRef)()),b(this,"position",ne=>{const{$select:se,menuX:fe}=this.props,{menuBaseRef:{current:Oe}}=this;if(ne){const ke=V()(ne,"target");if(ke&&O()(ke)&&ke.matches(".SelectMenu"))return}const{isDownward:Ye}=(0,I.d)({$menuBase:Oe,$opener:se,menuX:fe,shouldSetMaxHeight:!0});this.setState({isDownward:Ye})}),b(this,"onChange",ne=>{const{onChange:se}=this.props,{isDownward:fe}=this.state,Oe=ne.currentTarget,Ye=Oe.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!Oe||!Ye)return this.onlose();const{top:ke,bottom:Re}=Oe.getBoundingClientRect(),{top:mt,bottom:De}=Ye.getBoundingClientRect();return fe&&ke>=mt||!fe&&Re<=De?Oe.classList.contains("title")?void 0:se(ne):this.onClose()}),b(this,"onClose",()=>{const{onClose:ne}=this.props;ne()}),b(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:ne}}=this,se=(0,G.$)("li[role=option].is-active",ne);se&&se.scrollIntoView({block:"start"})}),b(this,"onClickOutside",ne=>{let{target:se}=ne;const{$select:fe}=this.props,Oe=!K.contains(se),Ye=se.closest("label"),ke=Ye&&Ye.contains(fe);Oe&&!ke&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:ne}}=this;(0,G.sA)((0,G.$)(".SelectMenu",ne))}componentDidUpdate(ne){let{isOpen:se}=ne;const{isOpen:fe}=this.props;!se&&fe&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,p.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:ne,isDisabled:se,menuTheme:fe,menuClassName:Oe,menuX:Ye,optionList:ke,lang:Re,emptyMsg:mt,value:De,canSelect:J}=this.props,{isDownward:$}=this.state,me=ke.length===0,Me=(0,G.Hn)([fe==="core"?"CoreSelectMenu":fe==="check"?"CheckSelectMenu":"SelectMenu",Oe,"x-"+Ye,ne&&"is-open",$?"is-downward":"is-upward",se&&"is-disabled",me&&"is-empty",J?"can-select":"cant-select"]);return(0,h.jsx)(f,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,h.jsxs)(y,{className:Me,onTransitionEnd:this.onTransitionEnd,children:[me?(0,h.jsx)("li",{className:"SelectOption empty-msg",children:mt||d[Re].select_empty_msg}):ke.map((Ee,Ge)=>X()(Ee)?(0,h.jsx)(E,{menuTheme:fe,optionList:Ee,value:De,onChange:this.onChange},Ge):(0,h.jsx)(q,{menuTheme:fe,isActive:(0,G.o3)(Ee,De),option:Ee,isDisabled:Ee.isDisabled,onChange:this.onChange},Ge)),ne&&(0,h.jsx)(B.A,{target:document,onClick:(0,B.t)(this.onClickOutside,{capture:!0})}),ne&&(0,h.jsx)(B.A,{target:document,onScroll:(0,B.t)(this.position,{capture:!0})})]})})}}b(m,"propTypes",{...H.propTypes,isOpen:u().bool,canSelect:u().bool,onChange:u().func,onClose:u().func,$select:u().instanceOf(Element)}),b(m,"defaultProps",{isOpen:!1});function E(te){let{value:ne,optionList:[se,...fe],menuTheme:Oe,onChange:Ye}=te;return(0,h.jsxs)("li",{className:"SelectGroup",children:[(0,h.jsx)(W.A,{className:"title",onClick:Ye,children:se}),(0,h.jsx)("ul",{children:fe.map((ke,Re)=>(0,h.jsx)(q,{menuTheme:Oe,option:ke,isActive:(0,G.o3)(ke,ne),isDisabled:ke.isDisabled,onChange:Ye},Re))})]})}E.propTypes={optionList:u().array,onChange:u().func,menuTheme:u().string,value:u().string};function q(te){let{option:ne,isActive:se,isDisabled:fe,menuTheme:Oe,onChange:Ye}=te;const ke=(0,G.Hn)(["SelectOption",se&&"is-active",fe&&"is-disabled"]),Re=(0,G.Oi)(ne),mt=(0,G.nE)(ne);return(0,h.jsxs)("li",{role:"option","data-value":mt,className:ke,onClick:fe?void 0:Ye,children:[(0,h.jsx)(W.A,{children:Re}),Oe==="check"&&se&&(0,h.jsx)(ue.A,{name:"check"})]})}q.propTypes={option:u().oneOfType([u().node,u().object]),isActive:u().bool,isDisabled:u().bool,menuTheme:u().string,onChange:u().func}},79458:(Ce,ce,n)=>{"use strict";n.d(ce,{Os:()=>M,Tw:()=>R,ft:()=>de});var s=n(38502),p=n(72214);const N="/mb-static/2308/loading.gif",u="/mb-static/2308/loading-mo.gif",B=(O,ue)=>ue?"."+O:O,ee=O=>(0,p.jsx)("img",{className:O.className,alt:"Loading...",src:B(O.isMockitt?u:N,O.isHtmlZip)}),V=O=>(0,p.jsx)("img",{className:O.className,alt:"Loading...",src:B(ENV.IS_WONDER_SHARE?u:N,O.isHtmlZip)}),D=O=>(0,p.jsx)("img",{className:O.className,alt:"Loading...",src:B(u,O.isHtmlZip)});var X=n(68818);const M=n.j!=15?(0,s.memo)(O=>(0,p.jsx)(ee,{...O,isHtmlZip:(0,X.FM)()})):null,R=n.j!=15?(0,s.memo)(O=>(0,p.jsx)(V,{...O,isHtmlZip:(0,X.FM)()})):null,de=(0,s.memo)(O=>(0,p.jsx)(D,{...O,isHtmlZip:(0,X.FM)()}))},83414:(Ce,ce,n)=>{"use strict";n.d(ce,{gE:()=>p,nM:()=>s,nQ:()=>N});const s="local_sharing_copy_url_v8_1",p=50,N={public:"share_anyone_view",restricted:"org_members_only"}},83557:(Ce,ce,n)=>{"use strict";n.d(ce,{GT:()=>B,Nc:()=>N,lq:()=>u});var s=n(62732),p=n(55338);const N=async(ee,V,D,X)=>{const[M,R]=await(0,s.Vz)(p.r,ee),de=Object.assign({upperType:"project-basic",type:"proto2",treLen:String(R.byteLength),treRawLen:String(M)},V&&{teamCid:V},X&&{spaceCid:X}),O="/flpak/w-paknewft?"+new URLSearchParams(de),ue=await fetch(O,{method:"POST",body:R,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(D))}});if(!ue.ok)throw Object.assign(new Error("failed to create new flpak: "+O),{message:await ue.text(),status:ue.status});return ue.json()},u=async(ee,V,D)=>{const[X,M]=await(0,s.Vz)(p.r,ee),R="/flpak/w-pakfcgmkt?"+new URLSearchParams({upperType:"combo-group",upperAction:"create-reviewable-project",type:"proto2",teamCid:V,treLen:String(M.byteLength),treRawLen:String(X)}),de=await fetch(R,{method:"POST",body:M,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(D))}});if(!de.ok)throw Object.assign(new Error("failed to create new fcgmkt: "+R),{message:await de.text(),status:de.status});return de.json()},B=async(ee,V,D)=>{const[X,M]=await(0,s.Vz)(p.r,ee),R="/flpak/w-paksclibft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:V,upperCid:D,treLen:String(M.byteLength),treRawLen:String(X)}),de=await fetch(R,{method:"POST",body:M,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify({}))}});if(!de.ok)throw Object.assign(new Error("failed to create new sclib: "+R),{message:await de.text(),status:de.status});return de.json()}},84934:(Ce,ce,n)=>{var s=n(24469),p=n(59696),N=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,u="\\u0300-\\u036f",B="\\ufe20-\\ufe2f",ee="\\u20d0-\\u20ff",V=u+B+ee,D="["+V+"]",X=RegExp(D,"g");function M(R){return R=p(R),R&&R.replace(N,s).replace(X,"")}Ce.exports=M},84957:(Ce,ce,n)=>{"use strict";n.d(ce,{_:()=>s});const s=N=>encodeURIComponent(JSON.stringify(N)),p=N=>JSON.parse(decodeURIComponent(N))},85378:(Ce,ce,n)=>{var s=n(45308),p=n(62783),N=n(59483);function u(B){return N(p(B,void 0,s),B+"")}Ce.exports=u},88856:(Ce,ce,n)=>{"use strict";n.d(ce,{eY:()=>h,At:()=>f,pU:()=>y,DV:()=>b,Ay:()=>C});var s=n(95549),p=n(38502);if(n.j!=15)var N=n(37342);var u=n(18381),B=n(67787);const ee=(0,B.DU)(["div.notice-tips-container{z-index:9999;.notice-tips{min-height:38px;p{color:",";}:not(.pure-svg-icon).svg-icon{fill:",";}&.success{.tip-svg{path:nth-child(1){fill:",";}}}&.warning{.tip-svg{path:nth-child(1){fill:",";}}}&.error{.tip-svg{circle{fill:",";}}.button-a{cursor:pointer;}.button-p{margin-left:0;}}&.super{background-color:",";p{margin:0 16px 0 4px;}.times-icon{path{fill:",";}}}}}"],S=>S.theme.color_text_btn,S=>S.theme.color_text_btn,S=>S.theme.color_success,S=>S.theme.color_warning,S=>S.theme.color_error,S=>S.theme.color_error,S=>S.theme.color_text_btn);var V=n(58315),D=n(51582),X=n(29523);const M=B.Ay.div.withConfig({displayName:"styles__StyledNoticeTips",componentId:"sc-1ehf3rt-0"})([".notice-tips{width:100%;height:100%;min-height:38px;padding:8px 16px;display:flex;align-items:center;font-size:14px;color:",";box-shadow:0 2px 8px 0 rgba(0,0,0,0.05),0 4px 12px 0 rgba(0,0,0,0.15);border-radius:6px;p{margin:0 0 0 4px;}&.info{background-color:",";p{margin:0 4px;}a{margin-left:12px;color:#80BCFF;&:hover{color:#A6D2FF;}}}&.success{background:",";box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);border-radius:6px;}&.warning{background-color:",";}&.error{background-color:",";}&.super{background-color:",";}&.loading{background-color:",";.tip-svg{animation:design-ani-spinning 1s infinite linear;fill:rgb(69,70,71);}}@keyframes design-ani-spinning{0%{transform:rotate(0deg);}100%{transform:rotate(359deg);}}.times-icon{width:20px;display:flex;flex-shrink:0;opacity:1;cursor:pointer;transition:opacity 0.15s ease-out;margin-left:16px;align-self:center;&:hover{opacity:1;}}.tip-svg{width:20px;height:20px;}}a{text-decoration:underline;color:",";&:hover{color:",";}}.fade{&-enter{transform:translateY(-50%);opacity:0;}&-enter-active{opacity:1;transform:translateY(0);transition:all 0.15s ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 0.25s ease-in-out;}&-exit-done{opacity:0;}}"],X.f.color_bg_white.value_light,X.f.color_btn_secondary_active.value_dark,X.f.color_btn_secondary_active.value_dark,X.f.color_btn_secondary_active.value_dark,X.f.color_btn_secondary_active.value_dark,X.f.color_error.value_light,X.f.color_btn_secondary_active.value_dark,X.f.color_text_link_normal.value_dark,X.f.color_text_link_hover.value_dark);var R=n(72214);const de={success:"design/toast/success",error:"design/toast/error",warning:"design/toast/warning",super:"design/toast/offline",loading:"design/toast/loading"};class O extends p.PureComponent{render(){const{isShow:T,type:Y,text:d,showClose:K,isReactDom:P,CustomChildComponent:H,svgName:m,onDisappear:E}=this.props;return(0,R.jsx)(M,{children:(0,R.jsx)(V.A,{in:T,timeout:2500,classNames:"fade",unmountOnExit:!0,children:(0,R.jsxs)("div",{className:"notice-tips "+Y,children:[m&&(0,R.jsx)(D.C,{name:m,className:"tip-svg",isColorPure:!0}),!m&&Y&&de[Y]&&(0,R.jsx)(D.C,{name:de[Y],className:"tip-svg",isColorPure:!0}),(0,R.jsxs)(p.Fragment,{children:[P?d:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("p",{dangerouslySetInnerHTML:{__html:d}}),(typeof H=="function"||typeof H=="object")&&(0,R.jsx)(H,{})]}),K&&(0,R.jsx)(D.C,{className:"times-icon",name:"general/times",onClick:E})]})]})})})}}(0,s.A)(O,"defaultProps",{isShow:!1,type:"info",showClose:!1,isReactDom:!1,svgName:""});const ue=B.Ay.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-1ewb7bf-0"})(["position:fixed;left:50%;top:56px;max-width:480px;transform:translateX(-50%);z-index:1052;"]);var W=n(69623);class G extends p.PureComponent{constructor(T){super(T),(0,s.A)(this,"timerId",null),(0,s.A)(this,"handleDisappear",()=>{typeof this.props.closeCallback=="function"&&this.props.closeCallback()}),this.el=document.createElement("div")}componentDidMount(){document.body.appendChild(this.el),this.props.isShow&&this.updateTimer()}componentDidUpdate(T,Y,d){const{isShow:K,id:P}=this.props,{isShow:H,id:m}=T;(P!==m&&K||K&&K!==H)&&this.updateTimer()}updateTimer(){this.timerId&&clearTimeout(this.timerId);const{duration:T}=this.props;this.timerId=T&&setTimeout(this.handleDisappear,T)}componentWillUnmount(){this.el&&document.body.contains(this.el)&&document.body.removeChild(this.el),this.timerId&&clearTimeout(this.timerId)}render(){const{isShow:T,type:Y,text:d,showClose:K,isReactDom:P,CustomChildComponent:H,svgName:m,className:E}=this.props;return(0,W.createPortal)(T&&(0,R.jsx)(ue,{className:E,children:(0,R.jsx)(O,{isShow:T,type:Y,showClose:K,onDisappear:this.handleDisappear,isReactDom:P,text:d,CustomChildComponent:H,svgName:m})}),this.el)}}(0,s.A)(G,"defaultProps",{text:"",isShow:!1,type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",id:"",duration:2e3,closeCallback:()=>null});const I=G,v={isShow:!1,text:"",type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",duration:2e3,id:""};class C extends p.PureComponent{constructor(T){super(T),(0,s.A)(this,"closeCallback",null),(0,s.A)(this,"handleDisappear",()=>{this.setState({isShow:!1}),typeof this.closeCallback=="function"&&this.closeCallback(),this.priority=0}),this.state=v,this.priority=0}componentDidMount(){MB.notice&&(this.prevNotice=MB.notice),MB.notice=T=>{let{text:Y,type:d="info",CustomChildComponent:K=void 0,duration:P=2e3,showClose:H=!1,isReactDom:m=!1,closeCallback:E=null,priority:q=0,svgName:te="",id:ne=Math.random().toString(36).slice(2),isShow:se=!0}=T;this.priority>q||(clearTimeout(this.timer),this.setState({isShow:se,text:Y,type:d,showClose:H,id:ne,isReactDom:m,CustomChildComponent:K,svgName:te,duration:P}),this.closeCallback=E,this.priority=q)}}componentWillUnmount(){this.setState({isShow:!1}),this.prevNotice&&(MB.notice=this.prevNotice)}render(){const{isShow:T,type:Y,duration:d,text:K,showClose:P,id:H,isReactDom:m,CustomChildComponent:E,svgName:q}=this.state;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(I,{className:"notice-tips-container",isShow:T,type:Y,text:K,id:H,duration:d,showClose:P,isReactDom:m,CustomChildComponent:E,svgName:q,closeCallback:this.handleDisappear}),(0,R.jsx)(ee,{})]})}}const f=S=>(0,p.memo)(()=>{const T=()=>(0,N.JW)("/hc/articles/393","_blank","noreferrer");return(0,R.jsx)("a",{style:{cursor:"pointer"},onClick:T,children:S})}),y=n.j!=15?(0,p.memo)(()=>{const S=(0,u.wA)(),T=()=>S({type:"toolbar:sharingManager:open"});return(0,R.jsx)("a",{onClick:T,children:I18N.ScreenPanel.share_panel})}):null,h=S=>(0,p.memo)(()=>{const T=()=>(0,N.JW)(I18N.link.link_article_business_font_state,"_blank","noreferrer");return(0,R.jsx)("a",{className:"button-a",onClick:T,children:S})}),b=S=>{let{onClick:T}=S;return(0,p.memo)(()=>{const Y=(0,u.wA)(),d=()=>{T&&T(Y)};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("a",{className:"button-a",onClick:d,children:I18N.dModule.network_api_error_2}),(0,R.jsx)("p",{className:"button-p",children:I18N.dModule.network_api_error_3})]})})}},89022:function(Ce){(function(ce,n){Ce.exports=n()})(this,function(){"use strict";return function(ce,n,s){n.prototype.isBetween=function(p,N,u,B){var ee=s(p),V=s(N),D=(B=B||"()")[0]==="(",X=B[1]===")";return(D?this.isAfter(ee,u):!this.isBefore(ee,u))&&(X?this.isBefore(V,u):!this.isAfter(V,u))||(D?this.isBefore(ee,u):!this.isAfter(ee,u))&&(X?this.isAfter(V,u):!this.isBefore(V,u))}}})},89208:(Ce,ce,n)=>{"use strict";n.d(ce,{n:()=>R,A:()=>de});var s=n(38502),p=n(53732),N=n.n(p),u=n(17307),B=n(83199),ee=n(71272),V=n(67787);const D=V.Ay.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-17e9w47-0"})(["display:flex;height:48px;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:none;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:transparent;}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}min-height:48px;padding:0 6px;.nav-item{font-size:13px;&.active{font-weight:bold;}}"],O=>O.theme.color_text_L3,O=>O.theme.color_text_L1,O=>O.theme.color_text_L1,O=>O.theme.color_text_L1,O=>O.theme.color_text_disabled01);var X=n(72214);const M=(0,s.memo)(O=>{let{activeIndex:ue=0,className:W,children:G,onTabChange:I}=O;return(0,X.jsx)(D,{className:N()(W),children:s.Children.map(G,(v,C)=>{const f={index:C,active:C===ue,onClick:I};return s.cloneElement(v,f)})})}),R=(0,s.memo)(O=>{let{className:ue,index:W,active:G,onClick:I,label:v,tooltip:C,isNew:f,disabled:y,tempDisabled:h,canMouseEnterChange:b=!1,children:S}=O;const T=(0,s.useRef)(null),Y=()=>{if(y)return h&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;I(W)},d=()=>{b&&(T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{Y==null||Y()},ee.w))},K=()=>{b&&T.current&&(clearTimeout(T.current),T.current=null)},P=(0,X.jsxs)("li",{className:N()("nav-item",{active:G},{disabled:y},ue),onClick:Y,onMouseEnter:d,onMouseLeave:K,children:[v&&(0,X.jsxs)("span",{className:"nav-label",title:v,children:[v,C&&C]}),f&&(0,X.jsx)(u.C,{name:"design/tab/new",className:"tabNewIcon"}),S]});return y?(0,X.jsx)(B.A,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:P}):P}),de=M},90108:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>v});var s=n(38502),p=n(67787),N=n(25582),u=n.n(N),B=n(63986),ee=n.n(B),V=n(69368);const D=p.Ay.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1pwp3tx-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),X=(0,p.Ay)(D).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1pwp3tx-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),M=p.Ay.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1pwp3tx-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var R=n(72214);function de(C,f,y){return(f=O(f))in C?Object.defineProperty(C,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):C[f]=y,C}function O(C){var f=ue(C,"string");return typeof f=="symbol"?f:f+""}function ue(C,f){if(typeof C!="object"||!C)return C;var y=C[Symbol.toPrimitive];if(y!==void 0){var h=y.call(C,f||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(C)}class W extends s.PureComponent{constructor(){super(...arguments),de(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),de(this,"onToggle",()=>{const{name:f,value:y,label:h,onToggle:b,onChange:S}=this.props,{isChecked:T}=this.state,{canToggle:Y}=this,d=Y?!0:T;this.setState({isChecked:d}),b(d,f,y||h),S(f,y||h,d)})}static getDerivedStateFromProps(f,y){let{prevProps:h,isChecked:b}=y;return ee()(h,f)?null:{prevProps:f,isChecked:f.isChecked}}get isDisabled(){const{isDisabled:f,disabled:y}=this.props;return f||y}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:f,readOnly:y}=this;return!f&&!y}render(){const{size:f,theme:y,className:h,label:b,name:S}=this.props,{isChecked:T}=this.state,{isDisabled:Y,readOnly:d}=this;return(0,R.jsxs)(X,{className:(0,V.Hn)([y==="core"?"CoreRadio":"Radio",f,h,T&&"is-checked",Y&&"is-disabled",d&&"readonly"]),children:[(0,R.jsx)("input",{type:"radio",defaultChecked:T,disabled:Y,name:S,onClick:this.onToggle}),(0,R.jsx)("span",{className:"Check-state"}),(0,R.jsx)("span",{className:"Check-label",children:b})]})}}de(W,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),className:u().string,label:u().any,name:u().string,value:u().any,isChecked:u().bool,isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func.isRequired,onToggle:u().func.isRequired}),de(W,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class G extends s.PureComponent{constructor(){super(...arguments),de(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),de(this,"state",{prevProps:this.props,value:this.props.value}),de(this,"createOnChangeHandler",(f,y,h)=>()=>{const{onToggle:b,onChange:S}=this.props,{value:T}=this.state,{canToggle:Y}=this,d=Y?y:T;this.setState({value:d}),b(d,f),S({name:f,value:d,idx:h})})}static getDerivedStateFromProps(f,y){let{prevProps:h,value:b}=y;return ee()(h,f)?null:{prevProps:f,value:f.value}}get isDisabled(){const{isDisabled:f,disabled:y}=this.props;return f||y}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:f,readOnly:y}=this;return!f&&!y}render(){const{size:f,theme:y,className:h,optionList:b}=this.props,{value:S}=this.state,{name:T,isDisabled:Y,readOnly:d}=this,K=(0,V.Hn)([y==="core"?"CoreRadioGroup":"RadioGroup",f,h,Y&&"is-disabled",d&&"readonly"]);return(0,R.jsx)(M,{className:K,children:b.map((P,H)=>P&&(0,R.jsx)(W,{name:T,size:f,theme:y,label:(0,V.Oi)(P),type:"radio",isChecked:(0,V.o3)(P,S),isDisabled:Y||P.isDisabled,readOnly:d,onChange:Y||P.isDisabled?void 0:this.createOnChangeHandler(T,(0,V.nE)(P),H)},H))})}}de(G,"propTypes",{size:u().oneOf(["regular","small"]),theme:u().oneOf(["core","plain"]),className:u().string,name:u().string,optionList:u().arrayOf(u().oneOfType([u().string,u().number,u().shape({label:u().any,value:u().any,isDisabled:u().bool})])).isRequired,value:u().oneOfType([u().number,u().string]),isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,onChange:u().func.isRequired,onToggle:u().func.isRequired}),de(G,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const I=(0,p.Ay)(G).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1x96wso-0"})([".Radio{color:",';input[type="radio"]{cursor:pointer;}&.is-checked{color:',";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],C=>C.theme.color_text_L2,C=>C.theme.color_text_L1,C=>C.theme.color_proto,C=>C.theme.color_bg_white,C=>C.theme.color_text_disabled01,C=>C.theme.color_bg_white,C=>C.theme.color_bg_white);class v extends s.PureComponent{render(){return(0,R.jsx)(I,{...this.props})}}},91752:(Ce,ce,n)=>{"use strict";n.d(ce,{Ay:()=>W});var s=n(38502),p=n(25582),N=n.n(p),u=n(45525),B=n.n(u),ee=n(51582),V=n(69368),D=n(67787);const X=D.Ay.button.withConfig({displayName:"styled__StyledButton",componentId:"sc-1p06iev-0"})(["&.RegularButton,&.PrimaryButton,&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 0.5em;height:2.125rem;font-size:0.875rem;border:1px solid;border-radius:2px;cursor:pointer;transition:all 0.2s ease-out;&:not(button){display:inline-flex;justify-content:center;align-items:center;}&:disabled{cursor:not-allowed;opacity:0.6;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}.svg-icon.loading{margin-right:0.5em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}}&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 1em;height:2.375rem;&.small{height:2em;}&:disabled{background-color:#f6f7f8;border-color:#dedee4;color:#c8cdd1;opacity:1;}}&.PrimaryCoreButton{background-color:#eb5648;&,&:link,&:visited{border-color:transparent;color:#fff;}&:enabled:hover,a&:hover{background-color:#ef776c;color:#fff;}&:enabled:active,a&:active{background-color:#bc4439;color:#e4b4b0;}}&.RegularCoreButton,&.SecondaryCoreButton{background-color:#fff;&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{border-color:#ffa39e;color:#ef776c;}&:enabled:active,a&:active{border-color:#e84030;color:#bc4439;}}&.TertiaryCoreButton{background-color:#fff;border-color:#c8cdd1;&,&:link,&:visited{color:#415058;}&:enabled:hover,a&:hover{background-color:#8d9ea7;border-color:#7d8694;color:#fff;}&:enabled:active,a&:active{background-color:#5b6b73;border-color:#415058;}}&.RegularButton{&,&:link,&:visited{color:#8d9ea7;}&:enabled:hover,a&:hover{color:#5b6b73;}&:disabled{opacity:0.6;}}&.PrimaryButton{background-color:#8d9ea7;border-color:transparent;&,&:link,&:visited{color:#fff;}&:enabled:hover,a&:hover{background-color:#5b6b73;color:#fff;}&:enabled:active,a&:active{color:rgba(255,255,255,0.6);}}&.TextButton,&.TextCoreButton{transition:all 0.1s ease-out;&,&:link,&:visited{color:#298df8;}&:disabled{cursor:not-allowed;opacity:0.6;}&:enabled:hover,a&:hover{color:#0d7ef7;text-decoration:underline;}.svg-icon.loading{margin-right:0.25em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}}&.TextCoreButton{&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{color:#ef776c;text-decoration:none;}&:enabled:active,a&:active{color:#bc4439;}}"]);var M=n(72214);function R(C,f,y){return(f=de(f))in C?Object.defineProperty(C,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):C[f]=y,C}function de(C){var f=O(C,"string");return typeof f=="symbol"?f:f+""}function O(C,f){if(typeof C!="object"||!C)return C;var y=C[Symbol.toPrimitive];if(y!==void 0){var h=y.call(C,f||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(C)}const ue={primary:"Primary",regular:"Regular",secondary:"Regular",tertiary:"Tertiary",text:"Text"};class W extends s.PureComponent{get className(){const{type:f,theme:y,size:h,className:b}=this.props,{isDisabled:S,isLoading:T}=this;return(0,V.Hn)(["Button",""+ue[f]+(y==="core"?"CoreButton":"Button"),h!=="regular"&&h,T&&"is-loading",S&&"is-disabled",b])}get isDisabled(){const{isDisabled:f,disabled:y}=this.props;return f||y}get isLoading(){const{isLoading:f,loading:y}=this.props;return f||y}render(){const{className:f,isLoading:y,isDisabled:h}=this,{iconType:b,icon:S,children:T,...Y}=this.props;return(0,M.jsx)(X,{className:f,disabled:h,onClick:d=>h&&d.preventDefault(),type:"button",...B()(Y,["className","type","theme","isDisabled","disabled","isLoading","loading"]),children:(0,M.jsxs)(M.Fragment,{children:[y&&(0,M.jsx)(ee.A,{name:"loading"}),S&&b==="svg"&&(0,M.jsx)(ee.A,{name:S}),T]})})}}R(W,"propTypes",{type:N().oneOf(["primary","regular","secondary","tertiary","text"]),size:N().oneOf(["regular","small"]),theme:N().oneOf(["core","plain"]),iconType:N().oneOf(["svg","dora","mb","icon","fa","md"]),icon:N().string,className:N().string,isDisabled:N().bool,disabled:N().bool,isLoading:N().bool,loading:N().bool,children:N().any,html:N().string}),R(W,"defaultProps",{type:"regular",size:"regular",theme:"plain",icon:"",className:"",isDisabled:!1});function G(C){return _jsx(W,{...C,theme:"core"})}function I(C){return _jsx(G,{...C,type:"primary"})}function v(C){return _jsx(G,{...C,type:"tertiary"})}},92114:(Ce,ce,n)=>{"use strict";n.d(ce,{A:()=>W});var s=n(38502),p=n(67787),N=n(25582),u=n.n(N),B=n(63986),ee=n.n(B),V=n(69368);const D=p.Ay.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-16h4tgy-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var X=n(72214);function M(G,I,v){return(I=R(I))in G?Object.defineProperty(G,I,{value:v,enumerable:!0,configurable:!0,writable:!0}):G[I]=v,G}function R(G){var I=de(G,"string");return typeof I=="symbol"?I:I+""}function de(G,I){if(typeof G!="object"||!G)return G;var v=G[Symbol.toPrimitive];if(v!==void 0){var C=v.call(G,I||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(G)}class O extends s.PureComponent{constructor(){super(...arguments),M(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),M(this,"toggle",I=>{let{target:v}=I;const{onChange:C}=this.props,{isChecked:f}=this.state,{isDisabled:y,canToggle:h}=this,b=h?!f:f;return v.blur(),this.setState({isChecked:b}),!y&&C(b)})}static getDerivedStateFromProps(I,v){let{prevProps:C}=v;return ee()(C,I)?null:{prevProps:I,isChecked:I.isChecked}}get isDisabled(){const{isDisabled:I,disabled:v}=this.props;return I||v}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:I,readOnly:v}=this;return!I&&!v}render(){const{size:I,readOnly:v,className:C,children:f,isIOS:y,isIOSReverse:h}=this.props,{isChecked:b}=this.state,{isDisabled:S}=this;return(0,X.jsxs)(D,{className:(0,V.Hn)(["Switch",y&&"Switch-IOS",h&&"Switch-IOS-NoTransform",I,b?"is-checked":"isnt-checked",S&&"is-disabled",v&&"readonly",C]),children:[(0,X.jsx)("button",{type:"button",disabled:S,onClick:this.toggle}),f]})}}M(O,"propTypes",{className:u().string,size:u().oneOf(["regular","small"]),isChecked:u().bool,isDisabled:u().bool,disabled:u().bool,readOnly:u().bool,isIOS:u().bool,isIOSReverse:u().bool,onChange:u().func,children:u().any}),M(O,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const ue=(0,p.Ay)(O).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-1wltq4q-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.regular{width:30px;height:14px;button{height:12px;width:12px;}}&.is-checked{&.small,&.regular{background:",";button{background:",";}}&.regular  button{transform:translate(15px,0);}}}"],G=>G.theme.color_text_disabled01,G=>G.theme.color_text_btn,G=>G.theme.color_proto,G=>G.theme.color_text_btn);class W extends s.PureComponent{render(){return(0,X.jsx)(ue,{...this.props})}}},96411:Ce=>{var ce="\\ud800-\\udfff",n="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",p="\\u20d0-\\u20ff",N=n+s+p,u="\\u2700-\\u27bf",B="a-z\\xdf-\\xf6\\xf8-\\xff",ee="\\xac\\xb1\\xd7\\xf7",V="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",D="\\u2000-\\u206f",X=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",M="A-Z\\xc0-\\xd6\\xd8-\\xde",R="\\ufe0e\\ufe0f",de=ee+V+D+X,O="['\u2019]",ue="["+de+"]",W="["+N+"]",G="\\d+",I="["+u+"]",v="["+B+"]",C="[^"+ce+de+G+u+B+M+"]",f="\\ud83c[\\udffb-\\udfff]",y="(?:"+W+"|"+f+")",h="[^"+ce+"]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",S="[\\ud800-\\udbff][\\udc00-\\udfff]",T="["+M+"]",Y="\\u200d",d="(?:"+v+"|"+C+")",K="(?:"+T+"|"+C+")",P="(?:"+O+"(?:d|ll|m|re|s|t|ve))?",H="(?:"+O+"(?:D|LL|M|RE|S|T|VE))?",m=y+"?",E="["+R+"]?",q="(?:"+Y+"(?:"+[h,b,S].join("|")+")"+E+m+")*",te="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ne="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",se=E+m+q,fe="(?:"+[I,b,S].join("|")+")"+se,Oe=RegExp([T+"?"+v+"+"+P+"(?="+[ue,T,"$"].join("|")+")",K+"+"+H+"(?="+[ue,T+d,"$"].join("|")+")",T+"?"+d+"+"+P,T+"+"+H,ne,te,G,fe].join("|"),"g");function Ye(ke){return ke.match(Oe)||[]}Ce.exports=Ye},96582:(Ce,ce,n)=>{"use strict";n.d(ce,{Ay:()=>W});var s=n(8509),p=n(18941),N=n(38502),u=n(69623);const B={disabled:!1},ee=N.createContext(null);var V=n(99129),D="unmounted",X="exited",M="entering",R="entered",de="exiting",O=function(G){(0,p.A)(I,G);function I(C,f){var y;y=G.call(this,C,f)||this;var h=f,b=h&&!h.isMounting?C.enter:C.appear,S;return y.appearStatus=null,C.in?b?(S=X,y.appearStatus=M):S=R:C.unmountOnExit||C.mountOnEnter?S=D:S=X,y.state={status:S},y.nextCallback=null,y}I.getDerivedStateFromProps=function(f,y){var h=f.in;return h&&y.status===D?{status:X}:null};var v=I.prototype;return v.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},v.componentDidUpdate=function(f){var y=null;if(f!==this.props){var h=this.state.status;this.props.in?h!==M&&h!==R&&(y=M):(h===M||h===R)&&(y=de)}this.updateStatus(!1,y)},v.componentWillUnmount=function(){this.cancelNextCallback()},v.getTimeouts=function(){var f=this.props.timeout,y,h,b;return y=h=b=f,f!=null&&typeof f!="number"&&(y=f.exit,h=f.enter,b=f.appear!==void 0?f.appear:h),{exit:y,enter:h,appear:b}},v.updateStatus=function(f,y){if(f===void 0&&(f=!1),y!==null)if(this.cancelNextCallback(),y===M){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this);h&&(0,V.F)(h)}this.performEnter(f)}else this.performExit();else this.props.unmountOnExit&&this.state.status===X&&this.setState({status:D})},v.performEnter=function(f){var y=this,h=this.props.enter,b=this.context?this.context.isMounting:f,S=this.props.nodeRef?[b]:[u.findDOMNode(this),b],T=S[0],Y=S[1],d=this.getTimeouts(),K=b?d.appear:d.enter;if(!f&&!h||B.disabled){this.safeSetState({status:R},function(){y.props.onEntered(T)});return}this.props.onEnter(T,Y),this.safeSetState({status:M},function(){y.props.onEntering(T,Y),y.onTransitionEnd(K,function(){y.safeSetState({status:R},function(){y.props.onEntered(T,Y)})})})},v.performExit=function(){var f=this,y=this.props.exit,h=this.getTimeouts(),b=this.props.nodeRef?void 0:u.findDOMNode(this);if(!y||B.disabled){this.safeSetState({status:X},function(){f.props.onExited(b)});return}this.props.onExit(b),this.safeSetState({status:de},function(){f.props.onExiting(b),f.onTransitionEnd(h.exit,function(){f.safeSetState({status:X},function(){f.props.onExited(b)})})})},v.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},v.safeSetState=function(f,y){y=this.setNextCallback(y),this.setState(f,y)},v.setNextCallback=function(f){var y=this,h=!0;return this.nextCallback=function(b){h&&(h=!1,y.nextCallback=null,f(b))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},v.onTransitionEnd=function(f,y){this.setNextCallback(y);var h=this.props.nodeRef?this.props.nodeRef.current:u.findDOMNode(this),b=f==null&&!this.props.addEndListener;if(!h||b){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var S=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],T=S[0],Y=S[1];this.props.addEndListener(T,Y)}f!=null&&setTimeout(this.nextCallback,f)},v.render=function(){var f=this.state.status;if(f===D)return null;var y=this.props,h=y.children,b=y.in,S=y.mountOnEnter,T=y.unmountOnExit,Y=y.appear,d=y.enter,K=y.exit,P=y.timeout,H=y.addEndListener,m=y.onEnter,E=y.onEntering,q=y.onEntered,te=y.onExit,ne=y.onExiting,se=y.onExited,fe=y.nodeRef,Oe=(0,s.A)(y,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return N.createElement(ee.Provider,{value:null},typeof h=="function"?h(f,Oe):N.cloneElement(N.Children.only(h),Oe))},I}(N.Component);O.contextType=ee,O.propTypes={};function ue(){}O.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ue,onEntering:ue,onEntered:ue,onExit:ue,onExiting:ue,onExited:ue},O.UNMOUNTED=D,O.EXITED=X,O.ENTERING=M,O.ENTERED=R,O.EXITING=de;const W=O},97974:(Ce,ce,n)=>{"use strict";n.d(ce,{in:()=>ue,Yr:()=>W,hE:()=>G});var s=n(67787),p=n(65609),N=n(95549),u=n(38502),B=n(53732),ee=n.n(B),V=n(72214);function D(I){let{className:v,renderIconList:C}=I;return(0,V.jsx)("span",{className:ee()("btn-icon",v),children:C.map((f,y)=>(0,V.jsx)("span",{className:"btn-icon-container",children:(0,V.jsx)(V.Fragment,{children:f})},y))})}const X=D;var M=n(22460);class R extends u.PureComponent{constructor(v){super(v),(0,N.A)(this,"getClassName",()=>{const{className:C,type:f,size:y,corner:h,disabled:b,icon:S,children:T}=this.props;return ee()(C,"button-root",{["type-"+f]:f,["size-"+y]:y,["corner-"+h]:h,"is-disabled":b,"has-icon":S&&T,"only-icon":S&&T===void 0})}),(0,N.A)(this,"onButtonClick",C=>{if(this.props.disabled){C.preventDefault();return}const{onClick:f}=this.props;f&&f(C)}),(0,N.A)(this,"getIconNode",()=>(0,V.jsx)(X,{renderIconList:this.state.iconList,className:this.props.className})),(0,N.A)(this,"getChildrenNode",()=>(0,V.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(v){let{icon:C}=v;const{icon:f}=this.props;C!==f&&this.setState({iconList:f?[this.props.icon]:[]})}render(){const v=this.getClassName(),C=this.getIconNode(),f=this.getChildrenNode();return(0,V.jsx)(M.O,{className:v,onClick:this.onButtonClick,children:(0,V.jsxs)("div",{className:ee()("btn-icon-text-container"),children:[C,f]})})}}(0,N.A)(R,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"});var de=n(33233);const O=(I,v)=>{const C=I.forceTheme;return C?de.fm[v]["value_"+C]:I.theme[v]},ue=(0,s.AH)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;font-size:13px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;font-size:13px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],I=>O(I,"color_text_btn"),I=>O(I,"color_btn_primary_normal"),I=>O(I,"color_btn_primary_hover"),I=>O(I,"color_btn_primary_clicked"),I=>O(I,"color_text_disabled02"),I=>O(I,"color_btn_primary_disabled"),I=>O(I,"color_text_L1"),I=>O(I,"color_bg_white"),I=>O(I,"color_bg_border_02"),I=>O(I,"color_btn_secondary_hover"),I=>O(I,"color_bg_border_02"),I=>O(I,"color_btn_secondary_active"),I=>O(I,"color_bg_border_02"),I=>O(I,"color_text_disabled01"),I=>O(I,"color_bg_white"),I=>O(I,"color_bg_border_02"),I=>O(I,"color_text_btn"),I=>O(I,"color_btn_danger_normal"),I=>O(I,"color_btn_danger_hover"),I=>O(I,"color_btn_danger_clicked"),I=>O(I,"color_text_disabled02"),I=>O(I,"color_btn_danger_disabled"),I=>O(I,"color_text_L1"),I=>O(I,"color_btn_secondary_hover"),I=>O(I,"color_btn_secondary_active"),I=>O(I,"color_text_disabled01")),W=(0,s.Ay)(p.A).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1pmgkeq-0"})(["",";"],ue),G=(0,s.Ay)(R).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1pmgkeq-1"})(["",";"],ue)},99129:(Ce,ce,n)=>{"use strict";n.d(ce,{F:()=>s});var s=function(N){return N.scrollTop}}}]);

//# sourceMappingURL=4.n9fxu-vendor-33bf84a7a123f8b08670.js.map